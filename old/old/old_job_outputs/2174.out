Category:  coch
Dataset:  all_sw_coch_preprocessed_v2_param_v29_augm_v0_cleaned_8000.pkl
File:  conv.train2174
Description:  pitchshifting_400_lowerlr
2021-06-01 02:21:55.374476: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcudart.so.11.0
WARNING:tensorflow:From /home/alirachidi/classification_algorithm/trainers/main/models/conv/modules/augmentation.py:18: experimental_run_functions_eagerly (from tensorflow.python.eager.def_function) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.config.run_functions_eagerly` instead of the experimental version.
2021-06-01 02:21:58.159437: I tensorflow/compiler/jit/xla_cpu_device.cc:41] Not creating XLA devices, tf_xla_enable_xla_devices not set
2021-06-01 02:21:58.160470: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcuda.so.1
2021-06-01 02:21:58.230159: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-01 02:21:58.231211: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1720] Found device 0 with properties: 
pciBusID: 0000:00:05.0 name: Tesla V100-SXM2-16GB computeCapability: 7.0
coreClock: 1.53GHz coreCount: 80 deviceMemorySize: 15.78GiB deviceMemoryBandwidth: 836.37GiB/s
2021-06-01 02:21:58.231267: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcudart.so.11.0
2021-06-01 02:21:58.236045: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcublas.so.11
2021-06-01 02:21:58.236196: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcublasLt.so.11
2021-06-01 02:21:58.237666: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcufft.so.10
2021-06-01 02:21:58.238105: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcurand.so.10
2021-06-01 02:21:58.239601: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcusolver.so.10
2021-06-01 02:21:58.240798: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcusparse.so.11
2021-06-01 02:21:58.241022: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcudnn.so.8
2021-06-01 02:21:58.241200: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-01 02:21:58.242424: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-01 02:21:58.243543: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1862] Adding visible gpu devices: 0
wandb: Currently logged in as: arachid1 (use `wandb login --relogin` to force relogin)
Tensorflow Version: 2.4.0
Num GPUs Available:  1
-----------------------
Using module located at /main/models/conv/train2174.py
Using train_file located at ../../data/datasets/all_sw_coch_preprocessed_v2_param_v29_augm_v0_cleaned_8000.pkl
Using logs_path located at ../../new_cache/conv__2174__06_0221__v29__pitchshifting_400_lowerlr/logs/
-----------------------
Collecting Variables...
Model Parameters: {'N_CLASSES': 1, 'SR': 8000, 'BATCH_SIZE': 16, 'LR': 0.0001, 'SHAPE': (128, 1250, 1), 'WEIGHT_DECAY': 0.001, 'LL2_REG': 0, 'EPSILON': 1e-07, 'LABEL_SMOOTHING': 0}
Learning Rate Parameters: {'factor': 0.25, 'patience': 4, 'min_lr': 1e-10}
Early Stopping Patience and Delta: 25, 0%
Six: False and Concat: False
-----------------------
wandb: wandb version 0.10.31 is available!  To upgrade, please run:
wandb:  $ pip install wandb --upgrade
wandb: Tracking run with wandb version 0.10.30
wandb: Syncing run train2174
wandb: ⭐️ View project at https://wandb.ai/arachid1/tensorboard-integration
wandb: 🚀 View run at https://wandb.ai/arachid1/tensorboard-integration/runs/1h6525wo
wandb: Run data is saved locally in /home/alirachidi/classification_algorithm/trainers/main/wandb/run-20210601_022158-1h6525wo
wandb: Run `wandb offline` to turn off syncing.
2021-06-01 02:22:04.338193: I tensorflow/compiler/jit/xla_gpu_device.cc:99] Not creating XLA devices, tf_xla_enable_xla_devices not set
2021-06-01 02:22:04.338522: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-01 02:22:04.339592: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1720] Found device 0 with properties: 
pciBusID: 0000:00:05.0 name: Tesla V100-SXM2-16GB computeCapability: 7.0
coreClock: 1.53GHz coreCount: 80 deviceMemorySize: 15.78GiB deviceMemoryBandwidth: 836.37GiB/s
2021-06-01 02:22:04.339662: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcudart.so.11.0
2021-06-01 02:22:04.339781: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcublas.so.11
2021-06-01 02:22:04.339828: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcublasLt.so.11
2021-06-01 02:22:04.339862: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcufft.so.10
2021-06-01 02:22:04.339904: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcurand.so.10
2021-06-01 02:22:04.339934: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcusolver.so.10
2021-06-01 02:22:04.339963: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcusparse.so.11
2021-06-01 02:22:04.339991: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcudnn.so.8
2021-06-01 02:22:04.340128: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-01 02:22:04.341172: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-01 02:22:04.342094: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1862] Adding visible gpu devices: 0
2021-06-01 02:22:04.342163: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcudart.so.11.0
2021-06-01 02:22:05.132443: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1261] Device interconnect StreamExecutor with strength 1 edge matrix:
2021-06-01 02:22:05.132499: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1267]      0 
2021-06-01 02:22:05.132516: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1280] 0:   N 
2021-06-01 02:22:05.132876: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-01 02:22:05.134133: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-01 02:22:05.135267: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-01 02:22:05.136326: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1406] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 14760 MB memory) -> physical GPU (device: 0, name: Tesla V100-SXM2-16GB, pci bus id: 0000:00:05.0, compute capability: 7.0)
2021-06-01 02:22:51.501349: I tensorflow/compiler/mlir/mlir_graph_optimization_pass.cc:116] None of the MLIR optimization passes are enabled (registered 2)
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
2021-06-01 02:22:51.503595: I tensorflow/core/platform/profile_utils/cpu_utils.cc:112] CPU Frequency: 2299995000 Hz
2021-06-01 02:22:51.887041: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcudnn.so.8
2021-06-01 02:22:53.792426: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcublas.so.11
2021-06-01 02:22:54.200444: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcublasLt.so.11

Original number of folders: 453
4196
Augmenting audios...
Length of training samples after augmentation: 4596
With concat = False and six = False, size of training set: 4596...
...and size of validation set: 1088
Model: "conv2d"
__________________________________________________________________________________________________
Layer (type)                    Output Shape         Param #     Connected to                     
==================================================================================================
input_1 (InputLayer)            [(None, 128, 1250, 1 0                                            
__________________________________________________________________________________________________
batch_normalization (BatchNorma (None, 128, 1250, 1) 4           input_1[0][0]                    
__________________________________________________________________________________________________
conv2d (Conv2D)                 (None, 128, 1250, 16 32          batch_normalization[0][0]        
__________________________________________________________________________________________________
conv2d_2 (Conv2D)               (None, 128, 1250, 16 32          batch_normalization[0][0]        
__________________________________________________________________________________________________
max_pooling2d (MaxPooling2D)    (None, 128, 1250, 1) 0           batch_normalization[0][0]        
__________________________________________________________________________________________________
conv2d_1 (Conv2D)               (None, 128, 1250, 16 2320        conv2d[0][0]                     
__________________________________________________________________________________________________
conv2d_3 (Conv2D)               (None, 128, 1250, 16 6416        conv2d_2[0][0]                   
__________________________________________________________________________________________________
conv2d_4 (Conv2D)               (None, 128, 1250, 16 32          max_pooling2d[0][0]              
__________________________________________________________________________________________________
concatenate (Concatenate)       (None, 128, 1250, 48 0           conv2d_1[0][0]                   
                                                                 conv2d_3[0][0]                   
                                                                 conv2d_4[0][0]                   
__________________________________________________________________________________________________
average_pooling2d (AveragePooli (None, 64, 625, 48)  0           concatenate[0][0]                
__________________________________________________________________________________________________
batch_normalization_1 (BatchNor (None, 64, 625, 48)  192         average_pooling2d[0][0]          
__________________________________________________________________________________________________
dropout (Dropout)               (None, 64, 625, 48)  0           batch_normalization_1[0][0]      
__________________________________________________________________________________________________
inverted_residual (InvertedResi (None, 64, 625, 32)  35840       dropout[0][0]                    
__________________________________________________________________________________________________
inverted_residual_1 (InvertedRe (None, 64, 625, 32)  20864       inverted_residual[0][0]          
__________________________________________________________________________________________________
average_pooling2d_1 (AveragePoo (None, 32, 312, 32)  0           inverted_residual_1[0][0]        
__________________________________________________________________________________________________
batch_normalization_2 (BatchNor (None, 32, 312, 32)  128         average_pooling2d_1[0][0]        
__________________________________________________________________________________________________
dropout_1 (Dropout)             (None, 32, 312, 32)  0           batch_normalization_2[0][0]      
__________________________________________________________________________________________________
inverted_residual_2 (InvertedRe (None, 32, 312, 64)  27136       dropout_1[0][0]                  
__________________________________________________________________________________________________
inverted_residual_3 (InvertedRe (None, 32, 312, 64)  66304       inverted_residual_2[0][0]        
__________________________________________________________________________________________________
average_pooling2d_2 (AveragePoo (None, 16, 156, 64)  0           inverted_residual_3[0][0]        
__________________________________________________________________________________________________
batch_normalization_3 (BatchNor (None, 16, 156, 64)  256         average_pooling2d_2[0][0]        
__________________________________________________________________________________________________
dropout_2 (Dropout)             (None, 16, 156, 64)  0           batch_normalization_3[0][0]      
__________________________________________________________________________________________________
inverted_residual_4 (InvertedRe (None, 16, 156, 128) 91136       dropout_2[0][0]                  
__________________________________________________________________________________________________
inverted_residual_5 (InvertedRe (None, 16, 156, 128) 230912      inverted_residual_4[0][0]        
__________________________________________________________________________________________________
average_pooling2d_3 (AveragePoo (None, 8, 78, 128)   0           inverted_residual_5[0][0]        
__________________________________________________________________________________________________
batch_normalization_4 (BatchNor (None, 8, 78, 128)   512         average_pooling2d_3[0][0]        
__________________________________________________________________________________________________
dropout_3 (Dropout)             (None, 8, 78, 128)   0           batch_normalization_4[0][0]      
__________________________________________________________________________________________________
inverted_residual_6 (InvertedRe (None, 8, 78, 256)   329728      dropout_3[0][0]                  
__________________________________________________________________________________________________
inverted_residual_7 (InvertedRe (None, 8, 78, 256)   855040      inverted_residual_6[0][0]        
__________________________________________________________________________________________________
average_pooling2d_4 (AveragePoo (None, 4, 39, 256)   0           inverted_residual_7[0][0]        
__________________________________________________________________________________________________
batch_normalization_5 (BatchNor (None, 4, 39, 256)   1024        average_pooling2d_4[0][0]        
__________________________________________________________________________________________________
dropout_4 (Dropout)             (None, 4, 39, 256)   0           batch_normalization_5[0][0]      
__________________________________________________________________________________________________
inverted_residual_8 (InvertedRe (None, 4, 39, 512)   1249280     dropout_4[0][0]                  
__________________________________________________________________________________________________
inverted_residual_9 (InvertedRe (None, 4, 39, 512)   3282944     inverted_residual_8[0][0]        
__________________________________________________________________________________________________
global_average_pooling2d (Globa (None, 512)          0           inverted_residual_9[0][0]        
__________________________________________________________________________________________________
dense (Dense)                   (None, 1)            513         global_average_pooling2d[0][0]   
==================================================================================================
Total params: 6,200,645
Trainable params: 6,159,139
Non-trainable params: 41,506
__________________________________________________________________________________________________
Epoch 1/80
288/288 - 147s - loss: 0.6605 - accuracy: 0.6591 - val_loss: 0.5009 - val_accuracy: 0.7996
Confusion matrix: 
 [[870   0]
 [218   0]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/sklearn/metrics/_classification.py:1272: UndefinedMetricWarning: Precision and F-score are ill-defined and being set to 0.0 due to no predicted samples. Use `zero_division` parameter to control this behavior.
  _warn_prf(average, modifier, msg_start, len(result))
Validation f1: 0.00
Validation accuracy: 79.96
Validation recall: 0.00
Validation precision: 0.00
Validation AUC: 0.219997871951924
Validation class accuracies: [1.0, 0.0]
TARGET: 1
target metric(test f1): 0.0
column_sums: [1088    0]
cm_sum: 1088
The training is defaulting to either class.
Epoch 2/80
288/288 - 144s - loss: 0.5913 - accuracy: 0.7178 - val_loss: 0.5023 - val_accuracy: 0.7996
Confusion matrix: 
 [[870   0]
 [218   0]]
Validation f1: 0.00
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/sklearn/metrics/_classification.py:1272: UndefinedMetricWarning: Precision and F-score are ill-defined and being set to 0.0 due to no predicted samples. Use `zero_division` parameter to control this behavior.
  _warn_prf(average, modifier, msg_start, len(result))
Validation accuracy: 79.96
Validation recall: 0.00
Validation precision: 0.00
Validation AUC: 0.20876779883696173
Validation class accuracies: [1.0, 0.0]
TARGET: 1
target metric(test f1): 0.0
column_sums: [1088    0]
cm_sum: 1088
The training is defaulting to either class.
Epoch 3/80
288/288 - 148s - loss: 0.5746 - accuracy: 0.7241 - val_loss: 0.5319 - val_accuracy: 0.7849
Confusion matrix: 
 [[845  25]
 [209   9]]
Validation f1: 7.14
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation accuracy: 78.49
Validation recall: 4.13
Validation precision: 26.47
Validation AUC: 0.22248125242890357
Validation class accuracies: [0.9712643678160919, 0.04128440366972477]
TARGET: 1
target metric(test f1): 0.07142857142857142
column_sums: [1054   34]
cm_sum: 1088
The training is defaulting to either class.
Epoch 4/80
288/288 - 148s - loss: 0.5693 - accuracy: 0.7252 - val_loss: 0.5412 - val_accuracy: 0.7693
Confusion matrix: 
 [[831  39]
 [212   6]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 4.56
Validation accuracy: 76.93
Validation recall: 2.75
Validation precision: 13.33
Validation AUC: 0.21181597058540064
Validation class accuracies: [0.9551724137931035, 0.027522935779816515]
TARGET: 1
target metric(test f1): 0.045627376425855515
column_sums: [1043   45]
cm_sum: 1088
The training is defaulting to either class.
Epoch 5/80
288/288 - 148s - loss: 0.5589 - accuracy: 0.7274 - val_loss: 0.5295 - val_accuracy: 0.7904
Confusion matrix: 
 [[854  16]
 [212   6]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 5.00
Validation accuracy: 79.04
Validation recall: 2.75
Validation precision: 27.27
Validation AUC: 0.19318468819451617
Validation class accuracies: [0.9816091954022989, 0.027522935779816515]
TARGET: 1
target metric(test f1): 0.05
column_sums: [1066   22]
cm_sum: 1088
The training is defaulting to either class.
Epoch 6/80
288/288 - 147s - loss: 0.5527 - accuracy: 0.7295 - val_loss: 0.5440 - val_accuracy: 0.7757
Confusion matrix: 
 [[843  27]
 [217   1]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 0.81
Validation accuracy: 77.57
Validation recall: 0.46
Validation precision: 3.57
Validation AUC: 0.184865273718922
Validation class accuracies: [0.9689655172413794, 0.0045871559633027525]
TARGET: 1
target metric(test f1): 0.008130081300813009
column_sums: [1060   28]
cm_sum: 1088
The training is defaulting to either class.
Epoch 7/80
288/288 - 147s - loss: 0.5400 - accuracy: 0.7350 - val_loss: 0.5981 - val_accuracy: 0.7436
Confusion matrix: 
 [[798  72]
 [207  11]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 7.31
Validation accuracy: 74.36
Validation recall: 5.05
Validation precision: 13.25
Validation AUC: 0.19443618602354912
Validation class accuracies: [0.9172413793103448, 0.05045871559633028]
TARGET: 1
target metric(test f1): 0.07308970099667775
column_sums: [1005   83]
cm_sum: 1088
The training is defaulting to either class.
Epoch 8/80
288/288 - 148s - loss: 0.5263 - accuracy: 0.7461 - val_loss: 0.6849 - val_accuracy: 0.7803
Confusion matrix: 
 [[843  27]
 [212   6]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 4.78
Validation accuracy: 78.03
Validation recall: 2.75
Validation precision: 18.18
Validation AUC: 0.1854074652180751
Validation class accuracies: [0.9689655172413794, 0.027522935779816515]
TARGET: 1
target metric(test f1): 0.04780876494023905
column_sums: [1055   33]
cm_sum: 1088
The training is defaulting to either class.
Epoch 9/80
288/288 - 147s - loss: 0.5100 - accuracy: 0.7570 - val_loss: 0.5893 - val_accuracy: 0.7803
Confusion matrix: 
 [[841  29]
 [210   8]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 6.27
Validation accuracy: 78.03
Validation recall: 3.67
Validation precision: 21.62
Validation AUC: 0.20493675125669614
Validation class accuracies: [0.9666666666666667, 0.03669724770642202]
TARGET: 1
target metric(test f1): 0.06274509803921569
column_sums: [1051   37]
cm_sum: 1088
The training is defaulting to either class.
Epoch 10/80
288/288 - 147s - loss: 0.4894 - accuracy: 0.7644 - val_loss: 0.5438 - val_accuracy: 0.7629
Confusion matrix: 
 [[821  49]
 [209   9]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 6.52
Validation accuracy: 76.29
Validation recall: 4.13
Validation precision: 15.52
Validation AUC: 0.21457228906287001
Validation class accuracies: [0.9436781609195403, 0.04128440366972477]
TARGET: 1
target metric(test f1): 0.06521739130434784
column_sums: [1030   58]
cm_sum: 1088
The training is defaulting to either class.
Epoch 11/80
288/288 - 147s - loss: 0.4533 - accuracy: 0.7876 - val_loss: 0.7373 - val_accuracy: 0.6801
Confusion matrix: 
 [[697 173]
 [175  43]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 19.82
Validation accuracy: 68.01
Validation recall: 19.72
Validation precision: 19.91
Validation AUC: 0.21032258534228732
Validation class accuracies: [0.8011494252873563, 0.19724770642201836]
TARGET: 1
target metric(test f1): 0.19815668202764977
column_sums: [872 216]
cm_sum: 1088
inside not defaulting
Saving model...
Epoch 12/80
288/288 - 148s - loss: 0.4247 - accuracy: 0.8029 - val_loss: 0.7269 - val_accuracy: 0.7564
Confusion matrix: 
 [[808  62]
 [203  15]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 10.17
Validation accuracy: 75.64
Validation recall: 6.88
Validation precision: 19.48
Validation AUC: 0.21126779138098514
Validation class accuracies: [0.9287356321839081, 0.06880733944954129]
TARGET: 1
target metric(test f1): 0.10169491525423731
column_sums: [1011   77]
cm_sum: 1088
The training is defaulting to either class.
Epoch 13/80
288/288 - 147s - loss: 0.3924 - accuracy: 0.8229 - val_loss: 0.8027 - val_accuracy: 0.6131
Confusion matrix: 
 [[604 266]
 [155  63]]
Validation f1: 23.03
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation accuracy: 61.31
Validation recall: 28.90
Validation precision: 19.15
Validation AUC: 0.1977139345173956
Validation class accuracies: [0.6942528735632184, 0.2889908256880734]
TARGET: 1
target metric(test f1): 0.2303473491773309
column_sums: [759 329]
cm_sum: 1088
inside not defaulting
Saving model...
Epoch 14/80
288/288 - 147s - loss: 0.3653 - accuracy: 0.8401 - val_loss: 0.7174 - val_accuracy: 0.7711
Confusion matrix: 
 [[828  42]
 [207  11]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 8.12
Validation accuracy: 77.11
Validation recall: 5.05
Validation precision: 20.75
Validation AUC: 0.21078224488565245
Validation class accuracies: [0.9517241379310345, 0.05045871559633028]
TARGET: 1
target metric(test f1): 0.08118081180811809
column_sums: [1035   53]
cm_sum: 1088
The training is defaulting to either class.
Epoch 15/80
288/288 - 147s - loss: 0.3292 - accuracy: 0.8603 - val_loss: 1.8682 - val_accuracy: 0.2987
Confusion matrix: 
 [[128 742]
 [ 21 197]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 34.05
Validation accuracy: 29.87
Validation recall: 90.37
Validation precision: 20.98
Validation AUC: 0.24146110078754418
Validation class accuracies: [0.1471264367816092, 0.9036697247706422]
TARGET: 1
target metric(test f1): 0.34053586862575624
column_sums: [149 939]
cm_sum: 1088
inside not defaulting
Saving model...
Epoch 16/80
288/288 - 140s - loss: 0.2897 - accuracy: 0.8821 - val_loss: 1.0044 - val_accuracy: 0.5653
Confusion matrix: 
 [[534 336]
 [137  81]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 25.51
Validation accuracy: 56.53
Validation recall: 37.16
Validation precision: 19.42
Validation AUC: 0.21348534576516193
Validation class accuracies: [0.6137931034482759, 0.37155963302752293]
TARGET: 1
target metric(test f1): 0.2551181102362205
column_sums: [671 417]
cm_sum: 1088
inside not defaulting
The validation tracker metric at 0.34053586862575624 hasn't increased by 0 in 1 epochs
Epoch 17/80
288/288 - 138s - loss: 0.2544 - accuracy: 0.8995 - val_loss: 0.9226 - val_accuracy: 0.6388
Confusion matrix: 
 [[654 216]
 [177  41]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 17.26
Validation accuracy: 63.88
Validation recall: 18.81
Validation precision: 15.95
Validation AUC: 0.1911949888962144
Validation class accuracies: [0.7517241379310344, 0.18807339449541285]
TARGET: 1
target metric(test f1): 0.1726315789473684
column_sums: [831 257]
cm_sum: 1088
inside not defaulting
The validation tracker metric at 0.34053586862575624 hasn't increased by 0 in 2 epochs
Epoch 18/80
288/288 - 145s - loss: 0.2346 - accuracy: 0.9030 - val_loss: 1.3258 - val_accuracy: 0.5322
Confusion matrix: 
 [[457 413]
 [ 96 122]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 32.40
Validation accuracy: 53.22
Validation recall: 55.96
Validation precision: 22.80
Validation AUC: 0.22414004452117167
Validation class accuracies: [0.5252873563218391, 0.5596330275229358]
TARGET: 1
target metric(test f1): 0.32403718459495356
column_sums: [553 535]
cm_sum: 1088
inside not defaulting
The validation tracker metric at 0.34053586862575624 hasn't increased by 0 in 3 epochs
Epoch 19/80
288/288 - 147s - loss: 0.2193 - accuracy: 0.9151 - val_loss: 1.0283 - val_accuracy: 0.7233
Confusion matrix: 
 [[766 104]
 [197  21]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 12.24
Validation accuracy: 72.33
Validation recall: 9.63
Validation precision: 16.80
Validation AUC: 0.2049787541868497
Validation class accuracies: [0.8804597701149425, 0.0963302752293578]
TARGET: 1
target metric(test f1): 0.12244897959183673
column_sums: [963 125]
cm_sum: 1088
inside not defaulting
Lr has been adjusted to 2.499999936844688e-05
The validation tracker metric at 0.34053586862575624 hasn't increased by 0 in 4 epochs
Epoch 20/80
288/288 - 150s - loss: 0.1664 - accuracy: 0.9421 - val_loss: 1.0319 - val_accuracy: 0.7151
Confusion matrix: 
 [[753 117]
 [193  25]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 13.89
Validation accuracy: 71.51
Validation recall: 11.47
Validation precision: 17.61
Validation AUC: 0.2011532788348706
Validation class accuracies: [0.8655172413793103, 0.11467889908256881]
TARGET: 1
target metric(test f1): 0.13888888888888892
column_sums: [946 142]
cm_sum: 1088
inside not defaulting
The validation tracker metric at 0.34053586862575624 hasn't increased by 0 in 5 epochs
Epoch 21/80
288/288 - 153s - loss: 0.1543 - accuracy: 0.9447 - val_loss: 0.9954 - val_accuracy: 0.7197
Confusion matrix: 
 [[761 109]
 [196  22]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 12.61
Validation accuracy: 71.97
Validation recall: 10.09
Validation precision: 16.79
Validation AUC: 0.21026660169913763
Validation class accuracies: [0.8747126436781609, 0.10091743119266056]
TARGET: 1
target metric(test f1): 0.12607449856733524
column_sums: [957 131]
cm_sum: 1088
inside not defaulting
The validation tracker metric at 0.34053586862575624 hasn't increased by 0 in 6 epochs
Epoch 22/80
288/288 - 150s - loss: 0.1351 - accuracy: 0.9517 - val_loss: 1.1377 - val_accuracy: 0.6029
Confusion matrix: 
 [[578 292]
 [140  78]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 26.53
Validation accuracy: 60.29
Validation recall: 35.78
Validation precision: 21.08
Validation AUC: 0.20726097726651677
Validation class accuracies: [0.664367816091954, 0.3577981651376147]
TARGET: 1
target metric(test f1): 0.2653061224489796
column_sums: [718 370]
cm_sum: 1088
inside not defaulting
The validation tracker metric at 0.34053586862575624 hasn't increased by 0 in 7 epochs
Epoch 23/80
288/288 - 152s - loss: 0.1509 - accuracy: 0.9460 - val_loss: 1.0649 - val_accuracy: 0.6461
Confusion matrix: 
 [[655 215]
 [170  48]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 19.96
Validation accuracy: 64.61
Validation recall: 22.02
Validation precision: 18.25
Validation AUC: 0.2067617920400705
Validation class accuracies: [0.7528735632183908, 0.22018348623853212]
TARGET: 1
target metric(test f1): 0.1995841995841996
column_sums: [825 263]
cm_sum: 1088
inside not defaulting
Lr has been adjusted to 6.24999984211172e-06
The validation tracker metric at 0.34053586862575624 hasn't increased by 0 in 8 epochs
Epoch 24/80
288/288 - 157s - loss: 0.1385 - accuracy: 0.9523 - val_loss: 1.0484 - val_accuracy: 0.6783
Confusion matrix: 
 [[703 167]
 [183  35]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 16.67
Validation accuracy: 67.83
Validation recall: 16.06
Validation precision: 17.33
Validation AUC: 0.20345955129973997
Validation class accuracies: [0.8080459770114943, 0.16055045871559634]
TARGET: 1
target metric(test f1): 0.16666666666666669
column_sums: [886 202]
cm_sum: 1088
inside not defaulting
The validation tracker metric at 0.34053586862575624 hasn't increased by 0 in 9 epochs
Epoch 25/80
288/288 - 158s - loss: 0.1260 - accuracy: 0.9608 - val_loss: 1.0599 - val_accuracy: 0.6691
Confusion matrix: 
 [[688 182]
 [178  40]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 18.18
Validation accuracy: 66.91
Validation recall: 18.35
Validation precision: 18.02
Validation AUC: 0.20824169746201532
Validation class accuracies: [0.7908045977011494, 0.1834862385321101]
TARGET: 1
target metric(test f1): 0.18181818181818182
column_sums: [866 222]
cm_sum: 1088
inside not defaulting
The validation tracker metric at 0.34053586862575624 hasn't increased by 0 in 10 epochs
Epoch 26/80
288/288 - 159s - loss: 0.1292 - accuracy: 0.9565 - val_loss: 1.0766 - val_accuracy: 0.6388
Confusion matrix: 
 [[649 221]
 [172  46]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 18.97
Validation accuracy: 63.88
Validation recall: 21.10
Validation precision: 17.23
Validation AUC: 0.2067281448645132
Validation class accuracies: [0.7459770114942529, 0.21100917431192662]
TARGET: 1
target metric(test f1): 0.1896907216494845
column_sums: [821 267]
cm_sum: 1088
inside not defaulting
The validation tracker metric at 0.34053586862575624 hasn't increased by 0 in 11 epochs
Epoch 27/80
288/288 - 158s - loss: 0.1370 - accuracy: 0.9539 - val_loss: 1.0732 - val_accuracy: 0.6581
Confusion matrix: 
 [[672 198]
 [174  44]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 19.13
Validation accuracy: 65.81
Validation recall: 20.18
Validation precision: 18.18
Validation AUC: 0.20276231472334683
Validation class accuracies: [0.7724137931034483, 0.2018348623853211]
TARGET: 1
target metric(test f1): 0.19130434782608696
column_sums: [846 242]
cm_sum: 1088
inside not defaulting
Lr has been adjusted to 1.56249996052793e-06
The validation tracker metric at 0.34053586862575624 hasn't increased by 0 in 12 epochs
Epoch 28/80
288/288 - 159s - loss: 0.1245 - accuracy: 0.9587 - val_loss: 1.0882 - val_accuracy: 0.6425
Confusion matrix: 
 [[650 220]
 [169  49]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 20.12
Validation accuracy: 64.25
Validation recall: 22.48
Validation precision: 18.22
Validation AUC: 0.20297518936743023
Validation class accuracies: [0.7471264367816092, 0.22477064220183487]
TARGET: 1
target metric(test f1): 0.20123203285420946
column_sums: [819 269]
cm_sum: 1088
inside not defaulting
The validation tracker metric at 0.34053586862575624 hasn't increased by 0 in 13 epochs
Epoch 29/80
288/288 - 159s - loss: 0.1227 - accuracy: 0.9569 - val_loss: 1.0791 - val_accuracy: 0.6507
Confusion matrix: 
 [[659 211]
 [169  49]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 20.50
Validation accuracy: 65.07
Validation recall: 22.48
Validation precision: 18.85
Validation AUC: 0.20283305533033302
Validation class accuracies: [0.7574712643678161, 0.22477064220183487]
TARGET: 1
target metric(test f1): 0.20502092050209206
column_sums: [828 260]
cm_sum: 1088
inside not defaulting
The validation tracker metric at 0.34053586862575624 hasn't increased by 0 in 14 epochs
Epoch 30/80
288/288 - 158s - loss: 0.1213 - accuracy: 0.9593 - val_loss: 1.0822 - val_accuracy: 0.6397
Confusion matrix: 
 [[649 221]
 [171  47]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 19.34
Validation accuracy: 63.97
Validation recall: 21.56
Validation precision: 17.54
Validation AUC: 0.20250829294422762
Validation class accuracies: [0.7459770114942529, 0.21559633027522937]
TARGET: 1
target metric(test f1): 0.19341563786008228
column_sums: [820 268]
cm_sum: 1088
inside not defaulting
The validation tracker metric at 0.34053586862575624 hasn't increased by 0 in 15 epochs
Epoch 31/80
288/288 - 164s - loss: 0.1112 - accuracy: 0.9654 - val_loss: 1.1223 - val_accuracy: 0.6232
Confusion matrix: 
 [[623 247]
 [163  55]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 21.15
Validation accuracy: 62.32
Validation recall: 25.23
Validation precision: 18.21
Validation AUC: 0.20026300754514936
Validation class accuracies: [0.7160919540229885, 0.25229357798165136]
TARGET: 1
target metric(test f1): 0.2115384615384615
column_sums: [786 302]
cm_sum: 1088
inside not defaulting
Lr has been adjusted to 3.906249901319825e-07
The validation tracker metric at 0.34053586862575624 hasn't increased by 0 in 16 epochs
Epoch 32/80
288/288 - 161s - loss: 0.1232 - accuracy: 0.9582 - val_loss: 1.0951 - val_accuracy: 0.6379
Confusion matrix: 
 [[645 225]
 [169  49]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 19.92
Validation accuracy: 63.79
Validation recall: 22.48
Validation precision: 17.88
Validation AUC: 0.1980688065505717
Validation class accuracies: [0.7413793103448276, 0.22477064220183487]
TARGET: 1
target metric(test f1): 0.1991869918699187
column_sums: [814 274]
cm_sum: 1088
inside not defaulting
The validation tracker metric at 0.34053586862575624 hasn't increased by 0 in 17 epochs
Epoch 33/80
288/288 - 162s - loss: 0.1257 - accuracy: 0.9578 - val_loss: 1.0780 - val_accuracy: 0.6461
Confusion matrix: 
 [[654 216]
 [169  49]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 20.29
Validation accuracy: 64.61
Validation recall: 22.48
Validation precision: 18.49
Validation AUC: 0.20479730322326892
Validation class accuracies: [0.7517241379310344, 0.22477064220183487]
TARGET: 1
target metric(test f1): 0.20289855072463767
column_sums: [823 265]
cm_sum: 1088
inside not defaulting
The validation tracker metric at 0.34053586862575624 hasn't increased by 0 in 18 epochs
Epoch 34/80
288/288 - 165s - loss: 0.1194 - accuracy: 0.9621 - val_loss: 1.0750 - val_accuracy: 0.6498
Confusion matrix: 
 [[658 212]
 [169  49]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 20.46
Validation accuracy: 64.98
Validation recall: 22.48
Validation precision: 18.77
Validation AUC: 0.20533594691505072
Validation class accuracies: [0.7563218390804598, 0.22477064220183487]
TARGET: 1
target metric(test f1): 0.2045929018789144
column_sums: [827 261]
cm_sum: 1088
inside not defaulting
The validation tracker metric at 0.34053586862575624 hasn't increased by 0 in 19 epochs
Epoch 35/80
288/288 - 166s - loss: 0.1254 - accuracy: 0.9569 - val_loss: 1.0903 - val_accuracy: 0.6425
Confusion matrix: 
 [[651 219]
 [170  48]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 19.79
Validation accuracy: 64.25
Validation recall: 22.02
Validation precision: 17.98
Validation AUC: 0.20227854553513225
Validation class accuracies: [0.7482758620689656, 0.22018348623853212]
TARGET: 1
target metric(test f1): 0.19793814432989693
column_sums: [821 267]
cm_sum: 1088
inside not defaulting
Lr has been adjusted to 9.765624753299562e-08
The validation tracker metric at 0.34053586862575624 hasn't increased by 0 in 20 epochs
Epoch 36/80
288/288 - 166s - loss: 0.1165 - accuracy: 0.9617 - val_loss: 1.0780 - val_accuracy: 0.6461
Confusion matrix: 
 [[654 216]
 [169  49]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 20.29
Validation accuracy: 64.61
Validation recall: 22.48
Validation precision: 18.49
Validation AUC: 0.2053651653325239
Validation class accuracies: [0.7517241379310344, 0.22477064220183487]
TARGET: 1
target metric(test f1): 0.20289855072463767
column_sums: [823 265]
cm_sum: 1088
inside not defaulting
The validation tracker metric at 0.34053586862575624 hasn't increased by 0 in 21 epochs
Epoch 37/80
288/288 - 168s - loss: 0.1268 - accuracy: 0.9595 - val_loss: 1.0835 - val_accuracy: 0.6517
Confusion matrix: 
 [[661 209]
 [170  48]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 20.21
Validation accuracy: 65.17
Validation recall: 22.02
Validation precision: 18.68
Validation AUC: 0.20384226072678688
Validation class accuracies: [0.7597701149425288, 0.22018348623853212]
local_gc_exec.sh: line 6: 23489 Killed                  python -m models.$MODULE_NAME --train-file $LOCAL_TRAIN_FILE --job-dir $LOCAL_JOB_DIR --params "$PARAMS" --wav-params "$WAV_PARAMS" --spec-params "$SPEC_PARAMS"

 See logs at ../../new_cache/conv__2174__06_0221__v29__pitchshifting_400_lowerlr/logs//home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/multiprocessing/semaphore_tracker.py:144: UserWarning: semaphore_tracker: There appear to be 6 leaked semaphores to clean up at shutdown
  len(cache))
