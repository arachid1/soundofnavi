Category:  coch
Dataset:  all_sw_coch_preprocessed_v2_param_v39_augm_v0_cleaned_8000.pkl
File:  conv.train2216
Description:  icbhi_pneumonia_test
2021-06-15 04:02:16.021047: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcudart.so.11.0
WARNING:tensorflow:From /home/alirachidi/classification_algorithm/trainers/main/models/conv/modules/augmentation.py:19: experimental_run_functions_eagerly (from tensorflow.python.eager.def_function) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.config.run_functions_eagerly` instead of the experimental version.
2021-06-15 04:02:18.233584: I tensorflow/compiler/jit/xla_cpu_device.cc:41] Not creating XLA devices, tf_xla_enable_xla_devices not set
2021-06-15 04:02:18.234618: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcuda.so.1
2021-06-15 04:02:18.281737: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-15 04:02:18.282450: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1720] Found device 0 with properties: 
pciBusID: 0000:00:04.0 name: Tesla T4 computeCapability: 7.5
coreClock: 1.59GHz coreCount: 40 deviceMemorySize: 14.75GiB deviceMemoryBandwidth: 298.08GiB/s
2021-06-15 04:02:18.282481: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcudart.so.11.0
2021-06-15 04:02:18.286123: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcublas.so.11
2021-06-15 04:02:18.286218: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcublasLt.so.11
2021-06-15 04:02:18.287388: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcufft.so.10
2021-06-15 04:02:18.287722: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcurand.so.10
2021-06-15 04:02:18.288773: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcusolver.so.10
2021-06-15 04:02:18.289691: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcusparse.so.11
2021-06-15 04:02:18.289881: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcudnn.so.8
2021-06-15 04:02:18.289997: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-15 04:02:18.290792: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-15 04:02:18.291483: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1862] Adding visible gpu devices: 0
Tensorflow Version: 2.4.0
Num GPUs Available:  1
-----------------------
Using module: nv/train2216.py
Using train_file: ../../data/datasets/all_sw_coch_preprocessed_v2_param_v39_augm_v0_cleaned_8000.pkl
Job directory: ../../new_cache/conv__2216__06_0401__v39__icbhi_pneumonia_test
Parameters: {'N_CLASSES': 1, 'SR': 8000, 'BATCH_SIZE': 16, 'LR': 0.0001, 'SHAPE': [128, 1250], 'LL2_REG': 0, 'WEIGHT_DECAY': 0.001, 'N_EPOCHS': 120, 'FACTOR': 0.75, 'PATIENCE': 6, 'MIN_LR': 1e-07, 'LABEL_SMOOTHING': 0, 'EPSILON': 1e-07, 'ES_PATIENCE': 50, 'OVERSAMPLE': 0, 'MIN_DELTA': 0, 'PARAM': 'v39', 'EPOCH_START': 1, 'CLAUSE': 1, 'CUBEROOTING': 1, 'AUGMENTATION': 0, 'TARGET': 1, 'INITIAL_CHANNELS': 1, 'ADAPTIVE_LR': 1, 'CLASS_WEIGHTS': 1, 'SIX': 0, 'CONCAT': 0, 'TESTING': 0}
Augmentation parameters for audio: {'ADD': 1, 'QUANTITY': 250, 'WAV_PATH': 'v36,v37'}
Augmentation parameters for spectrograms: {'ADD': 1, 'QUANTITY': 150, 'TIME_MASKING': 1, 'FREQUENCY_MASKING': 1, 'LOUDNESS': 0}
-----------------------
Collecting Variables...
All variables have been collected.
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow_addons/utils/ensure_tf_install.py:68: UserWarning: Tensorflow Addons supports using Python ops for all Tensorflow versions above or equal to 2.2.0 and strictly below 2.3.0 (nightly versions are not supported). 
 The versions of TensorFlow you are currently using is 2.4.0 and is not supported. 
Some things might work, some things might not.
If you were to encounter a bug, do not file an issue.
If you want to make sure you're using a tested and supported configuration, either change the TensorFlow version or the TensorFlow Addons's version. 
You can find the compatibility matrix in TensorFlow Addon's readme:
https://github.com/tensorflow/addons
  UserWarning,
wandb: W&B syncing is set to `offline` in this directory.  Run `wandb online` or set WANDB_MODE=online to enable cloud syncing.
2021-06-15 04:02:22.986536: I tensorflow/compiler/jit/xla_gpu_device.cc:99] Not creating XLA devices, tf_xla_enable_xla_devices not set
2021-06-15 04:02:22.986823: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-15 04:02:22.987535: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1720] Found device 0 with properties: 
pciBusID: 0000:00:04.0 name: Tesla T4 computeCapability: 7.5
coreClock: 1.59GHz coreCount: 40 deviceMemorySize: 14.75GiB deviceMemoryBandwidth: 298.08GiB/s
2021-06-15 04:02:22.987582: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcudart.so.11.0
2021-06-15 04:02:22.987645: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcublas.so.11
2021-06-15 04:02:22.987669: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcublasLt.so.11
2021-06-15 04:02:22.987698: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcufft.so.10
2021-06-15 04:02:22.987745: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcurand.so.10
2021-06-15 04:02:22.987767: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcusolver.so.10
2021-06-15 04:02:22.987788: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcusparse.so.11
2021-06-15 04:02:22.987810: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcudnn.so.8
2021-06-15 04:02:22.987899: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-15 04:02:22.988578: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-15 04:02:22.989202: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1862] Adding visible gpu devices: 0
2021-06-15 04:02:22.989243: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcudart.so.11.0
2021-06-15 04:02:23.681954: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1261] Device interconnect StreamExecutor with strength 1 edge matrix:
2021-06-15 04:02:23.681994: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1267]      0 
2021-06-15 04:02:23.682003: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1280] 0:   N 
2021-06-15 04:02:23.682280: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-15 04:02:23.683079: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-15 04:02:23.683799: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-15 04:02:23.684523: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1406] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 13968 MB memory) -> physical GPU (device: 0, name: Tesla T4, pci bus id: 0000:00:04.0, compute capability: 7.5)
Pneumonia patients: 148, Non-pneumonia patients: 2873
The initial learning rate for this job is: 0.001
Initializing weights...
weights = {0: 0.5257570483814827, 1: 10.20608108108108}
Model: "conv2d"
______________________________________________________________________________________________________________
Layer (type)                        Output Shape            Param #      Connected to                         
==============================================================================================================
input_1 (InputLayer)                [(None, 128, 1250, 1)]  0                                                 
______________________________________________________________________________________________________________
batch_normalization (BatchNormaliza (None, 128, 1250, 1)    4            input_1[0][0]                        
______________________________________________________________________________________________________________
conv2d (Conv2D)                     (None, 128, 1250, 16)   32           batch_normalization[0][0]            
______________________________________________________________________________________________________________
conv2d_2 (Conv2D)                   (None, 128, 1250, 16)   32           batch_normalization[0][0]            
______________________________________________________________________________________________________________
max_pooling2d (MaxPooling2D)        (None, 128, 1250, 1)    0            batch_normalization[0][0]            
______________________________________________________________________________________________________________
conv2d_1 (Conv2D)                   (None, 128, 1250, 16)   2320         conv2d[0][0]                         
______________________________________________________________________________________________________________
conv2d_3 (Conv2D)                   (None, 128, 1250, 16)   6416         conv2d_2[0][0]                       
______________________________________________________________________________________________________________
conv2d_4 (Conv2D)                   (None, 128, 1250, 16)   32           max_pooling2d[0][0]                  
______________________________________________________________________________________________________________
concatenate (Concatenate)           (None, 128, 1250, 48)   0            conv2d_1[0][0]                       
                                                                         conv2d_3[0][0]                       
                                                                         conv2d_4[0][0]                       
______________________________________________________________________________________________________________
average_pooling2d (AveragePooling2D (None, 64, 625, 48)     0            concatenate[0][0]                    
______________________________________________________________________________________________________________
batch_normalization_1 (BatchNormali (None, 64, 625, 48)     192          average_pooling2d[0][0]              
______________________________________________________________________________________________________________
dropout (Dropout)                   (None, 64, 625, 48)     0            batch_normalization_1[0][0]          
______________________________________________________________________________________________________________
inverted_residual (InvertedResidual (None, 64, 625, 32)     35840        dropout[0][0]                        
______________________________________________________________________________________________________________
inverted_residual_1 (InvertedResidu (None, 64, 625, 32)     20864        inverted_residual[0][0]              
______________________________________________________________________________________________________________
average_pooling2d_1 (AveragePooling (None, 32, 312, 32)     0            inverted_residual_1[0][0]            
______________________________________________________________________________________________________________
batch_normalization_2 (BatchNormali (None, 32, 312, 32)     128          average_pooling2d_1[0][0]            
______________________________________________________________________________________________________________
dropout_1 (Dropout)                 (None, 32, 312, 32)     0            batch_normalization_2[0][0]          
______________________________________________________________________________________________________________
inverted_residual_2 (InvertedResidu (None, 32, 312, 64)     27136        dropout_1[0][0]                      
______________________________________________________________________________________________________________
inverted_residual_3 (InvertedResidu (None, 32, 312, 64)     66304        inverted_residual_2[0][0]            
______________________________________________________________________________________________________________
average_pooling2d_2 (AveragePooling (None, 16, 156, 64)     0            inverted_residual_3[0][0]            
______________________________________________________________________________________________________________
batch_normalization_3 (BatchNormali (None, 16, 156, 64)     256          average_pooling2d_2[0][0]            
______________________________________________________________________________________________________________
dropout_2 (Dropout)                 (None, 16, 156, 64)     0            batch_normalization_3[0][0]          
______________________________________________________________________________________________________________
inverted_residual_4 (InvertedResidu (None, 16, 156, 128)    91136        dropout_2[0][0]                      
______________________________________________________________________________________________________________
inverted_residual_5 (InvertedResidu (None, 16, 156, 128)    230912       inverted_residual_4[0][0]            
______________________________________________________________________________________________________________
average_pooling2d_3 (AveragePooling (None, 8, 78, 128)      0            inverted_residual_5[0][0]            
______________________________________________________________________________________________________________
batch_normalization_4 (BatchNormali (None, 8, 78, 128)      512          average_pooling2d_3[0][0]            
______________________________________________________________________________________________________________
dropout_3 (Dropout)                 (None, 8, 78, 128)      0            batch_normalization_4[0][0]          
______________________________________________________________________________________________________________
inverted_residual_6 (InvertedResidu (None, 8, 78, 256)      329728       dropout_3[0][0]                      
______________________________________________________________________________________________________________
inverted_residual_7 (InvertedResidu (None, 8, 78, 256)      855040       inverted_residual_6[0][0]            
______________________________________________________________________________________________________________
average_pooling2d_4 (AveragePooling (None, 4, 39, 256)      0            inverted_residual_7[0][0]            
______________________________________________________________________________________________________________
batch_normalization_5 (BatchNormali (None, 4, 39, 256)      1024         average_pooling2d_4[0][0]            
______________________________________________________________________________________________________________
dropout_4 (Dropout)                 (None, 4, 39, 256)      0            batch_normalization_5[0][0]          
______________________________________________________________________________________________________________
inverted_residual_8 (InvertedResidu (None, 4, 39, 512)      1249280      dropout_4[0][0]                      
______________________________________________________________________________________________________________
inverted_residual_9 (InvertedResidu (None, 4, 39, 512)      3282944      inverted_residual_8[0][0]            
______________________________________________________________________________________________________________
global_average_pooling2d (GlobalAve (None, 512)             0            inverted_residual_9[0][0]            
______________________________________________________________________________________________________________
dense (Dense)                       (None, 1)               513          global_average_pooling2d[0][0]       
==============================================================================================================
Total params: 6,200,645
Trainable params: 6,159,139
Non-trainable params: 41,506
______________________________________________________________________________________________________________
2021-06-15 04:02:24.967102: I tensorflow/compiler/mlir/mlir_graph_optimization_pass.cc:116] None of the MLIR optimization passes are enabled (registered 2)
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
2021-06-15 04:02:24.969505: I tensorflow/core/platform/profile_utils/cpu_utils.cc:112] CPU Frequency: 2299995000 Hz
2021-06-15 04:02:25.373750: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcudnn.so.8
2021-06-15 04:02:27.123126: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcublas.so.11
2021-06-15 04:02:27.569858: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcublasLt.so.11
Epoch 1/120
152/152 - 222s - loss: 0.5511 - accuracy: 0.6525 - val_loss: 0.2841 - val_accuracy: 0.9503
Confusion matrix: 
 [[574   0]
 [ 30   0]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/sklearn/metrics/_classification.py:1272: UndefinedMetricWarning: Precision and F-score are ill-defined and being set to 0.0 due to no predicted samples. Use `zero_division` parameter to control this behavior.
  _warn_prf(average, modifier, msg_start, len(result))
Normalized Confusion matrix: 
 [[1. 0.]
 [1. 0.]]
Validation f1: 0.00
Validation accuracy: 95.03
Validation recall: 0.00
Validation precision: 0.00
Validation AUC: 0.07033388651873972
Validation class accuracies: [1.0, 0.0]
The clause is activated.
The training is defaulting to either class.
Epoch 2/120
152/152 - 218s - loss: 0.4428 - accuracy: 0.7422 - val_loss: 0.1989 - val_accuracy: 0.9503
Confusion matrix: 
 [[574   0]
 [ 30   0]]
Normalized Confusion matrix: 
 [[1. 0.]
 [1. 0.]]
Validation f1: 0.00
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/sklearn/metrics/_classification.py:1272: UndefinedMetricWarning: Precision and F-score are ill-defined and being set to 0.0 due to no predicted samples. Use `zero_division` parameter to control this behavior.
  _warn_prf(average, modifier, msg_start, len(result))
Validation accuracy: 95.03
Validation recall: 0.00
Validation precision: 0.00
Validation AUC: 0.07164271674477929
Validation class accuracies: [1.0, 0.0]
The clause is activated.
The training is defaulting to either class.
Epoch 3/120
152/152 - 218s - loss: 0.3781 - accuracy: 0.7944 - val_loss: 0.1977 - val_accuracy: 0.9503
Confusion matrix: 
 [[574   0]
 [ 30   0]]
Normalized Confusion matrix: 
 [[1. 0.]
 [1. 0.]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/sklearn/metrics/_classification.py:1272: UndefinedMetricWarning: Precision and F-score are ill-defined and being set to 0.0 due to no predicted samples. Use `zero_division` parameter to control this behavior.
  _warn_prf(average, modifier, msg_start, len(result))
Validation f1: 0.00
Validation accuracy: 95.03
Validation recall: 0.00
Validation precision: 0.00
Validation AUC: 0.0455762041639812
Validation class accuracies: [1.0, 0.0]
The clause is activated.
The training is defaulting to either class.
Epoch 4/120
152/152 - 219s - loss: 0.3405 - accuracy: 0.8237 - val_loss: 0.1988 - val_accuracy: 0.9503
Confusion matrix: 
 [[574   0]
 [ 30   0]]
Normalized Confusion matrix: 
 [[1. 0.]
 [1. 0.]]
Validation f1: 0.00
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/sklearn/metrics/_classification.py:1272: UndefinedMetricWarning: Precision and F-score are ill-defined and being set to 0.0 due to no predicted samples. Use `zero_division` parameter to control this behavior.
  _warn_prf(average, modifier, msg_start, len(result))
Validation accuracy: 95.03
Validation recall: 0.00
Validation precision: 0.00
Validation AUC: 0.06340111628027892
Validation class accuracies: [1.0, 0.0]
The clause is activated.
The training is defaulting to either class.
Epoch 5/120
152/152 - 219s - loss: 0.2895 - accuracy: 0.8672 - val_loss: 0.2061 - val_accuracy: 0.9520
Confusion matrix: 
 [[572   2]
 [ 27   3]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.997 0.003]
 [0.9   0.1  ]]
Validation f1: 17.14
Validation accuracy: 95.20
Validation recall: 10.00
Validation precision: 60.00
Validation AUC: 0.17219748484036854
Validation class accuracies: [0.9965156794425087, 0.1]
The clause is activated.
The training is defaulting to either class.
Epoch 6/120
152/152 - 218s - loss: 0.2686 - accuracy: 0.8850 - val_loss: 1.9649 - val_accuracy: 0.3262
Confusion matrix: 
 [[167 407]
 [  0  30]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.291 0.709]
 [0.    1.   ]]
Validation f1: 12.85
Validation accuracy: 32.62
Validation recall: 100.00
Validation precision: 6.86
Validation AUC: 0.4562108715801266
Validation class accuracies: [0.29094076655052264, 1.0]
The clause is activated.
The training is defaulting to either class.
Epoch 7/120
152/152 - 218s - loss: 0.2213 - accuracy: 0.8999 - val_loss: 0.4854 - val_accuracy: 0.8046
Confusion matrix: 
 [[463 111]
 [  7  23]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.807 0.193]
 [0.233 0.767]]
Validation f1: 28.05
Validation accuracy: 80.46
Validation recall: 76.67
Validation precision: 17.16
Validation AUC: 0.526112101460275
Validation class accuracies: [0.8066202090592335, 0.7666666666666667]
The clause is activated.
Not defaulting.
Saving model...
Epoch 8/120
152/152 - 218s - loss: 0.1962 - accuracy: 0.9189 - val_loss: 0.8810 - val_accuracy: 0.6854
Confusion matrix: 
 [[384 190]
 [  0  30]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.669 0.331]
 [0.    1.   ]]
Validation f1: 24.00
Validation accuracy: 68.54
Validation recall: 100.00
Validation precision: 13.64
Validation AUC: 0.7847315098000232
Validation class accuracies: [0.6689895470383276, 1.0]
The clause is activated.
Not defaulting.
The validation tracker metric at 0.2804878048780488 hasn't increased by 0 in 1 epochs
Epoch 9/120
152/152 - 219s - loss: 0.1525 - accuracy: 0.9371 - val_loss: 0.6343 - val_accuracy: 0.7864
Confusion matrix: 
 [[445 129]
 [  0  30]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.775 0.225]
 [0.    1.   ]]
Validation f1: 31.75
Validation accuracy: 78.64
Validation recall: 100.00
Validation precision: 18.87
Validation AUC: 0.6991142098388085
Validation class accuracies: [0.7752613240418118, 1.0]
The clause is activated.
Not defaulting.
Saving model...
Epoch 10/120
152/152 - 218s - loss: 0.1445 - accuracy: 0.9458 - val_loss: 1.9121 - val_accuracy: 0.5397
Confusion matrix: 
 [[296 278]
 [  0  30]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.516 0.484]
 [0.    1.   ]]
Validation f1: 17.75
Validation accuracy: 53.97
Validation recall: 100.00
Validation precision: 9.74
Validation AUC: 0.6811409476331304
Validation class accuracies: [0.5156794425087108, 1.0]
The clause is activated.
Not defaulting.
The validation tracker metric at 0.3174603174603175 hasn't increased by 0 in 1 epochs
Epoch 11/120
152/152 - 217s - loss: 0.1150 - accuracy: 0.9648 - val_loss: 0.8148 - val_accuracy: 0.6474
Confusion matrix: 
 [[361 213]
 [  0  30]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.629 0.371]
 [0.    1.   ]]
Validation f1: 21.98
Validation accuracy: 64.74
Validation recall: 100.00
Validation precision: 12.35
Validation AUC: 0.8735273790683071
Validation class accuracies: [0.6289198606271778, 1.0]
The clause is activated.
Not defaulting.
The validation tracker metric at 0.3174603174603175 hasn't increased by 0 in 2 epochs
Epoch 12/120
152/152 - 217s - loss: 0.1015 - accuracy: 0.9665 - val_loss: 1.7391 - val_accuracy: 0.4719
Confusion matrix: 
 [[255 319]
 [  0  30]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.444 0.556]
 [0.    1.   ]]
Validation f1: 15.83
Validation accuracy: 47.19
Validation recall: 100.00
Validation precision: 8.60
Validation AUC: 0.9079474299017041
Validation class accuracies: [0.4442508710801394, 1.0]
The clause is activated.
Not defaulting.
The validation tracker metric at 0.3174603174603175 hasn't increased by 0 in 3 epochs
Epoch 13/120
152/152 - 216s - loss: 0.1048 - accuracy: 0.9640 - val_loss: 0.1336 - val_accuracy: 0.9652
Confusion matrix: 
 [[561  13]
 [  8  22]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.977 0.023]
 [0.267 0.733]]
Validation f1: 67.69
Validation accuracy: 96.52
Validation recall: 73.33
Validation precision: 62.86
Validation AUC: 0.6789382625071684
Validation class accuracies: [0.9773519163763066, 0.7333333333333333]
The clause is activated.
The training is defaulting to either class.
Epoch 14/120
152/152 - 217s - loss: 0.1061 - accuracy: 0.9652 - val_loss: 4.0373 - val_accuracy: 0.2930
Confusion matrix: 
 [[147 427]
 [  0  30]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.256 0.744]
 [0.    1.   ]]
Validation f1: 12.32
Validation accuracy: 29.30
Validation recall: 100.00
Validation precision: 6.56
Validation AUC: 0.6733687794267387
Validation class accuracies: [0.25609756097560976, 1.0]
The clause is activated.
The training is defaulting to either class.
Epoch 15/120
152/152 - 216s - loss: 0.1379 - accuracy: 0.9582 - val_loss: 1.7791 - val_accuracy: 0.4967
Confusion matrix: 
 [[270 304]
 [  0  30]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.47 0.53]
 [0.   1.  ]]
Validation f1: 16.48
Validation accuracy: 49.67
Validation recall: 100.00
Validation precision: 8.98
Validation AUC: 0.7903625638991895
Validation class accuracies: [0.47038327526132406, 1.0]
The clause is activated.
Not defaulting.
The validation tracker metric at 0.3174603174603175 hasn't increased by 0 in 4 epochs
Epoch 16/120
152/152 - 217s - loss: 0.0660 - accuracy: 0.9818 - val_loss: 0.2612 - val_accuracy: 0.9321
Confusion matrix: 
 [[533  41]
 [  0  30]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.929 0.071]
 [0.    1.   ]]
Validation f1: 59.41
Validation accuracy: 93.21
Validation recall: 100.00
Validation precision: 42.25
Validation AUC: 0.9405343515789176
Validation class accuracies: [0.9285714285714286, 1.0]
The clause is activated.
Not defaulting.
Saving model...
Epoch 17/120
152/152 - 216s - loss: 0.0467 - accuracy: 0.9921 - val_loss: 0.5879 - val_accuracy: 0.8245
Confusion matrix: 
 [[468 106]
 [  0  30]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.815 0.185]
 [0.    1.   ]]
Validation f1: 36.14
Validation accuracy: 82.45
Validation recall: 100.00
Validation precision: 22.06
Validation AUC: 0.9190047330839946
Validation class accuracies: [0.8153310104529616, 1.0]
The clause is activated.
Not defaulting.
The validation tracker metric at 0.5940594059405941 hasn't increased by 0 in 1 epochs
Epoch 18/120
152/152 - 216s - loss: 0.0551 - accuracy: 0.9859 - val_loss: 0.4079 - val_accuracy: 0.8626
Confusion matrix: 
 [[491  83]
 [  0  30]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.855 0.145]
 [0.    1.   ]]
Validation f1: 41.96
Validation accuracy: 86.26
Validation recall: 100.00
Validation precision: 26.55
Validation AUC: 0.9374060008054985
Validation class accuracies: [0.8554006968641115, 1.0]
The clause is activated.
Not defaulting.
The validation tracker metric at 0.5940594059405941 hasn't increased by 0 in 2 epochs
Epoch 19/120
152/152 - 216s - loss: 0.0479 - accuracy: 0.9872 - val_loss: 0.1607 - val_accuracy: 0.9586
Confusion matrix: 
 [[549  25]
 [  0  30]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.956 0.044]
 [0.    1.   ]]
Validation f1: 70.59
Validation accuracy: 95.86
Validation recall: 100.00
Validation precision: 54.55
Validation AUC: 0.9380743237044226
Validation class accuracies: [0.9564459930313589, 1.0]
The clause is activated.
The training is defaulting to either class.
Epoch 20/120
152/152 - 216s - loss: 0.0337 - accuracy: 0.9971 - val_loss: 0.2728 - val_accuracy: 0.9222
Confusion matrix: 
 [[527  47]
 [  0  30]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.918 0.082]
 [0.    1.   ]]
Validation f1: 56.07
Validation accuracy: 92.22
Validation recall: 100.00
Validation precision: 38.96
Validation AUC: 0.9321372338794729
Validation class accuracies: [0.9181184668989547, 1.0]
The clause is activated.
Not defaulting.
The validation tracker metric at 0.5940594059405941 hasn't increased by 0 in 3 epochs
Epoch 21/120
152/152 - 216s - loss: 0.0297 - accuracy: 0.9975 - val_loss: 0.4685 - val_accuracy: 0.8543
Confusion matrix: 
 [[486  88]
 [  0  30]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.847 0.153]
 [0.    1.   ]]
Validation f1: 40.54
Validation accuracy: 85.43
Validation recall: 100.00
Validation precision: 25.42
Validation AUC: 0.9441909084399792
Validation class accuracies: [0.8466898954703833, 1.0]
The clause is activated.
Not defaulting.
The validation tracker metric at 0.5940594059405941 hasn't increased by 0 in 4 epochs
Epoch 22/120
152/152 - 216s - loss: 0.0266 - accuracy: 0.9954 - val_loss: 0.2789 - val_accuracy: 0.9255
Confusion matrix: 
 [[529  45]
 [  0  30]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.922 0.078]
 [0.    1.   ]]
Validation f1: 57.14
Validation accuracy: 92.55
Validation recall: 100.00
Validation precision: 40.00
Validation AUC: 0.9364744580486313
Validation class accuracies: [0.921602787456446, 1.0]
The clause is activated.
Not defaulting.
The validation tracker metric at 0.5940594059405941 hasn't increased by 0 in 5 epochs
Epoch 23/120
152/152 - 216s - loss: 0.0286 - accuracy: 0.9971 - val_loss: 0.0898 - val_accuracy: 0.9901
Confusion matrix: 
 [[568   6]
 [  0  30]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.99 0.01]
 [0.   1.  ]]
Validation f1: 90.91
Validation accuracy: 99.01
Validation recall: 100.00
Validation precision: 83.33
Validation AUC: 0.9649531382215382
Validation class accuracies: [0.9895470383275261, 1.0]
The clause is activated.
The training is defaulting to either class.
Epoch 24/120
152/152 - 217s - loss: 0.0262 - accuracy: 0.9959 - val_loss: 0.6560 - val_accuracy: 0.7947
Confusion matrix: 
 [[450 124]
 [  0  30]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.784 0.216]
 [0.    1.   ]]
Validation f1: 32.61
Validation accuracy: 79.47
Validation recall: 100.00
Validation precision: 19.48
Validation AUC: 0.92486853704462
Validation class accuracies: [0.7839721254355401, 1.0]
The clause is activated.
Not defaulting.
The validation tracker metric at 0.5940594059405941 hasn't increased by 0 in 6 epochs
Lr has been adjusted to 7.499999628635123e-05
Epoch 25/120
152/152 - 216s - loss: 0.0236 - accuracy: 0.9959 - val_loss: 0.1593 - val_accuracy: 0.9553
Confusion matrix: 
 [[547  27]
 [  0  30]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.953 0.047]
 [0.    1.   ]]
Validation f1: 68.97
Validation accuracy: 95.53
Validation recall: 100.00
Validation precision: 52.63
Validation AUC: 0.9615557267727215
Validation class accuracies: [0.9529616724738676, 1.0]
The clause is activated.
The training is defaulting to either class.
Epoch 26/120
152/152 - 216s - loss: 0.0189 - accuracy: 0.9979 - val_loss: 0.1783 - val_accuracy: 0.9487
Confusion matrix: 
 [[543  31]
 [  0  30]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.946 0.054]
 [0.    1.   ]]
Validation f1: 65.93
Validation accuracy: 94.87
Validation recall: 100.00
Validation precision: 49.18
Validation AUC: 0.96447878645974
Validation class accuracies: [0.945993031358885, 1.0]
The clause is activated.
Not defaulting.
Saving model...
Epoch 27/120
152/152 - 216s - loss: 0.0197 - accuracy: 0.9975 - val_loss: 0.1408 - val_accuracy: 0.9652
Confusion matrix: 
 [[553  21]
 [  0  30]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.963 0.037]
 [0.    1.   ]]
Validation f1: 74.07
Validation accuracy: 96.52
Validation recall: 100.00
Validation precision: 58.82
Validation AUC: 0.9468673390274887
Validation class accuracies: [0.9634146341463414, 1.0]
The clause is activated.
The training is defaulting to either class.
Epoch 28/120
152/152 - 217s - loss: 0.0226 - accuracy: 0.9971 - val_loss: 0.1587 - val_accuracy: 0.9570
Confusion matrix: 
 [[548  26]
 [  0  30]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.955 0.045]
 [0.    1.   ]]
Validation f1: 69.77
Validation accuracy: 95.70
Validation recall: 100.00
Validation precision: 53.57
Validation AUC: 0.9556292531169028
Validation class accuracies: [0.9547038327526133, 1.0]
The clause is activated.
The training is defaulting to either class.
Epoch 29/120
152/152 - 217s - loss: 0.0162 - accuracy: 0.9988 - val_loss: 0.2326 - val_accuracy: 0.9387
Confusion matrix: 
 [[537  37]
 [  0  30]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.936 0.064]
 [0.    1.   ]]
Validation f1: 61.86
Validation accuracy: 93.87
Validation recall: 100.00
Validation precision: 44.78
Validation AUC: 0.95045124509471
Validation class accuracies: [0.9355400696864111, 1.0]
The clause is activated.
Not defaulting.
The validation tracker metric at 0.6593406593406593 hasn't increased by 0 in 1 epochs
Epoch 30/120
152/152 - 216s - loss: 0.0139 - accuracy: 0.9992 - val_loss: 0.1531 - val_accuracy: 0.9603
Confusion matrix: 
 [[550  24]
 [  0  30]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.958 0.042]
 [0.    1.   ]]
Validation f1: 71.43
Validation accuracy: 96.03
Validation recall: 100.00
Validation precision: 55.56
Validation AUC: 0.9623248628430694
Validation class accuracies: [0.9581881533101045, 1.0]
The clause is activated.
The training is defaulting to either class.
Epoch 31/120
152/152 - 217s - loss: 0.0138 - accuracy: 0.9996 - val_loss: 0.4153 - val_accuracy: 0.8891
Confusion matrix: 
 [[507  67]
 [  0  30]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.883 0.117]
 [0.    1.   ]]
Validation f1: 47.24
Validation accuracy: 88.91
Validation recall: 100.00
Validation precision: 30.93
Validation AUC: 0.9446899650336171
Validation class accuracies: [0.8832752613240418, 1.0]
The clause is activated.
Not defaulting.
The validation tracker metric at 0.6593406593406593 hasn't increased by 0 in 2 epochs
Epoch 32/120
152/152 - 216s - loss: 0.0129 - accuracy: 0.9992 - val_loss: 0.4610 - val_accuracy: 0.8659
Confusion matrix: 
 [[493  81]
 [  0  30]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.859 0.141]
 [0.    1.   ]]
Validation f1: 42.55
Validation accuracy: 86.59
Validation recall: 100.00
Validation precision: 27.03
Validation AUC: 0.9417965578765592
Validation class accuracies: [0.8588850174216028, 1.0]
The clause is activated.
Not defaulting.
The validation tracker metric at 0.6593406593406593 hasn't increased by 0 in 3 epochs
Epoch 33/120
152/152 - 216s - loss: 0.0112 - accuracy: 0.9996 - val_loss: 0.2065 - val_accuracy: 0.9487
Confusion matrix: 
 [[543  31]
 [  0  30]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.946 0.054]
 [0.    1.   ]]
Validation f1: 65.93
Validation accuracy: 94.87
Validation recall: 100.00
Validation precision: 49.18
Validation AUC: 0.9546920182418925
Validation class accuracies: [0.945993031358885, 1.0]
The clause is activated.
Not defaulting.
The validation tracker metric at 0.6593406593406593 hasn't increased by 0 in 4 epochs
Epoch 34/120
152/152 - 216s - loss: 0.0195 - accuracy: 0.9959 - val_loss: 0.2915 - val_accuracy: 0.9172
Confusion matrix: 
 [[524  50]
 [  0  30]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.913 0.087]
 [0.    1.   ]]
Validation f1: 54.55
Validation accuracy: 91.72
Validation recall: 100.00
Validation precision: 37.50
Validation AUC: 0.9554481881829867
Validation class accuracies: [0.9128919860627178, 1.0]
The clause is activated.
Not defaulting.
The validation tracker metric at 0.6593406593406593 hasn't increased by 0 in 5 epochs
Epoch 35/120
152/152 - 216s - loss: 0.0325 - accuracy: 0.9892 - val_loss: 0.1449 - val_accuracy: 0.9685
Confusion matrix: 
 [[557  17]
 [  2  28]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.97  0.03 ]
 [0.067 0.933]]
Validation f1: 74.67
Validation accuracy: 96.85
Validation recall: 93.33
Validation precision: 62.22
Validation AUC: 0.9274220988158208
Validation class accuracies: [0.9703832752613241, 0.9333333333333333]
The clause is activated.
The training is defaulting to either class.
Epoch 36/120
152/152 - 216s - loss: 0.0122 - accuracy: 1.0000 - val_loss: 0.4395 - val_accuracy: 0.8891
Confusion matrix: 
 [[507  67]
 [  0  30]]
Normalized Confusion matrix: 
 [[0.883 0.117]
 [0.    1.   ]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 47.24
Validation accuracy: 88.91
Validation recall: 100.00
Validation precision: 30.93
Validation AUC: 0.94024952582184
Validation class accuracies: [0.8832752613240418, 1.0]
The clause is activated.
Not defaulting.
The validation tracker metric at 0.6593406593406593 hasn't increased by 0 in 6 epochs
Lr has been adjusted to 5.624999903375283e-05
Epoch 37/120
152/152 - 216s - loss: 0.0103 - accuracy: 0.9996 - val_loss: 0.1396 - val_accuracy: 0.9619
Confusion matrix: 
 [[551  23]
 [  0  30]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.96 0.04]
 [0.   1.  ]]
Validation f1: 72.29
Validation accuracy: 96.19
Validation recall: 100.00
Validation precision: 56.60
Validation AUC: 0.9571374290892358
Validation class accuracies: [0.9599303135888502, 1.0]
The clause is activated.
The training is defaulting to either class.
Epoch 38/120
152/152 - 216s - loss: 0.0097 - accuracy: 1.0000 - val_loss: 0.1887 - val_accuracy: 0.9487
Confusion matrix: 
 [[543  31]
 [  0  30]]
Normalized Confusion matrix: 
 [[0.946 0.054]
 [0.    1.   ]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 65.93
Validation accuracy: 94.87
Validation recall: 100.00
Validation precision: 49.18
Validation AUC: 0.9645153995372665
Validation class accuracies: [0.945993031358885, 1.0]
The clause is activated.
Not defaulting.
The validation tracker metric at 0.6593406593406593 hasn't increased by 0 in 7 epochs
Epoch 39/120
152/152 - 216s - loss: 0.0108 - accuracy: 0.9996 - val_loss: 0.1867 - val_accuracy: 0.9487
Confusion matrix: 
 [[543  31]
 [  0  30]]
Normalized Confusion matrix: 
 [[0.946 0.054]
 [0.    1.   ]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 65.93
Validation accuracy: 94.87
Validation recall: 100.00
Validation precision: 49.18
Validation AUC: 0.9675423081877434
Validation class accuracies: [0.945993031358885, 1.0]
The clause is activated.
Not defaulting.
The validation tracker metric at 0.6593406593406593 hasn't increased by 0 in 8 epochs
Epoch 40/120
152/152 - 216s - loss: 0.0091 - accuracy: 0.9988 - val_loss: 0.2320 - val_accuracy: 0.9404
Confusion matrix: 
 [[538  36]
 [  0  30]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.937 0.063]
 [0.    1.   ]]
Validation f1: 62.50
Validation accuracy: 94.04
Validation recall: 100.00
Validation precision: 45.45
Validation AUC: 0.9520659040607682
Validation class accuracies: [0.9372822299651568, 1.0]
The clause is activated.
Not defaulting.
The validation tracker metric at 0.6593406593406593 hasn't increased by 0 in 9 epochs
Epoch 41/120
152/152 - 217s - loss: 0.0087 - accuracy: 1.0000 - val_loss: 0.1180 - val_accuracy: 0.9685
Confusion matrix: 
 [[556  18]
 [  1  29]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.969 0.031]
 [0.033 0.967]]
Validation f1: 75.32
Validation accuracy: 96.85
Validation recall: 96.67
Validation precision: 61.70
Validation AUC: 0.9673838237701957
Validation class accuracies: [0.9686411149825784, 0.9666666666666667]
The clause is activated.
The training is defaulting to either class.
Epoch 42/120
152/152 - 216s - loss: 0.0138 - accuracy: 0.9979 - val_loss: 0.2773 - val_accuracy: 0.9238
Confusion matrix: 
 [[528  46]
 [  0  30]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.92 0.08]
 [0.   1.  ]]
Validation f1: 56.60
Validation accuracy: 92.38
Validation recall: 100.00
Validation precision: 39.47
Validation AUC: 0.963317128492923
Validation class accuracies: [0.9198606271777003, 1.0]
The clause is activated.
Not defaulting.
The validation tracker metric at 0.6593406593406593 hasn't increased by 0 in 10 epochs
Epoch 43/120
152/152 - 216s - loss: 0.0088 - accuracy: 1.0000 - val_loss: 0.1494 - val_accuracy: 0.9586
Confusion matrix: 
 [[550  24]
 [  1  29]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.958 0.042]
 [0.033 0.967]]
Validation f1: 69.88
Validation accuracy: 95.86
Validation recall: 96.67
Validation precision: 54.72
Validation AUC: 0.9568432036920151
Validation class accuracies: [0.9581881533101045, 0.9666666666666667]
The clause is activated.
The training is defaulting to either class.
Epoch 44/120
152/152 - 217s - loss: 0.0066 - accuracy: 1.0000 - val_loss: 0.1688 - val_accuracy: 0.9536
Confusion matrix: 
 [[547  27]
 [  1  29]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.953 0.047]
 [0.033 0.967]]
Validation f1: 67.44
Validation accuracy: 95.36
Validation recall: 96.67
Validation precision: 51.79
Validation AUC: 0.9600017945208582
Validation class accuracies: [0.9529616724738676, 0.9666666666666667]
The clause is activated.
The training is defaulting to either class.
Epoch 45/120
152/152 - 216s - loss: 0.0122 - accuracy: 0.9967 - val_loss: 0.2129 - val_accuracy: 0.9470
Confusion matrix: 
 [[543  31]
 [  1  29]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.946 0.054]
 [0.033 0.967]]
Validation f1: 64.44
Validation accuracy: 94.70
Validation recall: 96.67
Validation precision: 48.33
Validation AUC: 0.9472959371293925
Validation class accuracies: [0.945993031358885, 0.9666666666666667]
The clause is activated.
The training is defaulting to either class.
Epoch 46/120
152/152 - 216s - loss: 0.0065 - accuracy: 1.0000 - val_loss: 0.1106 - val_accuracy: 0.9669
Confusion matrix: 
 [[556  18]
 [  2  28]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.969 0.031]
 [0.067 0.933]]
Validation f1: 73.68
Validation accuracy: 96.69
Validation recall: 93.33
Validation precision: 60.87
Validation AUC: 0.9634611217208111
Validation class accuracies: [0.9686411149825784, 0.9333333333333333]
The clause is activated.
The training is defaulting to either class.
Epoch 47/120
152/152 - 216s - loss: 0.0074 - accuracy: 0.9996 - val_loss: 0.5054 - val_accuracy: 0.8924
Confusion matrix: 
 [[509  65]
 [  0  30]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.887 0.113]
 [0.    1.   ]]
Validation f1: 48.00
Validation accuracy: 89.24
Validation recall: 100.00
Validation precision: 31.58
Validation AUC: 0.9230074285414227
Validation class accuracies: [0.8867595818815331, 1.0]
The clause is activated.
Not defaulting.
The validation tracker metric at 0.6593406593406593 hasn't increased by 0 in 11 epochs
Epoch 48/120
152/152 - 216s - loss: 0.0091 - accuracy: 0.9988 - val_loss: 0.1559 - val_accuracy: 0.9536
Confusion matrix: 
 [[548  26]
 [  2  28]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.955 0.045]
 [0.067 0.933]]
Validation f1: 66.67
Validation accuracy: 95.36
Validation recall: 93.33
Validation precision: 51.85
Validation AUC: 0.951723826804111
Validation class accuracies: [0.9547038327526133, 0.9333333333333333]
The clause is activated.
The training is defaulting to either class.
Epoch 49/120
152/152 - 216s - loss: 0.0088 - accuracy: 0.9988 - val_loss: 0.1158 - val_accuracy: 0.9702
Confusion matrix: 
 [[558  16]
 [  2  28]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.972 0.028]
 [0.067 0.933]]
Validation f1: 75.68
Validation accuracy: 97.02
Validation recall: 93.33
Validation precision: 63.64
Validation AUC: 0.9574884713343241
Validation class accuracies: [0.9721254355400697, 0.9333333333333333]
The clause is activated.
The training is defaulting to either class.
Epoch 50/120
152/152 - 216s - loss: 0.0060 - accuracy: 1.0000 - val_loss: 0.2244 - val_accuracy: 0.9421
Confusion matrix: 
 [[540  34]
 [  1  29]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.941 0.059]
 [0.033 0.967]]
Validation f1: 62.37
Validation accuracy: 94.21
Validation recall: 96.67
Validation precision: 46.03
Validation AUC: 0.9536911459785193
Validation class accuracies: [0.9407665505226481, 0.9666666666666667]
The clause is activated.
Not defaulting.
The validation tracker metric at 0.6593406593406593 hasn't increased by 0 in 12 epochs
Lr has been adjusted to 4.2187501094304025e-05
Epoch 51/120
152/152 - 217s - loss: 0.0061 - accuracy: 1.0000 - val_loss: 0.2874 - val_accuracy: 0.9272
Confusion matrix: 
 [[530  44]
 [  0  30]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.923 0.077]
 [0.    1.   ]]
Validation f1: 57.69
Validation accuracy: 92.72
Validation recall: 100.00
Validation precision: 40.54
Validation AUC: 0.9386532423197144
Validation class accuracies: [0.9233449477351916, 1.0]
The clause is activated.
Not defaulting.
The validation tracker metric at 0.6593406593406593 hasn't increased by 0 in 13 epochs
Epoch 52/120
152/152 - 216s - loss: 0.0055 - accuracy: 1.0000 - val_loss: 0.1820 - val_accuracy: 0.9536
Confusion matrix: 
 [[546  28]
 [  0  30]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.951 0.049]
 [0.    1.   ]]
Validation f1: 68.18
Validation accuracy: 95.36
Validation recall: 100.00
Validation precision: 51.72
Validation AUC: 0.9518396437103962
Validation class accuracies: [0.9512195121951219, 1.0]
The clause is activated.
The training is defaulting to either class.
Epoch 53/120
152/152 - 216s - loss: 0.0060 - accuracy: 0.9996 - val_loss: 0.1960 - val_accuracy: 0.9503
Confusion matrix: 
 [[545  29]
 [  1  29]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.949 0.051]
 [0.033 0.967]]
Validation f1: 65.91
Validation accuracy: 95.03
Validation recall: 96.67
Validation precision: 50.00
Validation AUC: 0.9503916143280782
Validation class accuracies: [0.9494773519163763, 0.9666666666666667]
The clause is activated.
The training is defaulting to either class.
Epoch 54/120
152/152 - 216s - loss: 0.0056 - accuracy: 1.0000 - val_loss: 0.1785 - val_accuracy: 0.9570
Confusion matrix: 
 [[549  25]
 [  1  29]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.956 0.044]
 [0.033 0.967]]
Validation f1: 69.05
Validation accuracy: 95.70
Validation recall: 96.67
Validation precision: 53.70
Validation AUC: 0.9570671446767496
Validation class accuracies: [0.9564459930313589, 0.9666666666666667]
The clause is activated.
The training is defaulting to either class.
Epoch 55/120
152/152 - 216s - loss: 0.0050 - accuracy: 1.0000 - val_loss: 0.1467 - val_accuracy: 0.9652
Confusion matrix: 
 [[554  20]
 [  1  29]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.965 0.035]
 [0.033 0.967]]
Validation f1: 73.42
Validation accuracy: 96.52
Validation recall: 96.67
Validation precision: 59.18
Validation AUC: 0.9600291172450437
Validation class accuracies: [0.9651567944250871, 0.9666666666666667]
The clause is activated.
The training is defaulting to either class.
Epoch 56/120
152/152 - 216s - loss: 0.0051 - accuracy: 0.9996 - val_loss: 0.1530 - val_accuracy: 0.9636
Confusion matrix: 
 [[552  22]
 [  0  30]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.962 0.038]
 [0.    1.   ]]
Validation f1: 73.17
Validation accuracy: 96.36
Validation recall: 100.00
Validation precision: 57.69
Validation AUC: 0.9643603344503326
Validation class accuracies: [0.9616724738675958, 1.0]
The clause is activated.
The training is defaulting to either class.
Epoch 57/120
152/152 - 216s - loss: 0.0041 - accuracy: 1.0000 - val_loss: 0.1744 - val_accuracy: 0.9603
Confusion matrix: 
 [[550  24]
 [  0  30]]
Normalized Confusion matrix: 
 [[0.958 0.042]
 [0.    1.   ]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 71.43
Validation accuracy: 96.03
Validation recall: 100.00
Validation precision: 55.56
Validation AUC: 0.9633615767779268
Validation class accuracies: [0.9581881533101045, 1.0]
The clause is activated.
The training is defaulting to either class.
Epoch 58/120
152/152 - 216s - loss: 0.0038 - accuracy: 1.0000 - val_loss: 0.1799 - val_accuracy: 0.9553
Confusion matrix: 
 [[547  27]
 [  0  30]]
Normalized Confusion matrix: 
 [[0.953 0.047]
 [0.    1.   ]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 68.97
Validation accuracy: 95.53
Validation recall: 100.00
Validation precision: 52.63
Validation AUC: 0.9592513543379941
Validation class accuracies: [0.9529616724738676, 1.0]
The clause is activated.
The training is defaulting to either class.
Epoch 59/120
152/152 - 217s - loss: 0.0047 - accuracy: 1.0000 - val_loss: 0.1315 - val_accuracy: 0.9669
Confusion matrix: 
 [[555  19]
 [  1  29]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.967 0.033]
 [0.033 0.967]]
Validation f1: 74.36
Validation accuracy: 96.69
Validation recall: 96.67
Validation precision: 60.42
Validation AUC: 0.9611391089429571
Validation class accuracies: [0.9668989547038328, 0.9666666666666667]
The clause is activated.
The training is defaulting to either class.
Epoch 60/120
152/152 - 216s - loss: 0.0043 - accuracy: 0.9996 - val_loss: 0.1835 - val_accuracy: 0.9553
Confusion matrix: 
 [[547  27]
 [  0  30]]
Normalized Confusion matrix: 
 [[0.953 0.047]
 [0.    1.   ]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 68.97
Validation accuracy: 95.53
Validation recall: 100.00
Validation precision: 52.63
Validation AUC: 0.9644564375286147
Validation class accuracies: [0.9529616724738676, 1.0]
The clause is activated.
The training is defaulting to either class.
Epoch 61/120
152/152 - 216s - loss: 0.0231 - accuracy: 0.9996 - val_loss: 0.1477 - val_accuracy: 0.9619
Confusion matrix: 
 [[552  22]
 [  1  29]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.962 0.038]
 [0.033 0.967]]
Validation f1: 71.60
Validation accuracy: 96.19
Validation recall: 96.67
Validation precision: 56.86
Validation AUC: 0.9663102883210135
Validation class accuracies: [0.9616724738675958, 0.9666666666666667]
The clause is activated.
The training is defaulting to either class.
Epoch 62/120
152/152 - 216s - loss: 0.0046 - accuracy: 0.9996 - val_loss: 0.3400 - val_accuracy: 0.9272
Confusion matrix: 
 [[531  43]
 [  1  29]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.925 0.075]
 [0.033 0.967]]
Validation f1: 56.86
Validation accuracy: 92.72
Validation recall: 96.67
Validation precision: 40.28
Validation AUC: 0.9556757041026448
Validation class accuracies: [0.9250871080139372, 0.9666666666666667]
The clause is activated.
Not defaulting.
The validation tracker metric at 0.6593406593406593 hasn't increased by 0 in 14 epochs
Epoch 63/120
152/152 - 217s - loss: 0.0051 - accuracy: 0.9992 - val_loss: 0.0777 - val_accuracy: 0.9818
Confusion matrix: 
 [[564  10]
 [  1  29]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.983 0.017]
 [0.033 0.967]]
Validation f1: 84.06
Validation accuracy: 98.18
Validation recall: 96.67
Validation precision: 74.36
Validation AUC: 0.9721504117371185
Validation class accuracies: [0.9825783972125436, 0.9666666666666667]
The clause is activated.
The training is defaulting to either class.
Epoch 64/120
152/152 - 216s - loss: 0.0043 - accuracy: 1.0000 - val_loss: 0.4503 - val_accuracy: 0.8907
Confusion matrix: 
 [[508  66]
 [  0  30]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.885 0.115]
 [0.    1.   ]]
Validation f1: 47.62
Validation accuracy: 89.07
Validation recall: 100.00
Validation precision: 31.25
Validation AUC: 0.9493643714174569
Validation class accuracies: [0.8850174216027874, 1.0]
The clause is activated.
Not defaulting.
The validation tracker metric at 0.6593406593406593 hasn't increased by 0 in 15 epochs
Epoch 65/120
152/152 - 216s - loss: 0.0039 - accuracy: 1.0000 - val_loss: 0.1895 - val_accuracy: 0.9553
Confusion matrix: 
 [[547  27]
 [  0  30]]
Normalized Confusion matrix: 
 [[0.953 0.047]
 [0.    1.   ]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 68.97
Validation accuracy: 95.53
Validation recall: 100.00
Validation precision: 52.63
Validation AUC: 0.9667145496408621
Validation class accuracies: [0.9529616724738676, 1.0]
The clause is activated.
The training is defaulting to either class.
Epoch 66/120
152/152 - 217s - loss: 0.0042 - accuracy: 1.0000 - val_loss: 0.4103 - val_accuracy: 0.9123
Confusion matrix: 
 [[521  53]
 [  0  30]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.908 0.092]
 [0.    1.   ]]
Validation f1: 53.10
Validation accuracy: 91.23
Validation recall: 100.00
Validation precision: 36.14
Validation AUC: 0.9500788502188207
Validation class accuracies: [0.9076655052264808, 1.0]
The clause is activated.
Not defaulting.
The validation tracker metric at 0.6593406593406593 hasn't increased by 0 in 16 epochs
Epoch 67/120
152/152 - 216s - loss: 0.0039 - accuracy: 1.0000 - val_loss: 0.1584 - val_accuracy: 0.9636
Confusion matrix: 
 [[552  22]
 [  0  30]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.962 0.038]
 [0.    1.   ]]
Validation f1: 73.17
Validation accuracy: 96.36
Validation recall: 100.00
Validation precision: 57.69
Validation AUC: 0.9706666165341327
Validation class accuracies: [0.9616724738675958, 1.0]
The clause is activated.
The training is defaulting to either class.
Epoch 68/120
152/152 - 217s - loss: 0.0038 - accuracy: 1.0000 - val_loss: 0.1851 - val_accuracy: 0.9553
Confusion matrix: 
 [[547  27]
 [  0  30]]
Normalized Confusion matrix: 
 [[0.953 0.047]
 [0.    1.   ]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 68.97
Validation accuracy: 95.53
Validation recall: 100.00
Validation precision: 52.63
Validation AUC: 0.9705131295885365
Validation class accuracies: [0.9529616724738676, 1.0]
The clause is activated.
The training is defaulting to either class.
Epoch 69/120
152/152 - 216s - loss: 0.0053 - accuracy: 0.9996 - val_loss: 0.7617 - val_accuracy: 0.8195
Confusion matrix: 
 [[465 109]
 [  0  30]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.81 0.19]
 [0.   1.  ]]
Validation f1: 35.50
Validation accuracy: 81.95
Validation recall: 100.00
Validation precision: 21.58
Validation AUC: 0.8836105239112616
Validation class accuracies: [0.8101045296167247, 1.0]
The clause is activated.
Not defaulting.
The validation tracker metric at 0.6593406593406593 hasn't increased by 0 in 17 epochs
Epoch 70/120
152/152 - 216s - loss: 0.0044 - accuracy: 1.0000 - val_loss: 0.1548 - val_accuracy: 0.9652
Confusion matrix: 
 [[553  21]
 [  0  30]]
Normalized Confusion matrix: 
 [[0.963 0.037]
 [0.    1.   ]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 74.07
Validation accuracy: 96.52
Validation recall: 100.00
Validation precision: 58.82
Validation AUC: 0.9718297711288622
Validation class accuracies: [0.9634146341463414, 1.0]
The clause is activated.
The training is defaulting to either class.
Epoch 71/120
152/152 - 217s - loss: 0.0056 - accuracy: 0.9983 - val_loss: 0.1076 - val_accuracy: 0.9752
Confusion matrix: 
 [[559  15]
 [  0  30]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.974 0.026]
 [0.    1.   ]]
Validation f1: 80.00
Validation accuracy: 97.52
Validation recall: 100.00
Validation precision: 66.67
Validation AUC: 0.9597297848999522
Validation class accuracies: [0.9738675958188153, 1.0]
The clause is activated.
The training is defaulting to either class.
Epoch 72/120
152/152 - 216s - loss: 0.0037 - accuracy: 1.0000 - val_loss: 0.1529 - val_accuracy: 0.9669
Confusion matrix: 
 [[554  20]
 [  0  30]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.965 0.035]
 [0.    1.   ]]
Validation f1: 75.00
Validation accuracy: 96.69
Validation recall: 100.00
Validation precision: 60.00
Validation AUC: 0.9619817185597572
Validation class accuracies: [0.9651567944250871, 1.0]
The clause is activated.
The training is defaulting to either class.
Epoch 73/120
152/152 - 217s - loss: 0.0037 - accuracy: 1.0000 - val_loss: 0.1805 - val_accuracy: 0.9586
Confusion matrix: 
 [[549  25]
 [  0  30]]
Normalized Confusion matrix: 
 [[0.956 0.044]
 [0.    1.   ]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 70.59
Validation accuracy: 95.86
Validation recall: 100.00
Validation precision: 54.55
Validation AUC: 0.9691515355021382
Validation class accuracies: [0.9564459930313589, 1.0]
The clause is activated.
The training is defaulting to either class.
Epoch 74/120
152/152 - 217s - loss: 0.0038 - accuracy: 1.0000 - val_loss: 0.1414 - val_accuracy: 0.9685
Confusion matrix: 
 [[555  19]
 [  0  30]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.967 0.033]
 [0.    1.   ]]
Validation f1: 75.95
Validation accuracy: 96.85
Validation recall: 100.00
Validation precision: 61.22
Validation AUC: 0.9694107887414354
Validation class accuracies: [0.9668989547038328, 1.0]
The clause is activated.
The training is defaulting to either class.
Epoch 75/120
152/152 - 216s - loss: 0.0043 - accuracy: 0.9996 - val_loss: 0.1621 - val_accuracy: 0.9669
Confusion matrix: 
 [[554  20]
 [  0  30]]
Normalized Confusion matrix: 
 [[0.965 0.035]
 [0.    1.   ]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 75.00
Validation accuracy: 96.69
Validation recall: 100.00
Validation precision: 60.00
Validation AUC: 0.9707130530376081
Validation class accuracies: [0.9651567944250871, 1.0]
The clause is activated.
The training is defaulting to either class.
Epoch 76/120
152/152 - 216s - loss: 0.0035 - accuracy: 1.0000 - val_loss: 0.1732 - val_accuracy: 0.9603
Confusion matrix: 
 [[550  24]
 [  0  30]]
Normalized Confusion matrix: 
 [[0.958 0.042]
 [0.    1.   ]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 71.43
Validation accuracy: 96.03
Validation recall: 100.00
Validation precision: 55.56
Validation AUC: 0.9694049412272865
Validation class accuracies: [0.9581881533101045, 1.0]
The clause is activated.
The training is defaulting to either class.
Epoch 77/120
152/152 - 217s - loss: 0.0037 - accuracy: 1.0000 - val_loss: 0.1275 - val_accuracy: 0.9735
Confusion matrix: 
 [[559  15]
 [  1  29]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.974 0.026]
 [0.033 0.967]]
Validation f1: 78.38
Validation accuracy: 97.35
Validation recall: 96.67
Validation precision: 65.91
Validation AUC: 0.9726142707963166
Validation class accuracies: [0.9738675958188153, 0.9666666666666667]
The clause is activated.
The training is defaulting to either class.
Epoch 78/120
152/152 - 216s - loss: 0.0036 - accuracy: 1.0000 - val_loss: 0.1827 - val_accuracy: 0.9603
Confusion matrix: 
 [[550  24]
 [  0  30]]
Normalized Confusion matrix: 
 [[0.958 0.042]
 [0.    1.   ]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 71.43
Validation accuracy: 96.03
Validation recall: 100.00
Validation precision: 55.56
Validation AUC: 0.9697982985702237
Validation class accuracies: [0.9581881533101045, 1.0]
The clause is activated.
The training is defaulting to either class.
Epoch 79/120
152/152 - 216s - loss: 0.0036 - accuracy: 0.9996 - val_loss: 0.1267 - val_accuracy: 0.9719
Confusion matrix: 
 [[558  16]
 [  1  29]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.972 0.028]
 [0.033 0.967]]
Validation f1: 77.33
Validation accuracy: 97.19
Validation recall: 96.67
Validation precision: 64.44
Validation AUC: 0.9679954025461615
Validation class accuracies: [0.9721254355400697, 0.9666666666666667]
The clause is activated.
The training is defaulting to either class.
Epoch 80/120
152/152 - 217s - loss: 0.0034 - accuracy: 1.0000 - val_loss: 0.1037 - val_accuracy: 0.9768
Confusion matrix: 
 [[561  13]
 [  1  29]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.977 0.023]
 [0.033 0.967]]
Validation f1: 80.56
Validation accuracy: 97.68
Validation recall: 96.67
Validation precision: 69.05
Validation AUC: 0.9713047538911836
Validation class accuracies: [0.9773519163763066, 0.9666666666666667]
The clause is activated.
The training is defaulting to either class.
Epoch 81/120
152/152 - 217s - loss: 0.0054 - accuracy: 0.9996 - val_loss: 0.1992 - val_accuracy: 0.9470
Confusion matrix: 
 [[542  32]
 [  0  30]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.944 0.056]
 [0.    1.   ]]
Validation f1: 65.22
Validation accuracy: 94.70
Validation recall: 100.00
Validation precision: 48.39
Validation AUC: 0.973796609024791
Validation class accuracies: [0.9442508710801394, 1.0]
The clause is activated.
Not defaulting.
The validation tracker metric at 0.6593406593406593 hasn't increased by 0 in 18 epochs
Lr has been adjusted to 3.164062582072802e-05
Epoch 82/120
152/152 - 217s - loss: 0.0048 - accuracy: 0.9996 - val_loss: 0.2221 - val_accuracy: 0.9454
Confusion matrix: 
 [[541  33]
 [  0  30]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.943 0.057]
 [0.    1.   ]]
Validation f1: 64.52
Validation accuracy: 94.54
Validation recall: 100.00
Validation precision: 47.62
Validation AUC: 0.9494400485964186
Validation class accuracies: [0.9425087108013938, 1.0]
The clause is activated.
Not defaulting.
The validation tracker metric at 0.6593406593406593 hasn't increased by 0 in 19 epochs
Epoch 83/120
152/152 - 217s - loss: 0.0039 - accuracy: 1.0000 - val_loss: 0.2118 - val_accuracy: 0.9536
Confusion matrix: 
 [[546  28]
 [  0  30]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.951 0.049]
 [0.    1.   ]]
Validation f1: 68.18
Validation accuracy: 95.36
Validation recall: 100.00
Validation precision: 51.72
Validation AUC: 0.9491371179139954
Validation class accuracies: [0.9512195121951219, 1.0]
The clause is activated.
The training is defaulting to either class.
Epoch 84/120
152/152 - 216s - loss: 0.0035 - accuracy: 1.0000 - val_loss: 0.1617 - val_accuracy: 0.9570
Confusion matrix: 
 [[548  26]
 [  0  30]]
Normalized Confusion matrix: 
 [[0.955 0.045]
 [0.    1.   ]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 69.77
Validation accuracy: 95.70
Validation recall: 100.00
Validation precision: 53.57
Validation AUC: 0.9649839401738611
Validation class accuracies: [0.9547038327526133, 1.0]
The clause is activated.
The training is defaulting to either class.
Epoch 85/120
152/152 - 216s - loss: 0.0235 - accuracy: 0.9996 - val_loss: 0.2063 - val_accuracy: 0.9536
Confusion matrix: 
 [[546  28]
 [  0  30]]
Normalized Confusion matrix: 
 [[0.951 0.049]
 [0.    1.   ]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 68.18
Validation accuracy: 95.36
Validation recall: 100.00
Validation precision: 51.72
Validation AUC: 0.9466512632656674
Validation class accuracies: [0.9512195121951219, 1.0]
The clause is activated.
The training is defaulting to either class.
Epoch 86/120
152/152 - 217s - loss: 0.0035 - accuracy: 1.0000 - val_loss: 0.2182 - val_accuracy: 0.9503
Confusion matrix: 
 [[544  30]
 [  0  30]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.948 0.052]
 [0.    1.   ]]
Validation f1: 66.67
Validation accuracy: 95.03
Validation recall: 100.00
Validation precision: 50.00
Validation AUC: 0.9485378947323225
Validation class accuracies: [0.9477351916376306, 1.0]
The clause is activated.
The training is defaulting to either class.
Epoch 87/120
152/152 - 217s - loss: 0.0035 - accuracy: 1.0000 - val_loss: 0.1699 - val_accuracy: 0.9603
Confusion matrix: 
 [[550  24]
 [  0  30]]
Normalized Confusion matrix: 
 [[0.958 0.042]
 [0.    1.   ]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 71.43
Validation accuracy: 96.03
Validation recall: 100.00
Validation precision: 55.56
Validation AUC: 0.965492827642065
Validation class accuracies: [0.9581881533101045, 1.0]
The clause is activated.
The training is defaulting to either class.
Epoch 88/120
152/152 - 216s - loss: 0.0033 - accuracy: 1.0000 - val_loss: 0.1792 - val_accuracy: 0.9570
Confusion matrix: 
 [[548  26]
 [  0  30]]
Normalized Confusion matrix: 
 [[0.955 0.045]
 [0.    1.   ]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 69.77
Validation accuracy: 95.70
Validation recall: 100.00
Validation precision: 53.57
Validation AUC: 0.9648681087936619
Validation class accuracies: [0.9547038327526133, 1.0]
The clause is activated.
The training is defaulting to either class.
Epoch 89/120
152/152 - 217s - loss: 0.0035 - accuracy: 1.0000 - val_loss: 0.1982 - val_accuracy: 0.9536
Confusion matrix: 
 [[546  28]
 [  0  30]]
Normalized Confusion matrix: 
 [[0.951 0.049]
 [0.    1.   ]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 68.18
Validation accuracy: 95.36
Validation recall: 100.00
Validation precision: 51.72
Validation AUC: 0.9615439344274044
Validation class accuracies: [0.9512195121951219, 1.0]
The clause is activated.
The training is defaulting to either class.
Epoch 90/120
152/152 - 216s - loss: 0.0037 - accuracy: 1.0000 - val_loss: 0.1551 - val_accuracy: 0.9636
Confusion matrix: 
 [[552  22]
 [  0  30]]
Normalized Confusion matrix: 
 [[0.962 0.038]
 [0.    1.   ]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 73.17
Validation accuracy: 96.36
Validation recall: 100.00
Validation precision: 57.69
Validation AUC: 0.961641949675894
Validation class accuracies: [0.9616724738675958, 1.0]
The clause is activated.
The training is defaulting to either class.
Epoch 91/120
152/152 - 217s - loss: 0.0036 - accuracy: 1.0000 - val_loss: 0.2376 - val_accuracy: 0.9470
Confusion matrix: 
 [[542  32]
 [  0  30]]
Normalized Confusion matrix: 
 [[0.944 0.056]
 [0.    1.   ]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 65.22
Validation accuracy: 94.70
Validation recall: 100.00
Validation precision: 48.39
Validation AUC: 0.949871364567136
Validation class accuracies: [0.9442508710801394, 1.0]
The clause is activated.
Not defaulting.
The validation tracker metric at 0.6593406593406593 hasn't increased by 0 in 20 epochs
Epoch 92/120
152/152 - 216s - loss: 0.0035 - accuracy: 1.0000 - val_loss: 0.1735 - val_accuracy: 0.9619
Confusion matrix: 
 [[551  23]
 [  0  30]]
Normalized Confusion matrix: 
 [[0.96 0.04]
 [0.   1.  ]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 72.29
Validation accuracy: 96.19
Validation recall: 100.00
Validation precision: 56.60
Validation AUC: 0.9627720409035463
Validation class accuracies: [0.9599303135888502, 1.0]
The clause is activated.
The training is defaulting to either class.
Epoch 93/120
152/152 - 217s - loss: 0.0039 - accuracy: 1.0000 - val_loss: 0.2705 - val_accuracy: 0.9454
Confusion matrix: 
 [[541  33]
 [  0  30]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.943 0.057]
 [0.    1.   ]]
Validation f1: 64.52
Validation accuracy: 94.54
Validation recall: 100.00
Validation precision: 47.62
Validation AUC: 0.9522173576702537
Validation class accuracies: [0.9425087108013938, 1.0]
The clause is activated.
Not defaulting.
The validation tracker metric at 0.6593406593406593 hasn't increased by 0 in 21 epochs
Epoch 94/120
152/152 - 216s - loss: 0.0035 - accuracy: 1.0000 - val_loss: 0.1826 - val_accuracy: 0.9603
Confusion matrix: 
 [[550  24]
 [  0  30]]
Normalized Confusion matrix: 
 [[0.958 0.042]
 [0.    1.   ]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 71.43
Validation accuracy: 96.03
Validation recall: 100.00
Validation precision: 55.56
Validation AUC: 0.9675306408371813
Validation class accuracies: [0.9581881533101045, 1.0]
The clause is activated.
The training is defaulting to either class.
Epoch 95/120
152/152 - 216s - loss: 0.0034 - accuracy: 1.0000 - val_loss: 0.1399 - val_accuracy: 0.9702
Confusion matrix: 
 [[556  18]
 [  0  30]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.969 0.031]
 [0.    1.   ]]
Validation f1: 76.92
Validation accuracy: 97.02
Validation recall: 100.00
Validation precision: 62.50
Validation AUC: 0.9642599106303004
Validation class accuracies: [0.9686411149825784, 1.0]
The clause is activated.
The training is defaulting to either class.
Epoch 96/120
152/152 - 216s - loss: 0.0033 - accuracy: 1.0000 - val_loss: 0.2488 - val_accuracy: 0.9520
Confusion matrix: 
 [[545  29]
 [  0  30]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.949 0.051]
 [0.    1.   ]]
Validation f1: 67.42
Validation accuracy: 95.20
Validation recall: 100.00
Validation precision: 50.85
Validation AUC: 0.9662191932375721
Validation class accuracies: [0.9494773519163763, 1.0]
The clause is activated.
The training is defaulting to either class.
Epoch 97/120
152/152 - 217s - loss: 0.0033 - accuracy: 1.0000 - val_loss: 0.1866 - val_accuracy: 0.9603
Confusion matrix: 
 [[550  24]
 [  0  30]]
Normalized Confusion matrix: 
 [[0.958 0.042]
 [0.    1.   ]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 71.43
Validation accuracy: 96.03
Validation recall: 100.00
Validation precision: 55.56
Validation AUC: 0.9660531766285568
Validation class accuracies: [0.9581881533101045, 1.0]
The clause is activated.
The training is defaulting to either class.
Epoch 98/120
152/152 - 216s - loss: 0.0034 - accuracy: 1.0000 - val_loss: 0.1508 - val_accuracy: 0.9685
Confusion matrix: 
 [[555  19]
 [  0  30]]
Normalized Confusion matrix: 
 [[0.967 0.033]
 [0.    1.   ]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 75.95
Validation accuracy: 96.85
Validation recall: 100.00
Validation precision: 61.22
Validation AUC: 0.9636636344250634
Validation class accuracies: [0.9668989547038328, 1.0]
The clause is activated.
The training is defaulting to either class.
Epoch 99/120
152/152 - 216s - loss: 0.0035 - accuracy: 1.0000 - val_loss: 0.2041 - val_accuracy: 0.9586
Confusion matrix: 
 [[549  25]
 [  0  30]]
Normalized Confusion matrix: 
 [[0.956 0.044]
 [0.    1.   ]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 70.59
Validation accuracy: 95.86
Validation recall: 100.00
Validation precision: 54.55
Validation AUC: 0.9702065165718534
Validation class accuracies: [0.9564459930313589, 1.0]
The clause is activated.
The training is defaulting to either class.
Epoch 100/120
152/152 - 216s - loss: 0.0038 - accuracy: 1.0000 - val_loss: 0.1749 - val_accuracy: 0.9603
Confusion matrix: 
 [[550  24]
 [  0  30]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.958 0.042]
 [0.    1.   ]]
Validation f1: 71.43
Validation accuracy: 96.03
Validation recall: 100.00
Validation precision: 55.56
Validation AUC: 0.9700232001987533
Validation class accuracies: [0.9581881533101045, 1.0]
The clause is activated.
The training is defaulting to either class.
Epoch 101/120
152/152 - 216s - loss: 0.0032 - accuracy: 1.0000 - val_loss: 0.1624 - val_accuracy: 0.9652
Confusion matrix: 
 [[553  21]
 [  0  30]]
Normalized Confusion matrix: 
 [[0.963 0.037]
 [0.    1.   ]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 74.07
Validation accuracy: 96.52
Validation recall: 100.00
Validation precision: 58.82
Validation AUC: 0.9721919389732625
Validation class accuracies: [0.9634146341463414, 1.0]
The clause is activated.
The training is defaulting to either class.
Epoch 102/120
152/152 - 217s - loss: 0.0041 - accuracy: 1.0000 - val_loss: 0.1401 - val_accuracy: 0.9735
Confusion matrix: 
 [[558  16]
 [  0  30]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.972 0.028]
 [0.    1.   ]]
Validation f1: 78.95
Validation accuracy: 97.35
Validation recall: 100.00
Validation precision: 65.22
Validation AUC: 0.9686219779184979
Validation class accuracies: [0.9721254355400697, 1.0]
The clause is activated.
The training is defaulting to either class.
Epoch 103/120
152/152 - 216s - loss: 0.0036 - accuracy: 1.0000 - val_loss: 0.1420 - val_accuracy: 0.9719
Confusion matrix: 
 [[557  17]
 [  0  30]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.97 0.03]
 [0.   1.  ]]
Validation f1: 77.92
Validation accuracy: 97.19
Validation recall: 100.00
Validation precision: 63.83
Validation AUC: 0.968278799694632
Validation class accuracies: [0.9703832752613241, 1.0]
The clause is activated.
The training is defaulting to either class.
Epoch 104/120
152/152 - 216s - loss: 0.0033 - accuracy: 1.0000 - val_loss: 0.2080 - val_accuracy: 0.9570
Confusion matrix: 
 [[548  26]
 [  0  30]]
Normalized Confusion matrix: 
 [[0.955 0.045]
 [0.    1.   ]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 69.77
Validation accuracy: 95.70
Validation recall: 100.00
Validation precision: 53.57
Validation AUC: 0.968006449577814
Validation class accuracies: [0.9547038327526133, 1.0]
The clause is activated.
The training is defaulting to either class.
Epoch 105/120
152/152 - 216s - loss: 0.0032 - accuracy: 1.0000 - val_loss: 0.1636 - val_accuracy: 0.9669
Confusion matrix: 
 [[554  20]
 [  0  30]]
Normalized Confusion matrix: 
 [[0.965 0.035]
 [0.    1.   ]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 75.00
Validation accuracy: 96.69
Validation recall: 100.00
Validation precision: 60.00
Validation AUC: 0.9677880549112376
Validation class accuracies: [0.9651567944250871, 1.0]
The clause is activated.
The training is defaulting to either class.
Epoch 106/120
152/152 - 216s - loss: 0.0033 - accuracy: 1.0000 - val_loss: 0.1597 - val_accuracy: 0.9652
Confusion matrix: 
 [[553  21]
 [  0  30]]
Normalized Confusion matrix: 
 [[0.963 0.037]
 [0.    1.   ]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 74.07
Validation accuracy: 96.52
Validation recall: 100.00
Validation precision: 58.82
Validation AUC: 0.9631609664174078
Validation class accuracies: [0.9634146341463414, 1.0]
The clause is activated.
The training is defaulting to either class.
Epoch 107/120
152/152 - 216s - loss: 0.0032 - accuracy: 1.0000 - val_loss: 0.1497 - val_accuracy: 0.9652
Confusion matrix: 
 [[554  20]
 [  1  29]]
Normalized Confusion matrix: 
 [[0.965 0.035]
 [0.033 0.967]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 73.42
Validation accuracy: 96.52
Validation recall: 96.67
Validation precision: 59.18
Validation AUC: 0.9617874757736793
Validation class accuracies: [0.9651567944250871, 0.9666666666666667]
The clause is activated.
The training is defaulting to either class.
Epoch 108/120
152/152 - 216s - loss: 0.0034 - accuracy: 1.0000 - val_loss: 0.2527 - val_accuracy: 0.9536
Confusion matrix: 
 [[546  28]
 [  0  30]]
Normalized Confusion matrix: 
 [[0.951 0.049]
 [0.    1.   ]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 68.18
Validation accuracy: 95.36
Validation recall: 100.00
Validation precision: 51.72
Validation AUC: 0.9452819143671656
Validation class accuracies: [0.9512195121951219, 1.0]
The clause is activated.
The training is defaulting to either class.
Epoch 109/120
152/152 - 216s - loss: 0.0034 - accuracy: 1.0000 - val_loss: 0.2529 - val_accuracy: 0.9536
Confusion matrix: 
 [[546  28]
 [  0  30]]
Normalized Confusion matrix: 
 [[0.951 0.049]
 [0.    1.   ]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 68.18
Validation accuracy: 95.36
Validation recall: 100.00
Validation precision: 51.72
Validation AUC: 0.9489352125896757
Validation class accuracies: [0.9512195121951219, 1.0]
The clause is activated.
The training is defaulting to either class.
Epoch 110/120
152/152 - 216s - loss: 0.0033 - accuracy: 1.0000 - val_loss: 0.1822 - val_accuracy: 0.9636
Confusion matrix: 
 [[552  22]
 [  0  30]]
Normalized Confusion matrix: 
 [[0.962 0.038]
 [0.    1.   ]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 73.17
Validation accuracy: 96.36
Validation recall: 100.00
Validation precision: 57.69
Validation AUC: 0.9639672902269799
Validation class accuracies: [0.9616724738675958, 1.0]
The clause is activated.
The training is defaulting to either class.
Epoch 111/120
152/152 - 216s - loss: 0.0032 - accuracy: 1.0000 - val_loss: 0.2089 - val_accuracy: 0.9570
Confusion matrix: 
 [[548  26]
 [  0  30]]
Normalized Confusion matrix: 
 [[0.955 0.045]
 [0.    1.   ]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 69.77
Validation accuracy: 95.70
Validation recall: 100.00
Validation precision: 53.57
Validation AUC: 0.9665608431118137
Validation class accuracies: [0.9547038327526133, 1.0]
The clause is activated.
The training is defaulting to either class.
Epoch 112/120
152/152 - 216s - loss: 0.0030 - accuracy: 1.0000 - val_loss: 0.1708 - val_accuracy: 0.9669
Confusion matrix: 
 [[554  20]
 [  0  30]]
Normalized Confusion matrix: 
 [[0.965 0.035]
 [0.    1.   ]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 75.00
Validation accuracy: 96.69
Validation recall: 100.00
Validation precision: 60.00
Validation AUC: 0.963600894055646
Validation class accuracies: [0.9651567944250871, 1.0]
The clause is activated.
The training is defaulting to either class.
Epoch 113/120
152/152 - 216s - loss: 0.0031 - accuracy: 1.0000 - val_loss: 0.1926 - val_accuracy: 0.9619
Confusion matrix: 
 [[551  23]
 [  0  30]]
Normalized Confusion matrix: 
 [[0.96 0.04]
 [0.   1.  ]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 72.29
Validation accuracy: 96.19
Validation recall: 100.00
Validation precision: 56.60
Validation AUC: 0.9621789655826523
Validation class accuracies: [0.9599303135888502, 1.0]
The clause is activated.
The training is defaulting to either class.
Epoch 114/120
152/152 - 216s - loss: 0.0031 - accuracy: 1.0000 - val_loss: 0.1648 - val_accuracy: 0.9669
Confusion matrix: 
 [[555  19]
 [  1  29]]
Normalized Confusion matrix: 
 [[0.967 0.033]
 [0.033 0.967]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 74.36
Validation accuracy: 96.69
Validation recall: 96.67
Validation precision: 60.42
Validation AUC: 0.9683776805018031
Validation class accuracies: [0.9668989547038328, 0.9666666666666667]
The clause is activated.
The training is defaulting to either class.
Epoch 115/120
152/152 - 216s - loss: 0.0036 - accuracy: 1.0000 - val_loss: 0.1688 - val_accuracy: 0.9702
Confusion matrix: 
 [[557  17]
 [  1  29]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.97  0.03 ]
 [0.033 0.967]]
Validation f1: 76.32
Validation accuracy: 97.02
Validation recall: 96.67
Validation precision: 63.04
Validation AUC: 0.9620675202551097
Validation class accuracies: [0.9703832752613241, 0.9666666666666667]
The clause is activated.
The training is defaulting to either class.
Epoch 116/120
152/152 - 217s - loss: 0.0031 - accuracy: 1.0000 - val_loss: 0.1963 - val_accuracy: 0.9619
Confusion matrix: 
 [[551  23]
 [  0  30]]
Normalized Confusion matrix: 
 [[0.96 0.04]
 [0.   1.  ]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 72.29
Validation accuracy: 96.19
Validation recall: 100.00
Validation precision: 56.60
Validation AUC: 0.9606806988598848
Validation class accuracies: [0.9599303135888502, 1.0]
The clause is activated.
The training is defaulting to either class.
Epoch 117/120
152/152 - 216s - loss: 0.0030 - accuracy: 1.0000 - val_loss: 0.1600 - val_accuracy: 0.9702
Confusion matrix: 
 [[557  17]
 [  1  29]]
Normalized Confusion matrix: 
 [[0.97  0.03 ]
 [0.033 0.967]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 76.32
Validation accuracy: 97.02
Validation recall: 96.67
Validation precision: 63.04
Validation AUC: 0.9596206062537771
Validation class accuracies: [0.9703832752613241, 0.9666666666666667]
The clause is activated.
The training is defaulting to either class.
Epoch 118/120
152/152 - 217s - loss: 0.0031 - accuracy: 1.0000 - val_loss: 0.1618 - val_accuracy: 0.9669
Confusion matrix: 
 [[555  19]
 [  1  29]]
Normalized Confusion matrix: 
 [[0.967 0.033]
 [0.033 0.967]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 74.36
Validation accuracy: 96.69
Validation recall: 96.67
Validation precision: 60.42
Validation AUC: 0.9611789972955609
Validation class accuracies: [0.9668989547038328, 0.9666666666666667]
The clause is activated.
The training is defaulting to either class.
Epoch 119/120
152/152 - 217s - loss: 0.0083 - accuracy: 1.0000 - val_loss: 0.3031 - val_accuracy: 0.9387
Confusion matrix: 
 [[537  37]
 [  0  30]]
Normalized Confusion matrix: 
 [[0.936 0.064]
 [0.    1.   ]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 61.86
Validation accuracy: 93.87
Validation recall: 100.00
Validation precision: 44.78
Validation AUC: 0.9298562625343809
Validation class accuracies: [0.9355400696864111, 1.0]
The clause is activated.
Not defaulting.
The validation tracker metric at 0.6593406593406593 hasn't increased by 0 in 22 epochs
Epoch 120/120
152/152 - 216s - loss: 0.0046 - accuracy: 0.9992 - val_loss: 0.2350 - val_accuracy: 0.9520
Confusion matrix: 
 [[545  29]
 [  0  30]]
Normalized Confusion matrix: 
 [[0.949 0.051]
 [0.    1.   ]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 67.42
Validation accuracy: 95.20
Validation recall: 100.00
Validation precision: 50.85
Validation AUC: 0.968100139742047
Validation class accuracies: [0.9494773519163763, 1.0]

The metrics for job 0 with the best target metric are: 
Best cm: [[543  31]
 [  0  30]]
Best normalized cm: [[0.946 0.054]
 [0.    1.   ]]
Best f1: 0.66
Best accuracy: 0.95
Best recall: 1.00
Best precision: 0.49
Best AUC: 0.96
Best class accuracies: [0.945993031358885, 1.0]
Best epoch: 26
The clause is activated.
The training is defaulting to either class.
-----------------------
Parameters: {'N_CLASSES': 1, 'SR': 8000, 'BATCH_SIZE': 16, 'LR': 0.0001, 'SHAPE': [128, 1250], 'LL2_REG': 0, 'WEIGHT_DECAY': 0.001, 'N_EPOCHS': 120, 'FACTOR': 0.75, 'PATIENCE': 6, 'MIN_LR': 1e-07, 'LABEL_SMOOTHING': 0, 'EPSILON': 1e-07, 'ES_PATIENCE': 50, 'OVERSAMPLE': 0, 'MIN_DELTA': 0, 'PARAM': 'v39', 'EPOCH_START': 1, 'CLAUSE': 1, 'CUBEROOTING': 1, 'AUGMENTATION': 0, 'TARGET': 1, 'INITIAL_CHANNELS': 1, 'ADAPTIVE_LR': 1, 'CLASS_WEIGHTS': 1, 'SIX': 0, 'CONCAT': 0, 'TESTING': 0}
-----------------------
Collecting Variables...
All variables have been collected.
Pneumonia patients: 148, Non-pneumonia patients: 2873
The initial learning rate for this job is: 0.001
Initializing weights...
weights = {0: 0.5257570483814827, 1: 10.20608108108108}
Model: "conv2d"
______________________________________________________________________________________________________________
Layer (type)                        Output Shape            Param #      Connected to                         
==============================================================================================================
input_2 (InputLayer)                [(None, 128, 1250, 1)]  0                                                 
______________________________________________________________________________________________________________
batch_normalization_6 (BatchNormali (None, 128, 1250, 1)    4            input_2[0][0]                        
______________________________________________________________________________________________________________
conv2d_5 (Conv2D)                   (None, 128, 1250, 16)   32           batch_normalization_6[0][0]          
______________________________________________________________________________________________________________
conv2d_7 (Conv2D)                   (None, 128, 1250, 16)   32           batch_normalization_6[0][0]          
______________________________________________________________________________________________________________
max_pooling2d_1 (MaxPooling2D)      (None, 128, 1250, 1)    0            batch_normalization_6[0][0]          
______________________________________________________________________________________________________________
conv2d_6 (Conv2D)                   (None, 128, 1250, 16)   2320         conv2d_5[0][0]                       
______________________________________________________________________________________________________________
conv2d_8 (Conv2D)                   (None, 128, 1250, 16)   6416         conv2d_7[0][0]                       
______________________________________________________________________________________________________________
conv2d_9 (Conv2D)                   (None, 128, 1250, 16)   32           max_pooling2d_1[0][0]                
______________________________________________________________________________________________________________
concatenate_1 (Concatenate)         (None, 128, 1250, 48)   0            conv2d_6[0][0]                       
                                                                         conv2d_8[0][0]                       
                                                                         conv2d_9[0][0]                       
______________________________________________________________________________________________________________
average_pooling2d_5 (AveragePooling (None, 64, 625, 48)     0            concatenate_1[0][0]                  
______________________________________________________________________________________________________________
batch_normalization_7 (BatchNormali (None, 64, 625, 48)     192          average_pooling2d_5[0][0]            
______________________________________________________________________________________________________________
dropout_5 (Dropout)                 (None, 64, 625, 48)     0            batch_normalization_7[0][0]          
______________________________________________________________________________________________________________
inverted_residual_10 (InvertedResid (None, 64, 625, 32)     35840        dropout_5[0][0]                      
______________________________________________________________________________________________________________
inverted_residual_11 (InvertedResid (None, 64, 625, 32)     20864        inverted_residual_10[0][0]           
______________________________________________________________________________________________________________
average_pooling2d_6 (AveragePooling (None, 32, 312, 32)     0            inverted_residual_11[0][0]           
______________________________________________________________________________________________________________
batch_normalization_8 (BatchNormali (None, 32, 312, 32)     128          average_pooling2d_6[0][0]            
______________________________________________________________________________________________________________
dropout_6 (Dropout)                 (None, 32, 312, 32)     0            batch_normalization_8[0][0]          
______________________________________________________________________________________________________________
inverted_residual_12 (InvertedResid (None, 32, 312, 64)     27136        dropout_6[0][0]                      
______________________________________________________________________________________________________________
inverted_residual_13 (InvertedResid (None, 32, 312, 64)     66304        inverted_residual_12[0][0]           
______________________________________________________________________________________________________________
average_pooling2d_7 (AveragePooling (None, 16, 156, 64)     0            inverted_residual_13[0][0]           
______________________________________________________________________________________________________________
batch_normalization_9 (BatchNormali (None, 16, 156, 64)     256          average_pooling2d_7[0][0]            
______________________________________________________________________________________________________________
dropout_7 (Dropout)                 (None, 16, 156, 64)     0            batch_normalization_9[0][0]          
______________________________________________________________________________________________________________
inverted_residual_14 (InvertedResid (None, 16, 156, 128)    91136        dropout_7[0][0]                      
______________________________________________________________________________________________________________
inverted_residual_15 (InvertedResid (None, 16, 156, 128)    230912       inverted_residual_14[0][0]           
______________________________________________________________________________________________________________
average_pooling2d_8 (AveragePooling (None, 8, 78, 128)      0            inverted_residual_15[0][0]           
______________________________________________________________________________________________________________
batch_normalization_10 (BatchNormal (None, 8, 78, 128)      512          average_pooling2d_8[0][0]            
______________________________________________________________________________________________________________
dropout_8 (Dropout)                 (None, 8, 78, 128)      0            batch_normalization_10[0][0]         
______________________________________________________________________________________________________________
inverted_residual_16 (InvertedResid (None, 8, 78, 256)      329728       dropout_8[0][0]                      
______________________________________________________________________________________________________________
inverted_residual_17 (InvertedResid (None, 8, 78, 256)      855040       inverted_residual_16[0][0]           
______________________________________________________________________________________________________________
average_pooling2d_9 (AveragePooling (None, 4, 39, 256)      0            inverted_residual_17[0][0]           
______________________________________________________________________________________________________________
batch_normalization_11 (BatchNormal (None, 4, 39, 256)      1024         average_pooling2d_9[0][0]            
______________________________________________________________________________________________________________
dropout_9 (Dropout)                 (None, 4, 39, 256)      0            batch_normalization_11[0][0]         
______________________________________________________________________________________________________________
inverted_residual_18 (InvertedResid (None, 4, 39, 512)      1249280      dropout_9[0][0]                      
______________________________________________________________________________________________________________
inverted_residual_19 (InvertedResid (None, 4, 39, 512)      3282944      inverted_residual_18[0][0]           
______________________________________________________________________________________________________________
global_average_pooling2d_1 (GlobalA (None, 512)             0            inverted_residual_19[0][0]           
______________________________________________________________________________________________________________
dense_1 (Dense)                     (None, 1)               513          global_average_pooling2d_1[0][0]     
==============================================================================================================
Total params: 6,200,645
Trainable params: 6,159,139
Non-trainable params: 41,506
______________________________________________________________________________________________________________
Epoch 1/120
152/152 - 216s - loss: 0.6334 - accuracy: 0.6045 - val_loss: 0.2796 - val_accuracy: 0.9503
Confusion matrix: 
 [[574   0]
 [ 30   0]]
Normalized Confusion matrix: 
 [[1. 0.]
 [1. 0.]]
Validation f1: 0.00
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/sklearn/metrics/_classification.py:1272: UndefinedMetricWarning: Precision and F-score are ill-defined and being set to 0.0 due to no predicted samples. Use `zero_division` parameter to control this behavior.
  _warn_prf(average, modifier, msg_start, len(result))
Validation accuracy: 95.03
Validation recall: 0.00
Validation precision: 0.00
Validation AUC: 0.08140208266214913
Validation class accuracies: [1.0, 0.0]
The clause is activated.
The training is defaulting to either class.
Epoch 2/120
152/152 - 216s - loss: 0.4465 - accuracy: 0.7356 - val_loss: 0.2509 - val_accuracy: 0.9503
Confusion matrix: 
 [[574   0]
 [ 30   0]]
Normalized Confusion matrix: 
 [[1. 0.]
 [1. 0.]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/sklearn/metrics/_classification.py:1272: UndefinedMetricWarning: Precision and F-score are ill-defined and being set to 0.0 due to no predicted samples. Use `zero_division` parameter to control this behavior.
  _warn_prf(average, modifier, msg_start, len(result))
Validation f1: 0.00
Validation accuracy: 95.03
Validation recall: 0.00
Validation precision: 0.00
Validation AUC: 0.053307206816226985
Validation class accuracies: [1.0, 0.0]
The clause is activated.
The training is defaulting to either class.
Epoch 3/120
152/152 - 215s - loss: 0.3666 - accuracy: 0.7948 - val_loss: 0.2286 - val_accuracy: 0.9503
Confusion matrix: 
 [[574   0]
 [ 30   0]]
Normalized Confusion matrix: 
 [[1. 0.]
 [1. 0.]]
Validation f1: 0.00
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/sklearn/metrics/_classification.py:1272: UndefinedMetricWarning: Precision and F-score are ill-defined and being set to 0.0 due to no predicted samples. Use `zero_division` parameter to control this behavior.
  _warn_prf(average, modifier, msg_start, len(result))
Validation accuracy: 95.03
Validation recall: 0.00
Validation precision: 0.00
Validation AUC: 0.04446181909366996
Validation class accuracies: [1.0, 0.0]
The clause is activated.
The training is defaulting to either class.
Epoch 4/120
152/152 - 215s - loss: 0.3345 - accuracy: 0.8109 - val_loss: 0.3737 - val_accuracy: 0.9503
Confusion matrix: 
 [[574   0]
 [ 30   0]]
Normalized Confusion matrix: 
 [[1. 0.]
 [1. 0.]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/sklearn/metrics/_classification.py:1272: UndefinedMetricWarning: Precision and F-score are ill-defined and being set to 0.0 due to no predicted samples. Use `zero_division` parameter to control this behavior.
  _warn_prf(average, modifier, msg_start, len(result))
Validation f1: 0.00
Validation accuracy: 95.03
Validation recall: 0.00
Validation precision: 0.00
Validation AUC: 0.043916397902612134
Validation class accuracies: [1.0, 0.0]
The clause is activated.
The training is defaulting to either class.
Epoch 5/120
152/152 - 215s - loss: 0.2724 - accuracy: 0.8709 - val_loss: 0.2983 - val_accuracy: 0.9387
Confusion matrix: 
 [[566   8]
 [ 29   1]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.986 0.014]
 [0.967 0.033]]
Validation f1: 5.13
Validation accuracy: 93.87
Validation recall: 3.33
Validation precision: 11.11
Validation AUC: 0.10434037644273526
Validation class accuracies: [0.9860627177700348, 0.03333333333333333]
The clause is activated.
The training is defaulting to either class.
Epoch 6/120
152/152 - 215s - loss: 0.2391 - accuracy: 0.8937 - val_loss: 0.1372 - val_accuracy: 0.9702
Confusion matrix: 
 [[564  10]
 [  8  22]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.983 0.017]
 [0.267 0.733]]
Validation f1: 70.97
Validation accuracy: 97.02
Validation recall: 73.33
Validation precision: 68.75
Validation AUC: 0.7588436695853894
Validation class accuracies: [0.9825783972125436, 0.7333333333333333]
The clause is activated.
The training is defaulting to either class.
Epoch 7/120
152/152 - 216s - loss: 0.1945 - accuracy: 0.9077 - val_loss: 0.2852 - val_accuracy: 0.9437
Confusion matrix: 
 [[542  32]
 [  2  28]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.944 0.056]
 [0.067 0.933]]
Validation f1: 62.22
Validation accuracy: 94.37
Validation recall: 93.33
Validation precision: 46.67
Validation AUC: 0.8306820669055754
Validation class accuracies: [0.9442508710801394, 0.9333333333333333]
The clause is activated.
The training is defaulting to either class.
Epoch 8/120
152/152 - 216s - loss: 0.1768 - accuracy: 0.9264 - val_loss: 0.2275 - val_accuracy: 0.9354
Confusion matrix: 
 [[556  18]
 [ 21   9]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.969 0.031]
 [0.7   0.3  ]]
Validation f1: 31.58
Validation accuracy: 93.54
Validation recall: 30.00
Validation precision: 33.33
Validation AUC: 0.34546571248407276
Validation class accuracies: [0.9686411149825784, 0.3]
The clause is activated.
The training is defaulting to either class.
Epoch 9/120
152/152 - 215s - loss: 0.1441 - accuracy: 0.9421 - val_loss: 0.6868 - val_accuracy: 0.6440
Confusion matrix: 
 [[359 215]
 [  0  30]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.625 0.375]
 [0.    1.   ]]
Validation f1: 21.82
Validation accuracy: 64.40
Validation recall: 100.00
Validation precision: 12.24
Validation AUC: 0.9056407626891573
Validation class accuracies: [0.6254355400696864, 1.0]
The clause is activated.
Not defaulting.
Saving model...
Epoch 10/120
152/152 - 216s - loss: 0.1276 - accuracy: 0.9582 - val_loss: 0.1606 - val_accuracy: 0.9520
Confusion matrix: 
 [[545  29]
 [  0  30]]
Normalized Confusion matrix: 
 [[0.949 0.051]
 [0.    1.   ]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 67.42
Validation accuracy: 95.20
Validation recall: 100.00
Validation precision: 50.85
Validation AUC: 0.929248079258804
Validation class accuracies: [0.9494773519163763, 1.0]
The clause is activated.
The training is defaulting to either class.
Epoch 11/120
152/152 - 215s - loss: 0.1325 - accuracy: 0.9516 - val_loss: 0.1904 - val_accuracy: 0.9338
Confusion matrix: 
 [[535  39]
 [  1  29]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.932 0.068]
 [0.033 0.967]]
Validation f1: 59.18
Validation accuracy: 93.38
Validation recall: 96.67
Validation precision: 42.65
Validation AUC: 0.9188608462835861
Validation class accuracies: [0.9320557491289199, 0.9666666666666667]
The clause is activated.
Not defaulting.
Saving model...
Epoch 12/120
152/152 - 215s - loss: 0.1114 - accuracy: 0.9607 - val_loss: 0.3140 - val_accuracy: 0.9288
Confusion matrix: 
 [[534  40]
 [  3  27]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.93 0.07]
 [0.1  0.9 ]]
Validation f1: 55.67
Validation accuracy: 92.88
Validation recall: 90.00
Validation precision: 40.30
Validation AUC: 0.8519582837499642
Validation class accuracies: [0.9303135888501742, 0.9]
The clause is activated.
Not defaulting.
The validation tracker metric at 0.5918367346938775 hasn't increased by 0 in 1 epochs
Epoch 13/120
152/152 - 215s - loss: 0.1025 - accuracy: 0.9665 - val_loss: 0.1765 - val_accuracy: 0.9685
Confusion matrix: 
 [[563  11]
 [  8  22]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.981 0.019]
 [0.267 0.733]]
Validation f1: 69.84
Validation accuracy: 96.85
Validation recall: 73.33
Validation precision: 66.67
Validation AUC: 0.7440846080779377
Validation class accuracies: [0.980836236933798, 0.7333333333333333]
The clause is activated.
The training is defaulting to either class.
Epoch 14/120
152/152 - 215s - loss: 0.1075 - accuracy: 0.9694 - val_loss: 0.0773 - val_accuracy: 0.9818
Confusion matrix: 
 [[564  10]
 [  1  29]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.983 0.017]
 [0.033 0.967]]
Validation f1: 84.06
Validation accuracy: 98.18
Validation recall: 96.67
Validation precision: 74.36
Validation AUC: 0.9662109990051165
Validation class accuracies: [0.9825783972125436, 0.9666666666666667]
The clause is activated.
The training is defaulting to either class.
Epoch 15/120
152/152 - 215s - loss: 0.0754 - accuracy: 0.9768 - val_loss: 0.2399 - val_accuracy: 0.9437
Confusion matrix: 
 [[540  34]
 [  0  30]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.941 0.059]
 [0.    1.   ]]
Validation f1: 63.83
Validation accuracy: 94.37
Validation recall: 100.00
Validation precision: 46.88
Validation AUC: 0.9563350270125104
Validation class accuracies: [0.9407665505226481, 1.0]
The clause is activated.
Not defaulting.
Saving model...
Epoch 16/120
152/152 - 216s - loss: 0.0656 - accuracy: 0.9909 - val_loss: 0.3515 - val_accuracy: 0.9007
Confusion matrix: 
 [[514  60]
 [  0  30]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.895 0.105]
 [0.    1.   ]]
Validation f1: 50.00
Validation accuracy: 90.07
Validation recall: 100.00
Validation precision: 33.33
Validation AUC: 0.8277730601389512
Validation class accuracies: [0.8954703832752613, 1.0]
The clause is activated.
Not defaulting.
The validation tracker metric at 0.6382978723404256 hasn't increased by 0 in 1 epochs
Epoch 17/120
152/152 - 216s - loss: 0.0682 - accuracy: 0.9810 - val_loss: 0.9623 - val_accuracy: 0.7815
Confusion matrix: 
 [[442 132]
 [  0  30]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.77 0.23]
 [0.   1.  ]]
Validation f1: 31.25
Validation accuracy: 78.15
Validation recall: 100.00
Validation precision: 18.52
Validation AUC: 0.903751712241002
Validation class accuracies: [0.7700348432055749, 1.0]
The clause is activated.
Not defaulting.
The validation tracker metric at 0.6382978723404256 hasn't increased by 0 in 2 epochs
Epoch 18/120
152/152 - 215s - loss: 0.0680 - accuracy: 0.9830 - val_loss: 0.1595 - val_accuracy: 0.9685
Confusion matrix: 
 [[555  19]
 [  0  30]]
Normalized Confusion matrix: 
 [[0.967 0.033]
 [0.    1.   ]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 75.95
Validation accuracy: 96.85
Validation recall: 100.00
Validation precision: 61.22
Validation AUC: 0.9351428011962003
Validation class accuracies: [0.9668989547038328, 1.0]
The clause is activated.
The training is defaulting to either class.
Epoch 19/120
152/152 - 216s - loss: 0.0462 - accuracy: 0.9926 - val_loss: 0.1318 - val_accuracy: 0.9785
Confusion matrix: 
 [[561  13]
 [  0  30]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.977 0.023]
 [0.    1.   ]]
Validation f1: 82.19
Validation accuracy: 97.85
Validation recall: 100.00
Validation precision: 69.77
Validation AUC: 0.9657479763350414
Validation class accuracies: [0.9773519163763066, 1.0]
The clause is activated.
The training is defaulting to either class.
Epoch 20/120
152/152 - 216s - loss: 0.0567 - accuracy: 0.9880 - val_loss: 0.1069 - val_accuracy: 0.9768
Confusion matrix: 
 [[560  14]
 [  0  30]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.976 0.024]
 [0.    1.   ]]
Validation f1: 81.08
Validation accuracy: 97.68
Validation recall: 100.00
Validation precision: 68.18
Validation AUC: 0.9644288446797895
Validation class accuracies: [0.975609756097561, 1.0]
The clause is activated.
The training is defaulting to either class.
Epoch 21/120
152/152 - 215s - loss: 0.0535 - accuracy: 0.9888 - val_loss: 0.3948 - val_accuracy: 0.9123
Confusion matrix: 
 [[521  53]
 [  0  30]]
Normalized Confusion matrix: 
 [[0.908 0.092]
 [0.    1.   ]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 53.10
Validation accuracy: 91.23
Validation recall: 100.00
Validation precision: 36.14
Validation AUC: 0.8664383673073808
Validation class accuracies: [0.9076655052264808, 1.0]
The clause is activated.
Not defaulting.
The validation tracker metric at 0.6382978723404256 hasn't increased by 0 in 3 epochs
Epoch 22/120
152/152 - 215s - loss: 0.0370 - accuracy: 0.9954 - val_loss: 0.1761 - val_accuracy: 0.9636
Confusion matrix: 
 [[553  21]
 [  1  29]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.963 0.037]
 [0.033 0.967]]
Validation f1: 72.50
Validation accuracy: 96.36
Validation recall: 96.67
Validation precision: 58.00
Validation AUC: 0.945120605496631
Validation class accuracies: [0.9634146341463414, 0.9666666666666667]
The clause is activated.
The training is defaulting to either class.
Epoch 23/120
152/152 - 216s - loss: 0.0676 - accuracy: 0.9863 - val_loss: 0.0674 - val_accuracy: 0.9768
Confusion matrix: 
 [[571   3]
 [ 11  19]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.995 0.005]
 [0.367 0.633]]
Validation f1: 73.08
Validation accuracy: 97.68
Validation recall: 63.33
Validation precision: 86.36
Validation AUC: 0.7992294522423791
Validation class accuracies: [0.9947735191637631, 0.6333333333333333]
The clause is activated.
The training is defaulting to either class.
Epoch 24/120
152/152 - 216s - loss: 0.0346 - accuracy: 0.9967 - val_loss: 0.4496 - val_accuracy: 0.8957
Confusion matrix: 
 [[511  63]
 [  0  30]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.89 0.11]
 [0.   1.  ]]
Validation f1: 48.78
Validation accuracy: 89.57
Validation recall: 100.00
Validation precision: 32.26
Validation AUC: 0.9302829664874064
Validation class accuracies: [0.8902439024390244, 1.0]
The clause is activated.
Not defaulting.
The validation tracker metric at 0.6382978723404256 hasn't increased by 0 in 4 epochs
Epoch 25/120
152/152 - 216s - loss: 0.0662 - accuracy: 0.9810 - val_loss: 0.0774 - val_accuracy: 0.9818
Confusion matrix: 
 [[563  11]
 [  0  30]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.981 0.019]
 [0.    1.   ]]
Validation f1: 84.51
Validation accuracy: 98.18
Validation recall: 100.00
Validation precision: 73.17
Validation AUC: 0.9453557598692557
Validation class accuracies: [0.980836236933798, 1.0]
local_gc_exec.sh: line 6:  6195 Killed                  python -m models.$MODULE_NAME --train-file $LOCAL_TRAIN_FILE --job-dir $LOCAL_JOB_DIR --params "$PARAMS" --wav-params "$WAV_PARAMS" --spec-params "$SPEC_PARAMS"

 See logs at ../../new_cache/conv__2216__06_0401__v39__icbhi_pneumonia_test/logs//home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/multiprocessing/semaphore_tracker.py:144: UserWarning: semaphore_tracker: There appear to be 6 leaked semaphores to clean up at shutdown
  len(cache))
