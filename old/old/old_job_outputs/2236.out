Category:  coch
Dataset:  all_sw_coch_preprocessed_v2_param_v39_augm_v0_cleaned_8000.pkl
File:  conv.train2236
Description:  newdata
2021-06-22 02:05:58.247507: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcudart.so.11.0
WARNING:tensorflow:From /home/alirachidi/classification_algorithm/trainers/main/models/conv/modules/augmentation.py:19: experimental_run_functions_eagerly (from tensorflow.python.eager.def_function) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.config.run_functions_eagerly` instead of the experimental version.
2021-06-22 02:06:01.007420: I tensorflow/compiler/jit/xla_cpu_device.cc:41] Not creating XLA devices, tf_xla_enable_xla_devices not set
2021-06-22 02:06:01.008447: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcuda.so.1
2021-06-22 02:06:01.022357: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-22 02:06:01.023506: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1720] Found device 0 with properties: 
pciBusID: 0000:00:05.0 name: Tesla T4 computeCapability: 7.5
coreClock: 1.59GHz coreCount: 40 deviceMemorySize: 14.75GiB deviceMemoryBandwidth: 298.08GiB/s
2021-06-22 02:06:01.023544: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcudart.so.11.0
2021-06-22 02:06:01.027336: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcublas.so.11
2021-06-22 02:06:01.027424: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcublasLt.so.11
2021-06-22 02:06:01.028622: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcufft.so.10
2021-06-22 02:06:01.028927: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcurand.so.10
2021-06-22 02:06:01.030037: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcusolver.so.10
2021-06-22 02:06:01.030997: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcusparse.so.11
2021-06-22 02:06:01.031156: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcudnn.so.8
2021-06-22 02:06:01.031286: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-22 02:06:01.032121: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-22 02:06:01.032928: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1862] Adding visible gpu devices: 0
Tensorflow Version: 2.4.0
Num GPUs Available:  1
-----------------------
Using module: nv/train2236.py
Using train_file: ../../data/datasets/all_sw_coch_preprocessed_v2_param_v39_augm_v0_cleaned_8000.pkl
Job directory: ../../new_cache/conv__2236__06_0205__v39__newdata
Parameters: {'N_CLASSES': 1, 'SR': 8000, 'BATCH_SIZE': 16, 'LR': 0.001, 'SHAPE': [128, 1250], 'LL2_REG': 0, 'WEIGHT_DECAY': 0.001, 'N_EPOCHS': 65, 'FACTOR': 0.5, 'PATIENCE': 6, 'MIN_LR': 1e-07, 'LABEL_SMOOTHING': 0, 'EPSILON': 1e-07, 'ES_PATIENCE': 20, 'OVERSAMPLE': 0, 'MIN_DELTA': 0, 'PARAM': 'v39', 'EPOCH_START': 1, 'CLAUSE': 0, 'CUBEROOTING': 1, 'NORMALIZING': 1, 'AUGMENTATION': 1, 'TARGET': 1, 'INITIAL_CHANNELS': 1, 'ADAPTIVE_LR': 1, 'CLASS_WEIGHTS': 1, 'SIX': 0, 'CONCAT': 0, 'TESTING': 0}
Augmentation parameters for audio: {'ADD': 1, 'QUANTITY': 300, 'WAV_PATH': 'v42'}
Augmentation parameters for spectrograms: {'ADD': 0, 'QUANTITY': 300, 'TIME_MASKING': 1, 'FREQUENCY_MASKING': 1, 'LOUDNESS': 0}
-----------------------
Collecting Variables...
All variables have been collected.
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow_addons/utils/ensure_tf_install.py:68: UserWarning: Tensorflow Addons supports using Python ops for all Tensorflow versions above or equal to 2.2.0 and strictly below 2.3.0 (nightly versions are not supported). 
 The versions of TensorFlow you are currently using is 2.4.0 and is not supported. 
Some things might work, some things might not.
If you were to encounter a bug, do not file an issue.
If you want to make sure you're using a tested and supported configuration, either change the TensorFlow version or the TensorFlow Addons's version. 
You can find the compatibility matrix in TensorFlow Addon's readme:
https://github.com/tensorflow/addons
  UserWarning,
wandb: W&B syncing is set to `offline` in this directory.  Run `wandb online` or set WANDB_MODE=online to enable cloud syncing.
2021-06-22 02:06:06.289933: I tensorflow/compiler/jit/xla_gpu_device.cc:99] Not creating XLA devices, tf_xla_enable_xla_devices not set
2021-06-22 02:06:06.290216: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-22 02:06:06.291005: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1720] Found device 0 with properties: 
pciBusID: 0000:00:05.0 name: Tesla T4 computeCapability: 7.5
coreClock: 1.59GHz coreCount: 40 deviceMemorySize: 14.75GiB deviceMemoryBandwidth: 298.08GiB/s
2021-06-22 02:06:06.291061: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcudart.so.11.0
2021-06-22 02:06:06.291129: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcublas.so.11
2021-06-22 02:06:06.291163: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcublasLt.so.11
2021-06-22 02:06:06.291199: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcufft.so.10
2021-06-22 02:06:06.291249: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcurand.so.10
2021-06-22 02:06:06.291281: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcusolver.so.10
2021-06-22 02:06:06.291312: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcusparse.so.11
2021-06-22 02:06:06.291341: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcudnn.so.8
2021-06-22 02:06:06.291462: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-22 02:06:06.292292: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-22 02:06:06.293066: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1862] Adding visible gpu devices: 0
2021-06-22 02:06:06.293121: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcudart.so.11.0
2021-06-22 02:06:07.128601: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1261] Device interconnect StreamExecutor with strength 1 edge matrix:
2021-06-22 02:06:07.128653: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1267]      0 
2021-06-22 02:06:07.128663: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1280] 0:   N 
2021-06-22 02:06:07.128953: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-22 02:06:07.129792: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-22 02:06:07.130563: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-22 02:06:07.131297: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1406] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 13968 MB memory) -> physical GPU (device: 0, name: Tesla T4, pci bus id: 0000:00:05.0, compute capability: 7.5)
Pneumonia patients: 148, Non-pneumonia patients: 2873
Pneumonia patients: 199, Non-pneumonia patients: 3810
-----------------------
Number of train recordings: 3207 with pneumonia: 161 and non-pneumonia: 3046
Length of training samples after audio augmentation: 3368
-----------------------
Number of train recordings: 3368 with pneumonia: 322 and non-pneumonia: 3046
Length of training samples after audio augmentation: 3968
-----------------------
Number of train recordings: 3968 with pneumonia: 322 and non-pneumonia: 3646
Number of val recordings: 802 with pneumonia: 38 and non-pneumonia: 764
-----------------------
The initial learning rate for this job is: 0.0008082157258064517
Initializing weights...
weights = {0: 0.5261154855643044, 1: 10.07286432160804}
Model: "conv2d"
______________________________________________________________________________________________________________
Layer (type)                        Output Shape            Param #      Connected to                         
==============================================================================================================
input_1 (InputLayer)                [(None, 128, 1250, 1)]  0                                                 
______________________________________________________________________________________________________________
batch_normalization (BatchNormaliza (None, 128, 1250, 1)    4            input_1[0][0]                        
______________________________________________________________________________________________________________
conv2d (Conv2D)                     (None, 128, 1250, 16)   32           batch_normalization[0][0]            
______________________________________________________________________________________________________________
conv2d_2 (Conv2D)                   (None, 128, 1250, 16)   32           batch_normalization[0][0]            
______________________________________________________________________________________________________________
max_pooling2d (MaxPooling2D)        (None, 128, 1250, 1)    0            batch_normalization[0][0]            
______________________________________________________________________________________________________________
conv2d_1 (Conv2D)                   (None, 128, 1250, 16)   2320         conv2d[0][0]                         
______________________________________________________________________________________________________________
conv2d_3 (Conv2D)                   (None, 128, 1250, 16)   6416         conv2d_2[0][0]                       
______________________________________________________________________________________________________________
conv2d_4 (Conv2D)                   (None, 128, 1250, 16)   32           max_pooling2d[0][0]                  
______________________________________________________________________________________________________________
concatenate (Concatenate)           (None, 128, 1250, 48)   0            conv2d_1[0][0]                       
                                                                         conv2d_3[0][0]                       
                                                                         conv2d_4[0][0]                       
______________________________________________________________________________________________________________
average_pooling2d (AveragePooling2D (None, 64, 625, 48)     0            concatenate[0][0]                    
______________________________________________________________________________________________________________
batch_normalization_1 (BatchNormali (None, 64, 625, 48)     192          average_pooling2d[0][0]              
______________________________________________________________________________________________________________
dropout (Dropout)                   (None, 64, 625, 48)     0            batch_normalization_1[0][0]          
______________________________________________________________________________________________________________
inverted_residual (InvertedResidual (None, 64, 625, 32)     35840        dropout[0][0]                        
______________________________________________________________________________________________________________
inverted_residual_1 (InvertedResidu (None, 64, 625, 32)     20864        inverted_residual[0][0]              
______________________________________________________________________________________________________________
average_pooling2d_1 (AveragePooling (None, 32, 312, 32)     0            inverted_residual_1[0][0]            
______________________________________________________________________________________________________________
batch_normalization_2 (BatchNormali (None, 32, 312, 32)     128          average_pooling2d_1[0][0]            
______________________________________________________________________________________________________________
dropout_1 (Dropout)                 (None, 32, 312, 32)     0            batch_normalization_2[0][0]          
______________________________________________________________________________________________________________
inverted_residual_2 (InvertedResidu (None, 32, 312, 64)     27136        dropout_1[0][0]                      
______________________________________________________________________________________________________________
inverted_residual_3 (InvertedResidu (None, 32, 312, 64)     66304        inverted_residual_2[0][0]            
______________________________________________________________________________________________________________
average_pooling2d_2 (AveragePooling (None, 16, 156, 64)     0            inverted_residual_3[0][0]            
______________________________________________________________________________________________________________
batch_normalization_3 (BatchNormali (None, 16, 156, 64)     256          average_pooling2d_2[0][0]            
______________________________________________________________________________________________________________
dropout_2 (Dropout)                 (None, 16, 156, 64)     0            batch_normalization_3[0][0]          
______________________________________________________________________________________________________________
inverted_residual_4 (InvertedResidu (None, 16, 156, 128)    91136        dropout_2[0][0]                      
______________________________________________________________________________________________________________
inverted_residual_5 (InvertedResidu (None, 16, 156, 128)    230912       inverted_residual_4[0][0]            
______________________________________________________________________________________________________________
average_pooling2d_3 (AveragePooling (None, 8, 78, 128)      0            inverted_residual_5[0][0]            
______________________________________________________________________________________________________________
batch_normalization_4 (BatchNormali (None, 8, 78, 128)      512          average_pooling2d_3[0][0]            
______________________________________________________________________________________________________________
dropout_3 (Dropout)                 (None, 8, 78, 128)      0            batch_normalization_4[0][0]          
______________________________________________________________________________________________________________
inverted_residual_6 (InvertedResidu (None, 8, 78, 256)      329728       dropout_3[0][0]                      
______________________________________________________________________________________________________________
inverted_residual_7 (InvertedResidu (None, 8, 78, 256)      855040       inverted_residual_6[0][0]            
______________________________________________________________________________________________________________
average_pooling2d_4 (AveragePooling (None, 4, 39, 256)      0            inverted_residual_7[0][0]            
______________________________________________________________________________________________________________
batch_normalization_5 (BatchNormali (None, 4, 39, 256)      1024         average_pooling2d_4[0][0]            
______________________________________________________________________________________________________________
dropout_4 (Dropout)                 (None, 4, 39, 256)      0            batch_normalization_5[0][0]          
______________________________________________________________________________________________________________
inverted_residual_8 (InvertedResidu (None, 4, 39, 512)      1249280      dropout_4[0][0]                      
______________________________________________________________________________________________________________
inverted_residual_9 (InvertedResidu (None, 4, 39, 512)      3282944      inverted_residual_8[0][0]            
______________________________________________________________________________________________________________
global_average_pooling2d (GlobalAve (None, 512)             0            inverted_residual_9[0][0]            
______________________________________________________________________________________________________________
dense (Dense)                       (None, 1)               513          global_average_pooling2d[0][0]       
==============================================================================================================
Total params: 6,200,645
Trainable params: 6,159,139
Non-trainable params: 41,506
______________________________________________________________________________________________________________
2021-06-22 02:06:08.601192: I tensorflow/compiler/mlir/mlir_graph_optimization_pass.cc:116] None of the MLIR optimization passes are enabled (registered 2)
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
2021-06-22 02:06:08.602926: I tensorflow/core/platform/profile_utils/cpu_utils.cc:112] CPU Frequency: 2299995000 Hz
2021-06-22 02:06:09.032382: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcudnn.so.8
2021-06-22 02:06:11.140679: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcublas.so.11
2021-06-22 02:06:11.717566: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcublasLt.so.11
Epoch 1/65
248/248 - 354s - loss: 0.9482 - accuracy: 0.5902 - val_loss: 0.5309 - val_accuracy: 0.9526
Confusion matrix: 
 [[764   0]
 [ 38   0]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/sklearn/metrics/_classification.py:1272: UndefinedMetricWarning: Precision and F-score are ill-defined and being set to 0.0 due to no predicted samples. Use `zero_division` parameter to control this behavior.
  _warn_prf(average, modifier, msg_start, len(result))
Normalized Confusion matrix: 
 [[1. 0.]
 [1. 0.]]
Validation f1: 0.00
Validation accuracy: 95.26
Validation recall: 0.00
Validation precision: 0.00
Validation AUC: 0.06163372447180368
Validation class accuracies: [1.0, 0.0]
The validation tracker metric at 0 hasn't increased by 0 in 1 epochs
Epoch 2/65
248/248 - 351s - loss: 0.6416 - accuracy: 0.6520 - val_loss: 0.2076 - val_accuracy: 0.9526
Confusion matrix: 
 [[764   0]
 [ 38   0]]
Normalized Confusion matrix: 
 [[1. 0.]
 [1. 0.]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/sklearn/metrics/_classification.py:1272: UndefinedMetricWarning: Precision and F-score are ill-defined and being set to 0.0 due to no predicted samples. Use `zero_division` parameter to control this behavior.
  _warn_prf(average, modifier, msg_start, len(result))
Validation f1: 0.00
Validation accuracy: 95.26
Validation recall: 0.00
Validation precision: 0.00
Validation AUC: 0.037606123779327545
Validation class accuracies: [1.0, 0.0]
The validation tracker metric at 0 hasn't increased by 0 in 2 epochs
Epoch 3/65
248/248 - 351s - loss: 0.5650 - accuracy: 0.6658 - val_loss: 1.1965 - val_accuracy: 0.2843
Confusion matrix: 
 [[195 569]
 [  5  33]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.255 0.745]
 [0.132 0.868]]
Validation f1: 10.31
Validation accuracy: 28.43
Validation recall: 86.84
Validation precision: 5.48
Validation AUC: 0.06109494340652081
Validation class accuracies: [0.25523560209424084, 0.868421052631579]
Saving model...
Epoch 4/65
248/248 - 351s - loss: 0.5811 - accuracy: 0.6754 - val_loss: 1.6559 - val_accuracy: 0.2419
Confusion matrix: 
 [[159 605]
 [  3  35]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.208 0.792]
 [0.079 0.921]]
Validation f1: 10.32
Validation accuracy: 24.19
Validation recall: 92.11
Validation precision: 5.47
Validation AUC: 0.04490451266878122
Validation class accuracies: [0.2081151832460733, 0.9210526315789473]
Saving model...
Epoch 5/65
248/248 - 351s - loss: 0.5125 - accuracy: 0.6968 - val_loss: 1.1541 - val_accuracy: 0.3666
Confusion matrix: 
 [[266 498]
 [ 10  28]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.348 0.652]
 [0.263 0.737]]
Validation f1: 9.93
Validation accuracy: 36.66
Validation recall: 73.68
Validation precision: 5.32
Validation AUC: 0.11415887108506714
Validation class accuracies: [0.3481675392670157, 0.7368421052631579]
The validation tracker metric at 0.1032448377581121 hasn't increased by 0 in 1 epochs
Epoch 6/65
248/248 - 351s - loss: 0.4155 - accuracy: 0.7717 - val_loss: 2.3158 - val_accuracy: 0.1970
Confusion matrix: 
 [[122 642]
 [  2  36]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.16  0.84 ]
 [0.053 0.947]]
Validation f1: 10.06
Validation accuracy: 19.70
Validation recall: 94.74
Validation precision: 5.31
Validation AUC: 0.0607458354616634
Validation class accuracies: [0.15968586387434555, 0.9473684210526315]
The validation tracker metric at 0.1032448377581121 hasn't increased by 0 in 2 epochs
Epoch 7/65
248/248 - 351s - loss: 0.3410 - accuracy: 0.8145 - val_loss: 2.0299 - val_accuracy: 0.1496
Confusion matrix: 
 [[ 86 678]
 [  4  34]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.113 0.887]
 [0.105 0.895]]
Validation f1: 9.07
Validation accuracy: 14.96
Validation recall: 89.47
Validation precision: 4.78
Validation AUC: 0.05397240904455457
Validation class accuracies: [0.112565445026178, 0.8947368421052632]
The validation tracker metric at 0.1032448377581121 hasn't increased by 0 in 3 epochs
Epoch 8/65
248/248 - 351s - loss: 0.3057 - accuracy: 0.8478 - val_loss: 0.7877 - val_accuracy: 0.6446
Confusion matrix: 
 [[500 264]
 [ 21  17]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.654 0.346]
 [0.553 0.447]]
Validation f1: 10.66
Validation accuracy: 64.46
Validation recall: 44.74
Validation precision: 6.05
Validation AUC: 0.05846196398769784
Validation class accuracies: [0.6544502617801047, 0.4473684210526316]
Saving model...
Epoch 9/65
248/248 - 352s - loss: 0.2462 - accuracy: 0.8639 - val_loss: 1.0192 - val_accuracy: 0.5349
Confusion matrix: 
 [[400 364]
 [  9  29]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.524 0.476]
 [0.237 0.763]]
Validation f1: 13.46
Validation accuracy: 53.49
Validation recall: 76.32
Validation precision: 7.38
Validation AUC: 0.15219088375516643
Validation class accuracies: [0.5235602094240838, 0.7631578947368421]
Saving model...
Epoch 10/65
248/248 - 351s - loss: 0.2448 - accuracy: 0.8742 - val_loss: 0.6999 - val_accuracy: 0.6471
Confusion matrix: 
 [[496 268]
 [ 15  23]]
Normalized Confusion matrix: 
 [[0.649 0.351]
 [0.395 0.605]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 13.98
Validation accuracy: 64.71
Validation recall: 60.53
Validation precision: 7.90
Validation AUC: 0.16918338214051085
Validation class accuracies: [0.6492146596858639, 0.6052631578947368]
Saving model...
Epoch 11/65
248/248 - 351s - loss: 0.2261 - accuracy: 0.8914 - val_loss: 0.8652 - val_accuracy: 0.5960
Confusion matrix: 
 [[456 308]
 [ 16  22]]
Normalized Confusion matrix: 
 [[0.597 0.403]
 [0.421 0.579]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 11.96
Validation accuracy: 59.60
Validation recall: 57.89
Validation precision: 6.67
Validation AUC: 0.18531766425184382
Validation class accuracies: [0.5968586387434555, 0.5789473684210527]
The validation tracker metric at 0.1398176291793313 hasn't increased by 0 in 1 epochs
Epoch 12/65
248/248 - 351s - loss: 0.2004 - accuracy: 0.8942 - val_loss: 0.9885 - val_accuracy: 0.6097
Confusion matrix: 
 [[467 297]
 [ 16  22]]
Normalized Confusion matrix: 
 [[0.611 0.389]
 [0.421 0.579]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 12.32
Validation accuracy: 60.97
Validation recall: 57.89
Validation precision: 6.90
Validation AUC: 0.08165460124148848
Validation class accuracies: [0.6112565445026178, 0.5789473684210527]
The validation tracker metric at 0.1398176291793313 hasn't increased by 0 in 2 epochs
Epoch 13/65
248/248 - 351s - loss: 0.1613 - accuracy: 0.9229 - val_loss: 1.6981 - val_accuracy: 0.3903
Confusion matrix: 
 [[284 480]
 [  9  29]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.372 0.628]
 [0.237 0.763]]
Validation f1: 10.60
Validation accuracy: 39.03
Validation recall: 76.32
Validation precision: 5.70
Validation AUC: 0.11851068349373868
Validation class accuracies: [0.3717277486910995, 0.7631578947368421]
The validation tracker metric at 0.1398176291793313 hasn't increased by 0 in 3 epochs
Epoch 14/65
248/248 - 351s - loss: 0.1851 - accuracy: 0.9176 - val_loss: 0.4352 - val_accuracy: 0.8441
Confusion matrix: 
 [[669  95]
 [ 30   8]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.876 0.124]
 [0.789 0.211]]
Validation f1: 11.35
Validation accuracy: 84.41
Validation recall: 21.05
Validation precision: 7.77
Validation AUC: 0.07635179756135613
Validation class accuracies: [0.8756544502617801, 0.21052631578947367]
The validation tracker metric at 0.1398176291793313 hasn't increased by 0 in 4 epochs
Epoch 15/65
248/248 - 351s - loss: 0.1286 - accuracy: 0.9408 - val_loss: 5.7617 - val_accuracy: 0.1110
Confusion matrix: 
 [[ 51 713]
 [  0  38]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.067 0.933]
 [0.    1.   ]]
Validation f1: 9.63
Validation accuracy: 11.10
Validation recall: 100.00
Validation precision: 5.06
Validation AUC: 0.105350727639067
Validation class accuracies: [0.06675392670157068, 1.0]
The validation tracker metric at 0.1398176291793313 hasn't increased by 0 in 5 epochs
Epoch 16/65
248/248 - 352s - loss: 0.1434 - accuracy: 0.9362 - val_loss: 3.8835 - val_accuracy: 0.2207
Confusion matrix: 
 [[141 623]
 [  2  36]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.185 0.815]
 [0.053 0.947]]
Validation f1: 10.33
Validation accuracy: 22.07
Validation recall: 94.74
Validation precision: 5.46
Validation AUC: 0.06359368581215008
Validation class accuracies: [0.18455497382198952, 0.9473684210526315]
The validation tracker metric at 0.1398176291793313 hasn't increased by 0 in 6 epochs
Lr has been adjusted to 0.0005000000237487257
Epoch 17/65
248/248 - 351s - loss: 0.0970 - accuracy: 0.9483 - val_loss: 0.2694 - val_accuracy: 0.9140
Confusion matrix: 
 [[728  36]
 [ 33   5]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.953 0.047]
 [0.868 0.132]]
Validation f1: 12.66
Validation accuracy: 91.40
Validation recall: 13.16
Validation precision: 12.20
Validation AUC: 0.10778502769977577
Validation class accuracies: [0.9528795811518325, 0.13157894736842105]
The validation tracker metric at 0.1398176291793313 hasn't increased by 0 in 7 epochs
Epoch 18/65
248/248 - 351s - loss: 0.0762 - accuracy: 0.9640 - val_loss: 0.2943 - val_accuracy: 0.8978
Confusion matrix: 
 [[712  52]
 [ 30   8]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.932 0.068]
 [0.789 0.211]]
Validation f1: 16.33
Validation accuracy: 89.78
Validation recall: 21.05
Validation precision: 13.33
Validation AUC: 0.17134106203822266
Validation class accuracies: [0.9319371727748691, 0.21052631578947367]
Saving model...
Epoch 19/65
248/248 - 351s - loss: 0.0504 - accuracy: 0.9783 - val_loss: 0.3134 - val_accuracy: 0.8940
Confusion matrix: 
 [[710  54]
 [ 31   7]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.929 0.071]
 [0.816 0.184]]
Validation f1: 14.14
Validation accuracy: 89.40
Validation recall: 18.42
Validation precision: 11.48
Validation AUC: 0.12453154106648844
Validation class accuracies: [0.9293193717277487, 0.18421052631578946]
The validation tracker metric at 0.163265306122449 hasn't increased by 0 in 1 epochs
Epoch 20/65
248/248 - 351s - loss: 0.0296 - accuracy: 0.9859 - val_loss: 0.2513 - val_accuracy: 0.9289
Confusion matrix: 
 [[738  26]
 [ 31   7]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.966 0.034]
 [0.816 0.184]]
Validation f1: 19.72
Validation accuracy: 92.89
Validation recall: 18.42
Validation precision: 21.21
Validation AUC: 0.18516360121968542
Validation class accuracies: [0.9659685863874345, 0.18421052631578946]
Saving model...
Epoch 21/65
248/248 - 351s - loss: 0.0288 - accuracy: 0.9902 - val_loss: 0.2983 - val_accuracy: 0.9140
Confusion matrix: 
 [[726  38]
 [ 31   7]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.95  0.05 ]
 [0.816 0.184]]
Validation f1: 16.87
Validation accuracy: 91.40
Validation recall: 18.42
Validation precision: 15.56
Validation AUC: 0.14112001118305442
Validation class accuracies: [0.9502617801047121, 0.18421052631578946]
The validation tracker metric at 0.1971830985915493 hasn't increased by 0 in 1 epochs
Epoch 22/65
248/248 - 351s - loss: 0.0191 - accuracy: 0.9927 - val_loss: 0.2589 - val_accuracy: 0.9451
Confusion matrix: 
 [[751  13]
 [ 31   7]]
Normalized Confusion matrix: 
 [[0.983 0.017]
 [0.816 0.184]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 24.14
Validation accuracy: 94.51
Validation recall: 18.42
Validation precision: 35.00
Validation AUC: 0.18032644537541234
Validation class accuracies: [0.9829842931937173, 0.18421052631578946]
Saving model...
Epoch 23/65
248/248 - 351s - loss: 0.0162 - accuracy: 0.9937 - val_loss: 0.2688 - val_accuracy: 0.9439
Confusion matrix: 
 [[750  14]
 [ 31   7]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.982 0.018]
 [0.816 0.184]]
Validation f1: 23.73
Validation accuracy: 94.39
Validation recall: 18.42
Validation precision: 33.33
Validation AUC: 0.1754145073747666
Validation class accuracies: [0.981675392670157, 0.18421052631578946]
The validation tracker metric at 0.24137931034482757 hasn't increased by 0 in 1 epochs
Epoch 24/65
248/248 - 351s - loss: 0.0164 - accuracy: 0.9945 - val_loss: 0.2782 - val_accuracy: 0.9401
Confusion matrix: 
 [[746  18]
 [ 30   8]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.976 0.024]
 [0.789 0.211]]
Validation f1: 25.00
Validation accuracy: 94.01
Validation recall: 21.05
Validation precision: 30.77
Validation AUC: 0.17939486955872774
Validation class accuracies: [0.9764397905759162, 0.21052631578947367]
Saving model...
Epoch 25/65
248/248 - 351s - loss: 0.0248 - accuracy: 0.9912 - val_loss: 0.3139 - val_accuracy: 0.9264
Confusion matrix: 
 [[737  27]
 [ 32   6]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.965 0.035]
 [0.842 0.158]]
Validation f1: 16.90
Validation accuracy: 92.64
Validation recall: 15.79
Validation precision: 18.18
Validation AUC: 0.15977081996563114
Validation class accuracies: [0.9646596858638743, 0.15789473684210525]
The validation tracker metric at 0.25 hasn't increased by 0 in 1 epochs
Epoch 26/65
248/248 - 351s - loss: 0.0424 - accuracy: 0.9806 - val_loss: 0.3207 - val_accuracy: 0.9040
Confusion matrix: 
 [[717  47]
 [ 30   8]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.938 0.062]
 [0.789 0.211]]
Validation f1: 17.20
Validation accuracy: 90.40
Validation recall: 21.05
Validation precision: 14.55
Validation AUC: 0.15341694334220338
Validation class accuracies: [0.9384816753926701, 0.21052631578947367]
The validation tracker metric at 0.25 hasn't increased by 0 in 2 epochs
Epoch 27/65
248/248 - 351s - loss: 0.0175 - accuracy: 0.9942 - val_loss: 0.3176 - val_accuracy: 0.9302
Confusion matrix: 
 [[739  25]
 [ 31   7]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.967 0.033]
 [0.816 0.184]]
Validation f1: 20.00
Validation accuracy: 93.02
Validation recall: 18.42
Validation precision: 21.88
Validation AUC: 0.17094256965305152
Validation class accuracies: [0.9672774869109948, 0.18421052631578946]
The validation tracker metric at 0.25 hasn't increased by 0 in 3 epochs
Epoch 28/65
248/248 - 351s - loss: 0.0143 - accuracy: 0.9929 - val_loss: 0.3353 - val_accuracy: 0.9489
Confusion matrix: 
 [[756   8]
 [ 33   5]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.99  0.01 ]
 [0.868 0.132]]
Validation f1: 19.61
Validation accuracy: 94.89
Validation recall: 13.16
Validation precision: 38.46
Validation AUC: 0.1498794454988782
Validation class accuracies: [0.9895287958115183, 0.13157894736842105]
The validation tracker metric at 0.25 hasn't increased by 0 in 4 epochs
Epoch 29/65
248/248 - 351s - loss: 0.0410 - accuracy: 0.9834 - val_loss: 0.3719 - val_accuracy: 0.9414
Confusion matrix: 
 [[751  13]
 [ 34   4]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.983 0.017]
 [0.895 0.105]]
Validation f1: 14.55
Validation accuracy: 94.14
Validation recall: 10.53
Validation precision: 23.53
Validation AUC: 0.1273603517950736
Validation class accuracies: [0.9829842931937173, 0.10526315789473684]
The validation tracker metric at 0.25 hasn't increased by 0 in 5 epochs
Epoch 30/65
248/248 - 351s - loss: 0.0115 - accuracy: 0.9962 - val_loss: 0.3353 - val_accuracy: 0.9339
Confusion matrix: 
 [[741  23]
 [ 30   8]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.97  0.03 ]
 [0.789 0.211]]
Validation f1: 23.19
Validation accuracy: 93.39
Validation recall: 21.05
Validation precision: 25.81
Validation AUC: 0.1435318381626864
Validation class accuracies: [0.9698952879581152, 0.21052631578947367]
The validation tracker metric at 0.25 hasn't increased by 0 in 6 epochs
Lr has been adjusted to 0.0002500000118743628
Epoch 31/65
248/248 - 352s - loss: 0.0094 - accuracy: 0.9967 - val_loss: 0.3396 - val_accuracy: 0.9289
Confusion matrix: 
 [[737  27]
 [ 30   8]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.965 0.035]
 [0.789 0.211]]
Validation f1: 21.92
Validation accuracy: 92.89
Validation recall: 21.05
Validation precision: 22.86
Validation AUC: 0.14582715297554796
Validation class accuracies: [0.9646596858638743, 0.21052631578947367]
The validation tracker metric at 0.25 hasn't increased by 0 in 7 epochs
Epoch 32/65
248/248 - 351s - loss: 0.0148 - accuracy: 0.9937 - val_loss: 0.3835 - val_accuracy: 0.9252
Confusion matrix: 
 [[733  31]
 [ 29   9]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.959 0.041]
 [0.763 0.237]]
Validation f1: 23.08
Validation accuracy: 92.52
Validation recall: 23.68
Validation precision: 22.50
Validation AUC: 0.12090154633840265
Validation class accuracies: [0.9594240837696335, 0.23684210526315788]
The validation tracker metric at 0.25 hasn't increased by 0 in 8 epochs
Epoch 33/65
248/248 - 351s - loss: 0.0121 - accuracy: 0.9960 - val_loss: 0.3683 - val_accuracy: 0.9214
Confusion matrix: 
 [[730  34]
 [ 29   9]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.955 0.045]
 [0.763 0.237]]
Validation f1: 22.22
Validation accuracy: 92.14
Validation recall: 23.68
Validation precision: 20.93
Validation AUC: 0.1545012379718558
Validation class accuracies: [0.9554973821989529, 0.23684210526315788]
The validation tracker metric at 0.25 hasn't increased by 0 in 9 epochs
Epoch 34/65
248/248 - 351s - loss: 0.0144 - accuracy: 0.9945 - val_loss: 0.3700 - val_accuracy: 0.9389
Confusion matrix: 
 [[745  19]
 [ 30   8]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.975 0.025]
 [0.789 0.211]]
Validation f1: 24.62
Validation accuracy: 93.89
Validation recall: 21.05
Validation precision: 29.63
Validation AUC: 0.1519639860468815
Validation class accuracies: [0.975130890052356, 0.21052631578947367]
The validation tracker metric at 0.25 hasn't increased by 0 in 10 epochs
Epoch 35/65
248/248 - 351s - loss: 0.0066 - accuracy: 0.9972 - val_loss: 0.3616 - val_accuracy: 0.9451
Confusion matrix: 
 [[751  13]
 [ 31   7]]
Normalized Confusion matrix: 
 [[0.983 0.017]
 [0.816 0.184]]
Validation f1: 24.14
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation accuracy: 94.51
Validation recall: 18.42
Validation precision: 35.00
Validation AUC: 0.16388090735666316
Validation class accuracies: [0.9829842931937173, 0.18421052631578946]
The validation tracker metric at 0.25 hasn't increased by 0 in 11 epochs
Epoch 36/65
248/248 - 352s - loss: 0.0092 - accuracy: 0.9960 - val_loss: 0.4393 - val_accuracy: 0.9065
Confusion matrix: 
 [[718  46]
 [ 29   9]]
Normalized Confusion matrix: 
 [[0.94  0.06 ]
 [0.763 0.237]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 19.35
Validation accuracy: 90.65
Validation recall: 23.68
Validation precision: 16.36
Validation AUC: 0.15811053206578854
Validation class accuracies: [0.9397905759162304, 0.23684210526315788]
The validation tracker metric at 0.25 hasn't increased by 0 in 12 epochs
Lr has been adjusted to 0.0001250000059371814
Epoch 37/65
248/248 - 352s - loss: 0.0074 - accuracy: 0.9970 - val_loss: 0.3777 - val_accuracy: 0.9364
Confusion matrix: 
 [[743  21]
 [ 30   8]]
Normalized Confusion matrix: 
 [[0.973 0.027]
 [0.789 0.211]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 23.88
Validation accuracy: 93.64
Validation recall: 21.05
Validation precision: 27.59
Validation AUC: 0.15423449626703517
Validation class accuracies: [0.9725130890052356, 0.21052631578947367]
The validation tracker metric at 0.25 hasn't increased by 0 in 13 epochs
Epoch 38/65
248/248 - 353s - loss: 0.0068 - accuracy: 0.9977 - val_loss: 0.3791 - val_accuracy: 0.9302
Confusion matrix: 
 [[737  27]
 [ 29   9]]
Normalized Confusion matrix: 
 [[0.965 0.035]
 [0.763 0.237]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 24.32
Validation accuracy: 93.02
Validation recall: 23.68
Validation precision: 25.00
Validation AUC: 0.15521177987800505
Validation class accuracies: [0.9646596858638743, 0.23684210526315788]
The validation tracker metric at 0.25 hasn't increased by 0 in 14 epochs
Epoch 39/65
248/248 - 352s - loss: 0.0048 - accuracy: 0.9985 - val_loss: 0.3698 - val_accuracy: 0.9426
Confusion matrix: 
 [[748  16]
 [ 30   8]]
Normalized Confusion matrix: 
 [[0.979 0.021]
 [0.789 0.211]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 25.81
Validation accuracy: 94.26
Validation recall: 21.05
Validation precision: 33.33
Validation AUC: 0.160662251770014
Validation class accuracies: [0.9790575916230366, 0.21052631578947367]
Saving model...
Epoch 40/65
248/248 - 352s - loss: 0.0060 - accuracy: 0.9985 - val_loss: 0.3669 - val_accuracy: 0.9314
Confusion matrix: 
 [[738  26]
 [ 29   9]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.966 0.034]
 [0.763 0.237]]
Validation f1: 24.66
Validation accuracy: 93.14
Validation recall: 23.68
Validation precision: 25.71
Validation AUC: 0.17191374376057877
Validation class accuracies: [0.9659685863874345, 0.23684210526315788]
The validation tracker metric at 0.2580645161290323 hasn't increased by 0 in 1 epochs
Epoch 41/65
248/248 - 351s - loss: 0.0047 - accuracy: 0.9992 - val_loss: 0.3611 - val_accuracy: 0.9439
Confusion matrix: 
 [[749  15]
 [ 30   8]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.98  0.02 ]
 [0.789 0.211]]
Validation f1: 26.23
Validation accuracy: 94.39
Validation recall: 21.05
Validation precision: 34.78
Validation AUC: 0.17060431261445563
Validation class accuracies: [0.9803664921465969, 0.21052631578947367]
Saving model...
Epoch 42/65
248/248 - 351s - loss: 0.0036 - accuracy: 0.9997 - val_loss: 0.3623 - val_accuracy: 0.9426
Confusion matrix: 
 [[748  16]
 [ 30   8]]
Normalized Confusion matrix: 
 [[0.979 0.021]
 [0.789 0.211]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 25.81
Validation accuracy: 94.26
Validation recall: 21.05
Validation precision: 33.33
Validation AUC: 0.16964320864998
Validation class accuracies: [0.9790575916230366, 0.21052631578947367]
The validation tracker metric at 0.26229508196721313 hasn't increased by 0 in 1 epochs
Epoch 43/65
248/248 - 351s - loss: 0.0128 - accuracy: 0.9985 - val_loss: 0.3789 - val_accuracy: 0.9439
Confusion matrix: 
 [[750  14]
 [ 31   7]]
Normalized Confusion matrix: 
 [[0.982 0.018]
 [0.816 0.184]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 23.73
Validation accuracy: 94.39
Validation recall: 18.42
Validation precision: 33.33
Validation AUC: 0.16738399951660962
Validation class accuracies: [0.981675392670157, 0.18421052631578946]
The validation tracker metric at 0.26229508196721313 hasn't increased by 0 in 2 epochs
Epoch 44/65
248/248 - 351s - loss: 0.0057 - accuracy: 0.9977 - val_loss: 0.3658 - val_accuracy: 0.9414
Confusion matrix: 
 [[747  17]
 [ 30   8]]
Normalized Confusion matrix: 
 [[0.978 0.022]
 [0.789 0.211]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 25.40
Validation accuracy: 94.14
Validation recall: 21.05
Validation precision: 32.00
Validation AUC: 0.16077693985738004
Validation class accuracies: [0.9777486910994765, 0.21052631578947367]
The validation tracker metric at 0.26229508196721313 hasn't increased by 0 in 3 epochs
Epoch 45/65
248/248 - 351s - loss: 0.0060 - accuracy: 0.9985 - val_loss: 0.3829 - val_accuracy: 0.9389
Confusion matrix: 
 [[745  19]
 [ 30   8]]
Normalized Confusion matrix: 
 [[0.975 0.025]
 [0.789 0.211]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 24.62
Validation accuracy: 93.89
Validation recall: 21.05
Validation precision: 29.63
Validation AUC: 0.16818721685282484
Validation class accuracies: [0.975130890052356, 0.21052631578947367]
The validation tracker metric at 0.26229508196721313 hasn't increased by 0 in 4 epochs
Epoch 46/65
248/248 - 353s - loss: 0.0059 - accuracy: 0.9982 - val_loss: 0.3809 - val_accuracy: 0.9426
Confusion matrix: 
 [[749  15]
 [ 31   7]]
Normalized Confusion matrix: 
 [[0.98  0.02 ]
 [0.816 0.184]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 23.33
Validation accuracy: 94.26
Validation recall: 18.42
Validation precision: 31.82
Validation AUC: 0.1706296388959956
Validation class accuracies: [0.9803664921465969, 0.18421052631578946]
The validation tracker metric at 0.26229508196721313 hasn't increased by 0 in 5 epochs
Epoch 47/65
248/248 - 351s - loss: 0.0035 - accuracy: 0.9985 - val_loss: 0.3696 - val_accuracy: 0.9451
Confusion matrix: 
 [[751  13]
 [ 31   7]]
Normalized Confusion matrix: 
 [[0.983 0.017]
 [0.816 0.184]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 24.14
Validation accuracy: 94.51
Validation recall: 18.42
Validation precision: 35.00
Validation AUC: 0.17103256293945673
Validation class accuracies: [0.9829842931937173, 0.18421052631578946]
The validation tracker metric at 0.26229508196721313 hasn't increased by 0 in 6 epochs
Lr has been adjusted to 6.25000029685907e-05
Epoch 48/65
248/248 - 353s - loss: 0.0040 - accuracy: 0.9997 - val_loss: 0.3831 - val_accuracy: 0.9339
Confusion matrix: 
 [[741  23]
 [ 30   8]]
Normalized Confusion matrix: 
 [[0.97  0.03 ]
 [0.789 0.211]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 23.19
Validation accuracy: 93.39
Validation recall: 21.05
Validation precision: 25.81
Validation AUC: 0.16924122175623946
Validation class accuracies: [0.9698952879581152, 0.21052631578947367]
The validation tracker metric at 0.26229508196721313 hasn't increased by 0 in 7 epochs
Epoch 49/65
248/248 - 355s - loss: 0.0033 - accuracy: 0.9992 - val_loss: 0.3778 - val_accuracy: 0.9352
Confusion matrix: 
 [[742  22]
 [ 30   8]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.971 0.029]
 [0.789 0.211]]
Validation f1: 23.53
Validation accuracy: 93.52
Validation recall: 21.05
Validation precision: 26.67
Validation AUC: 0.1720998034884427
Validation class accuracies: [0.9712041884816754, 0.21052631578947367]
The validation tracker metric at 0.26229508196721313 hasn't increased by 0 in 8 epochs
Epoch 50/65
248/248 - 355s - loss: 0.0025 - accuracy: 0.9997 - val_loss: 0.3754 - val_accuracy: 0.9314
Confusion matrix: 
 [[739  25]
 [ 30   8]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.967 0.033]
 [0.789 0.211]]
Validation f1: 22.54
Validation accuracy: 93.14
Validation recall: 21.05
Validation precision: 24.24
Validation AUC: 0.1733457310335782
Validation class accuracies: [0.9672774869109948, 0.21052631578947367]
The validation tracker metric at 0.26229508196721313 hasn't increased by 0 in 9 epochs
Epoch 51/65
248/248 - 355s - loss: 0.0026 - accuracy: 0.9997 - val_loss: 0.3735 - val_accuracy: 0.9377
Confusion matrix: 
 [[744  20]
 [ 30   8]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.974 0.026]
 [0.789 0.211]]
Validation f1: 24.24
Validation accuracy: 93.77
Validation recall: 21.05
Validation precision: 28.57
Validation AUC: 0.17256644600538376
Validation class accuracies: [0.9738219895287958, 0.21052631578947367]
The validation tracker metric at 0.26229508196721313 hasn't increased by 0 in 10 epochs
Epoch 52/65
248/248 - 355s - loss: 0.0034 - accuracy: 0.9997 - val_loss: 0.3778 - val_accuracy: 0.9401
Confusion matrix: 
 [[746  18]
 [ 30   8]]
Normalized Confusion matrix: 
 [[0.976 0.024]
 [0.789 0.211]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 25.00
Validation accuracy: 94.01
Validation recall: 21.05
Validation precision: 30.77
Validation AUC: 0.1768015923917553
Validation class accuracies: [0.9764397905759162, 0.21052631578947367]
The validation tracker metric at 0.26229508196721313 hasn't increased by 0 in 11 epochs
Epoch 53/65
248/248 - 355s - loss: 0.0030 - accuracy: 0.9992 - val_loss: 0.3695 - val_accuracy: 0.9377
Confusion matrix: 
 [[744  20]
 [ 30   8]]
Normalized Confusion matrix: 
 [[0.974 0.026]
 [0.789 0.211]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 24.24
Validation accuracy: 93.77
Validation recall: 21.05
Validation precision: 28.57
Validation AUC: 0.1782332455195511
Validation class accuracies: [0.9738219895287958, 0.21052631578947367]
The validation tracker metric at 0.26229508196721313 hasn't increased by 0 in 12 epochs
Lr has been adjusted to 3.125000148429535e-05
Epoch 54/65
248/248 - 355s - loss: 0.0023 - accuracy: 0.9995 - val_loss: 0.3691 - val_accuracy: 0.9401
Confusion matrix: 
 [[746  18]
 [ 30   8]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.976 0.024]
 [0.789 0.211]]
Validation f1: 25.00
Validation accuracy: 94.01
Validation recall: 21.05
Validation precision: 30.77
Validation AUC: 0.17789160211494864
Validation class accuracies: [0.9764397905759162, 0.21052631578947367]
The validation tracker metric at 0.26229508196721313 hasn't increased by 0 in 13 epochs
Epoch 55/65
248/248 - 355s - loss: 0.0137 - accuracy: 0.9982 - val_loss: 0.3808 - val_accuracy: 0.9327
Confusion matrix: 
 [[740  24]
 [ 30   8]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.969 0.031]
 [0.789 0.211]]
Validation f1: 22.86
Validation accuracy: 93.27
Validation recall: 21.05
Validation precision: 25.00
Validation AUC: 0.1709893571943156
Validation class accuracies: [0.9685863874345549, 0.21052631578947367]
The validation tracker metric at 0.26229508196721313 hasn't increased by 0 in 14 epochs
Epoch 56/65
248/248 - 355s - loss: 0.0034 - accuracy: 0.9992 - val_loss: 0.3788 - val_accuracy: 0.9339
Confusion matrix: 
 [[741  23]
 [ 30   8]]
Normalized Confusion matrix: 
 [[0.97  0.03 ]
 [0.789 0.211]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 23.19
Validation accuracy: 93.39
Validation recall: 21.05
Validation precision: 25.81
Validation AUC: 0.1725607894140234
Validation class accuracies: [0.9698952879581152, 0.21052631578947367]
The validation tracker metric at 0.26229508196721313 hasn't increased by 0 in 15 epochs
Epoch 57/65
248/248 - 355s - loss: 0.0028 - accuracy: 0.9992 - val_loss: 0.3772 - val_accuracy: 0.9377
Confusion matrix: 
 [[744  20]
 [ 30   8]]
Normalized Confusion matrix: 
 [[0.974 0.026]
 [0.789 0.211]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 24.24
Validation accuracy: 93.77
Validation recall: 21.05
Validation precision: 28.57
Validation AUC: 0.1730122110700905
Validation class accuracies: [0.9738219895287958, 0.21052631578947367]
The validation tracker metric at 0.26229508196721313 hasn't increased by 0 in 16 epochs
Epoch 58/65
248/248 - 355s - loss: 0.0025 - accuracy: 0.9990 - val_loss: 0.3768 - val_accuracy: 0.9364
Confusion matrix: 
 [[743  21]
 [ 30   8]]
Normalized Confusion matrix: 
 [[0.973 0.027]
 [0.789 0.211]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 23.88
Validation accuracy: 93.64
Validation recall: 21.05
Validation precision: 27.59
Validation AUC: 0.17505243572006607
Validation class accuracies: [0.9725130890052356, 0.21052631578947367]
The validation tracker metric at 0.26229508196721313 hasn't increased by 0 in 17 epochs
Epoch 59/65
248/248 - 354s - loss: 0.0030 - accuracy: 0.9992 - val_loss: 0.3763 - val_accuracy: 0.9401
Confusion matrix: 
 [[746  18]
 [ 30   8]]
Normalized Confusion matrix: 
 [[0.976 0.024]
 [0.789 0.211]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 25.00
Validation accuracy: 94.01
Validation recall: 21.05
Validation precision: 30.77
Validation AUC: 0.17415581293704027
Validation class accuracies: [0.9764397905759162, 0.21052631578947367]
The validation tracker metric at 0.26229508196721313 hasn't increased by 0 in 18 epochs
Lr has been adjusted to 1.5625000742147677e-05
Epoch 60/65
248/248 - 354s - loss: 0.0045 - accuracy: 0.9995 - val_loss: 0.3778 - val_accuracy: 0.9352
Confusion matrix: 
 [[742  22]
 [ 30   8]]
Normalized Confusion matrix: 
 [[0.971 0.029]
 [0.789 0.211]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 23.53
Validation accuracy: 93.52
Validation recall: 21.05
Validation precision: 26.67
Validation AUC: 0.1744007409093385
Validation class accuracies: [0.9712041884816754, 0.21052631578947367]
The validation tracker metric at 0.26229508196721313 hasn't increased by 0 in 19 epochs
Epoch 61/65
248/248 - 350s - loss: 0.0056 - accuracy: 0.9990 - val_loss: 0.3800 - val_accuracy: 0.9414
Confusion matrix: 
 [[747  17]
 [ 30   8]]
Normalized Confusion matrix: 
 [[0.978 0.022]
 [0.789 0.211]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 25.40
Validation accuracy: 94.14
Validation recall: 21.05
Validation precision: 32.00
Validation AUC: 0.17462493562052364
Validation class accuracies: [0.9777486910994765, 0.21052631578947367]

The metrics for job 0 with the best target metric are: 
Best cm: [[749  15]
 [ 30   8]]
Best normalized cm: [[0.98  0.02 ]
 [0.789 0.211]]
Best f1: 0.26
Best accuracy: 0.94
Best recall: 0.21
Best precision: 0.35
Best AUC: 0.17
Best class accuracies: [0.9803664921465969, 0.21052631578947367]
Best epoch: 41
The number of epochs since last 1% equals the patience
-----------------------
Model 9 with new params
Changing augmentation to v43
Audio Augmentation Parameters: {'ADD': 1, 'QUANTITY': 300, 'WAV_PATH': 'v43'}
Collecting Variables...
All variables have been collected.
Pneumonia patients: 148, Non-pneumonia patients: 2873
Pneumonia patients: 199, Non-pneumonia patients: 3810
-----------------------
Number of train recordings: 3207 with pneumonia: 161 and non-pneumonia: 3046
Length of training samples after audio augmentation: 3368
-----------------------
Number of train recordings: 3368 with pneumonia: 322 and non-pneumonia: 3046
Length of training samples after audio augmentation: 3968
-----------------------
Number of train recordings: 3968 with pneumonia: 322 and non-pneumonia: 3646
Number of val recordings: 802 with pneumonia: 38 and non-pneumonia: 764
-----------------------
The initial learning rate for this job is: 0.0008082157258064517
Initializing weights...
weights = {0: 0.5261154855643044, 1: 10.07286432160804}
Model: "conv2d"
______________________________________________________________________________________________________________
Layer (type)                        Output Shape            Param #      Connected to                         
==============================================================================================================
input_2 (InputLayer)                [(None, 128, 1250, 1)]  0                                                 
______________________________________________________________________________________________________________
batch_normalization_6 (BatchNormali (None, 128, 1250, 1)    4            input_2[0][0]                        
______________________________________________________________________________________________________________
conv2d_5 (Conv2D)                   (None, 128, 1250, 16)   32           batch_normalization_6[0][0]          
______________________________________________________________________________________________________________
conv2d_7 (Conv2D)                   (None, 128, 1250, 16)   32           batch_normalization_6[0][0]          
______________________________________________________________________________________________________________
max_pooling2d_1 (MaxPooling2D)      (None, 128, 1250, 1)    0            batch_normalization_6[0][0]          
______________________________________________________________________________________________________________
conv2d_6 (Conv2D)                   (None, 128, 1250, 16)   2320         conv2d_5[0][0]                       
______________________________________________________________________________________________________________
conv2d_8 (Conv2D)                   (None, 128, 1250, 16)   6416         conv2d_7[0][0]                       
______________________________________________________________________________________________________________
conv2d_9 (Conv2D)                   (None, 128, 1250, 16)   32           max_pooling2d_1[0][0]                
______________________________________________________________________________________________________________
concatenate_1 (Concatenate)         (None, 128, 1250, 48)   0            conv2d_6[0][0]                       
                                                                         conv2d_8[0][0]                       
                                                                         conv2d_9[0][0]                       
______________________________________________________________________________________________________________
average_pooling2d_5 (AveragePooling (None, 64, 625, 48)     0            concatenate_1[0][0]                  
______________________________________________________________________________________________________________
batch_normalization_7 (BatchNormali (None, 64, 625, 48)     192          average_pooling2d_5[0][0]            
______________________________________________________________________________________________________________
dropout_5 (Dropout)                 (None, 64, 625, 48)     0            batch_normalization_7[0][0]          
______________________________________________________________________________________________________________
inverted_residual_10 (InvertedResid (None, 64, 625, 32)     35840        dropout_5[0][0]                      
______________________________________________________________________________________________________________
inverted_residual_11 (InvertedResid (None, 64, 625, 32)     20864        inverted_residual_10[0][0]           
______________________________________________________________________________________________________________
average_pooling2d_6 (AveragePooling (None, 32, 312, 32)     0            inverted_residual_11[0][0]           
______________________________________________________________________________________________________________
batch_normalization_8 (BatchNormali (None, 32, 312, 32)     128          average_pooling2d_6[0][0]            
______________________________________________________________________________________________________________
dropout_6 (Dropout)                 (None, 32, 312, 32)     0            batch_normalization_8[0][0]          
______________________________________________________________________________________________________________
inverted_residual_12 (InvertedResid (None, 32, 312, 64)     27136        dropout_6[0][0]                      
______________________________________________________________________________________________________________
inverted_residual_13 (InvertedResid (None, 32, 312, 64)     66304        inverted_residual_12[0][0]           
______________________________________________________________________________________________________________
average_pooling2d_7 (AveragePooling (None, 16, 156, 64)     0            inverted_residual_13[0][0]           
______________________________________________________________________________________________________________
batch_normalization_9 (BatchNormali (None, 16, 156, 64)     256          average_pooling2d_7[0][0]            
______________________________________________________________________________________________________________
dropout_7 (Dropout)                 (None, 16, 156, 64)     0            batch_normalization_9[0][0]          
______________________________________________________________________________________________________________
inverted_residual_14 (InvertedResid (None, 16, 156, 128)    91136        dropout_7[0][0]                      
______________________________________________________________________________________________________________
inverted_residual_15 (InvertedResid (None, 16, 156, 128)    230912       inverted_residual_14[0][0]           
______________________________________________________________________________________________________________
average_pooling2d_8 (AveragePooling (None, 8, 78, 128)      0            inverted_residual_15[0][0]           
______________________________________________________________________________________________________________
batch_normalization_10 (BatchNormal (None, 8, 78, 128)      512          average_pooling2d_8[0][0]            
______________________________________________________________________________________________________________
dropout_8 (Dropout)                 (None, 8, 78, 128)      0            batch_normalization_10[0][0]         
______________________________________________________________________________________________________________
inverted_residual_16 (InvertedResid (None, 8, 78, 256)      329728       dropout_8[0][0]                      
______________________________________________________________________________________________________________
inverted_residual_17 (InvertedResid (None, 8, 78, 256)      855040       inverted_residual_16[0][0]           
______________________________________________________________________________________________________________
average_pooling2d_9 (AveragePooling (None, 4, 39, 256)      0            inverted_residual_17[0][0]           
______________________________________________________________________________________________________________
batch_normalization_11 (BatchNormal (None, 4, 39, 256)      1024         average_pooling2d_9[0][0]            
______________________________________________________________________________________________________________
dropout_9 (Dropout)                 (None, 4, 39, 256)      0            batch_normalization_11[0][0]         
______________________________________________________________________________________________________________
inverted_residual_18 (InvertedResid (None, 4, 39, 512)      1249280      dropout_9[0][0]                      
______________________________________________________________________________________________________________
inverted_residual_19 (InvertedResid (None, 4, 39, 512)      3282944      inverted_residual_18[0][0]           
______________________________________________________________________________________________________________
global_average_pooling2d_1 (GlobalA (None, 512)             0            inverted_residual_19[0][0]           
______________________________________________________________________________________________________________
dense_1 (Dense)                     (None, 1)               513          global_average_pooling2d_1[0][0]     
==============================================================================================================
Total params: 6,200,645
Trainable params: 6,159,139
Non-trainable params: 41,506
______________________________________________________________________________________________________________
Epoch 1/65
248/248 - 349s - loss: 0.8921 - accuracy: 0.5948 - val_loss: 0.2308 - val_accuracy: 0.9526
Confusion matrix: 
 [[764   0]
 [ 38   0]]
Normalized Confusion matrix: 
 [[1. 0.]
 [1. 0.]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/sklearn/metrics/_classification.py:1272: UndefinedMetricWarning: Precision and F-score are ill-defined and being set to 0.0 due to no predicted samples. Use `zero_division` parameter to control this behavior.
  _warn_prf(average, modifier, msg_start, len(result))
Validation f1: 0.00
Validation accuracy: 95.26
Validation recall: 0.00
Validation precision: 0.00
Validation AUC: 0.03512175451725841
Validation class accuracies: [1.0, 0.0]
The validation tracker metric at 0 hasn't increased by 0 in 1 epochs
Epoch 2/65
248/248 - 350s - loss: 0.5445 - accuracy: 0.7092 - val_loss: 0.2028 - val_accuracy: 0.9526
Confusion matrix: 
 [[764   0]
 [ 38   0]]
Normalized Confusion matrix: 
 [[1. 0.]
 [1. 0.]]
Validation f1: 0.00
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/sklearn/metrics/_classification.py:1272: UndefinedMetricWarning: Precision and F-score are ill-defined and being set to 0.0 due to no predicted samples. Use `zero_division` parameter to control this behavior.
  _warn_prf(average, modifier, msg_start, len(result))
Validation accuracy: 95.26
Validation recall: 0.00
Validation precision: 0.00
Validation AUC: 0.033549525453628444
Validation class accuracies: [1.0, 0.0]
The validation tracker metric at 0 hasn't increased by 0 in 2 epochs
Epoch 3/65
248/248 - 350s - loss: 0.5149 - accuracy: 0.7452 - val_loss: 0.9751 - val_accuracy: 0.3155
Confusion matrix: 
 [[231 533]
 [ 16  22]]
Normalized Confusion matrix: 
 [[0.302 0.698]
 [0.421 0.579]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 7.42
Validation accuracy: 31.55
Validation recall: 57.89
Validation precision: 3.96
Validation AUC: 0.037049121608227736
Validation class accuracies: [0.3023560209424084, 0.5789473684210527]
Saving model...
Epoch 4/65
248/248 - 350s - loss: 0.4383 - accuracy: 0.7805 - val_loss: 0.3861 - val_accuracy: 0.8529
Confusion matrix: 
 [[682  82]
 [ 36   2]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.893 0.107]
 [0.947 0.053]]
Validation f1: 3.28
Validation accuracy: 85.29
Validation recall: 5.26
Validation precision: 2.38
Validation AUC: 0.036617544682081206
Validation class accuracies: [0.8926701570680629, 0.05263157894736842]
The validation tracker metric at 0.0741989881956155 hasn't increased by 0 in 1 epochs
Epoch 5/65
248/248 - 351s - loss: 0.3572 - accuracy: 0.8115 - val_loss: 1.2070 - val_accuracy: 0.4564
Confusion matrix: 
 [[344 420]
 [ 16  22]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.45  0.55 ]
 [0.421 0.579]]
Validation f1: 9.17
Validation accuracy: 45.64
Validation recall: 57.89
Validation precision: 4.98
Validation AUC: 0.04529614818930891
Validation class accuracies: [0.450261780104712, 0.5789473684210527]
Saving model...
Epoch 6/65
248/248 - 350s - loss: 0.3556 - accuracy: 0.8160 - val_loss: 0.7073 - val_accuracy: 0.6421
Confusion matrix: 
 [[502 262]
 [ 25  13]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.657 0.343]
 [0.658 0.342]]
Validation f1: 8.31
Validation accuracy: 64.21
Validation recall: 34.21
Validation precision: 4.73
Validation AUC: 0.046440509714075144
Validation class accuracies: [0.6570680628272252, 0.34210526315789475]
The validation tracker metric at 0.09166666666666665 hasn't increased by 0 in 1 epochs
Epoch 7/65
248/248 - 351s - loss: 0.2886 - accuracy: 0.8541 - val_loss: 0.3036 - val_accuracy: 0.9214
Confusion matrix: 
 [[737  27]
 [ 36   2]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.965 0.035]
 [0.947 0.053]]
Validation f1: 5.97
Validation accuracy: 92.14
Validation recall: 5.26
Validation precision: 6.90
Validation AUC: 0.03870941997073462
Validation class accuracies: [0.9646596858638743, 0.05263157894736842]
The validation tracker metric at 0.09166666666666665 hasn't increased by 0 in 2 epochs
Epoch 8/65
248/248 - 350s - loss: 0.2822 - accuracy: 0.8551 - val_loss: 0.6894 - val_accuracy: 0.6471
Confusion matrix: 
 [[507 257]
 [ 26  12]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.664 0.336]
 [0.684 0.316]]
Validation f1: 7.82
Validation accuracy: 64.71
Validation recall: 31.58
Validation precision: 4.46
Validation AUC: 0.040230496315237875
Validation class accuracies: [0.6636125654450262, 0.3157894736842105]
The validation tracker metric at 0.09166666666666665 hasn't increased by 0 in 3 epochs
Epoch 9/65
248/248 - 350s - loss: 0.2789 - accuracy: 0.8606 - val_loss: 0.8600 - val_accuracy: 0.6596
Confusion matrix: 
 [[511 253]
 [ 20  18]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.669 0.331]
 [0.526 0.474]]
Validation f1: 11.65
Validation accuracy: 65.96
Validation recall: 47.37
Validation precision: 6.64
Validation AUC: 0.06746378410917114
Validation class accuracies: [0.668848167539267, 0.47368421052631576]
Saving model...
Epoch 10/65
248/248 - 350s - loss: 0.2707 - accuracy: 0.8702 - val_loss: 0.2988 - val_accuracy: 0.9040
Confusion matrix: 
 [[724  40]
 [ 37   1]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.948 0.052]
 [0.974 0.026]]
Validation f1: 2.53
Validation accuracy: 90.40
Validation recall: 2.63
Validation precision: 2.44
Validation AUC: 0.058405534612809146
Validation class accuracies: [0.9476439790575916, 0.02631578947368421]
The validation tracker metric at 0.11650485436893204 hasn't increased by 0 in 1 epochs
Epoch 11/65
248/248 - 350s - loss: 0.2163 - accuracy: 0.8899 - val_loss: 0.8178 - val_accuracy: 0.7007
Confusion matrix: 
 [[536 228]
 [ 12  26]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.702 0.298]
 [0.316 0.684]]
Validation f1: 17.81
Validation accuracy: 70.07
Validation recall: 68.42
Validation precision: 10.24
Validation AUC: 0.07552833275634759
Validation class accuracies: [0.7015706806282722, 0.6842105263157895]
Saving model...
Epoch 12/65
248/248 - 350s - loss: 0.1587 - accuracy: 0.9186 - val_loss: 0.3310 - val_accuracy: 0.9027
Confusion matrix: 
 [[721  43]
 [ 35   3]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.944 0.056]
 [0.921 0.079]]
Validation f1: 7.14
Validation accuracy: 90.27
Validation recall: 7.89
Validation precision: 6.52
Validation AUC: 0.06415423255020727
Validation class accuracies: [0.943717277486911, 0.07894736842105263]
The validation tracker metric at 0.1780821917808219 hasn't increased by 0 in 1 epochs
Epoch 13/65
248/248 - 350s - loss: 0.1645 - accuracy: 0.9264 - val_loss: 1.4930 - val_accuracy: 0.5200
Confusion matrix: 
 [[391 373]
 [ 12  26]]
Normalized Confusion matrix: 
 [[0.512 0.488]
 [0.316 0.684]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 11.90
Validation accuracy: 52.00
Validation recall: 68.42
Validation precision: 6.52
Validation AUC: 0.06570239445895558
Validation class accuracies: [0.5117801047120419, 0.6842105263157895]
The validation tracker metric at 0.1780821917808219 hasn't increased by 0 in 2 epochs
Epoch 14/65
248/248 - 350s - loss: 0.1250 - accuracy: 0.9403 - val_loss: 0.4659 - val_accuracy: 0.8379
Confusion matrix: 
 [[656 108]
 [ 22  16]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.859 0.141]
 [0.579 0.421]]
Validation f1: 19.75
Validation accuracy: 83.79
Validation recall: 42.11
Validation precision: 12.90
Validation AUC: 0.09336956148248585
Validation class accuracies: [0.8586387434554974, 0.42105263157894735]
Saving model...
Epoch 15/65
248/248 - 350s - loss: 0.1529 - accuracy: 0.9360 - val_loss: 1.1619 - val_accuracy: 0.6347
Confusion matrix: 
 [[482 282]
 [ 11  27]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.631 0.369]
 [0.289 0.711]]
Validation f1: 15.56
Validation accuracy: 63.47
Validation recall: 71.05
Validation precision: 8.74
Validation AUC: 0.11232993189068657
Validation class accuracies: [0.6308900523560209, 0.7105263157894737]
The validation tracker metric at 0.19753086419753085 hasn't increased by 0 in 1 epochs
Epoch 16/65
248/248 - 350s - loss: 0.0944 - accuracy: 0.9516 - val_loss: 0.8987 - val_accuracy: 0.7232
Confusion matrix: 
 [[557 207]
 [ 15  23]]
Normalized Confusion matrix: 
 [[0.729 0.271]
 [0.395 0.605]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 17.16
Validation accuracy: 72.32
Validation recall: 60.53
Validation precision: 10.00
Validation AUC: 0.07971115903567724
Validation class accuracies: [0.7290575916230366, 0.6052631578947368]
The validation tracker metric at 0.19753086419753085 hasn't increased by 0 in 2 epochs
Epoch 17/65
248/248 - 350s - loss: 0.1883 - accuracy: 0.9239 - val_loss: 0.4024 - val_accuracy: 0.8828
Confusion matrix: 
 [[702  62]
 [ 32   6]]
Normalized Confusion matrix: 
 [[0.919 0.081]
 [0.842 0.158]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 11.32
Validation accuracy: 88.28
Validation recall: 15.79
Validation precision: 8.82
Validation AUC: 0.08973523264543891
Validation class accuracies: [0.918848167539267, 0.15789473684210525]
The validation tracker metric at 0.19753086419753085 hasn't increased by 0 in 3 epochs
Epoch 18/65
248/248 - 351s - loss: 0.1088 - accuracy: 0.9549 - val_loss: 0.3427 - val_accuracy: 0.9364
Confusion matrix: 
 [[750  14]
 [ 37   1]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.982 0.018]
 [0.974 0.026]]
Validation f1: 3.77
Validation accuracy: 93.64
Validation recall: 2.63
Validation precision: 6.67
Validation AUC: 0.06828031566510682
Validation class accuracies: [0.981675392670157, 0.02631578947368421]
The validation tracker metric at 0.19753086419753085 hasn't increased by 0 in 4 epochs
Epoch 19/65
248/248 - 350s - loss: 0.0855 - accuracy: 0.9567 - val_loss: 0.3593 - val_accuracy: 0.8915
Confusion matrix: 
 [[704  60]
 [ 27  11]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.921 0.079]
 [0.711 0.289]]
Validation f1: 20.18
Validation accuracy: 89.15
Validation recall: 28.95
Validation precision: 15.49
Validation AUC: 0.09160135509187525
Validation class accuracies: [0.9214659685863874, 0.2894736842105263]
Saving model...
Epoch 20/65
248/248 - 350s - loss: 0.0572 - accuracy: 0.9751 - val_loss: 0.3293 - val_accuracy: 0.9077
Confusion matrix: 
 [[725  39]
 [ 35   3]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.949 0.051]
 [0.921 0.079]]
Validation f1: 7.50
Validation accuracy: 90.77
Validation recall: 7.89
Validation precision: 7.14
Validation AUC: 0.07484055543729948
Validation class accuracies: [0.9489528795811518, 0.07894736842105263]
The validation tracker metric at 0.20183486238532108 hasn't increased by 0 in 1 epochs
Epoch 21/65
248/248 - 350s - loss: 0.1956 - accuracy: 0.9304 - val_loss: 0.5895 - val_accuracy: 0.7756
Confusion matrix: 
 [[604 160]
 [ 20  18]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.791 0.209]
 [0.526 0.474]]
Validation f1: 16.67
Validation accuracy: 77.56
Validation recall: 47.37
Validation precision: 10.11
Validation AUC: 0.09338351728390176
Validation class accuracies: [0.7905759162303665, 0.47368421052631576]
The validation tracker metric at 0.20183486238532108 hasn't increased by 0 in 2 epochs
Epoch 22/65
248/248 - 351s - loss: 0.0734 - accuracy: 0.9622 - val_loss: 0.3813 - val_accuracy: 0.9002
Confusion matrix: 
 [[719  45]
 [ 35   3]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.941 0.059]
 [0.921 0.079]]
Validation f1: 6.98
Validation accuracy: 90.02
Validation recall: 7.89
Validation precision: 6.25
Validation AUC: 0.07351057797690387
Validation class accuracies: [0.9410994764397905, 0.07894736842105263]
The validation tracker metric at 0.20183486238532108 hasn't increased by 0 in 3 epochs
Epoch 23/65
248/248 - 350s - loss: 0.0576 - accuracy: 0.9728 - val_loss: 1.7817 - val_accuracy: 0.5087
Confusion matrix: 
 [[376 388]
 [  6  32]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.492 0.508]
 [0.158 0.842]]
Validation f1: 13.97
Validation accuracy: 50.87
Validation recall: 84.21
Validation precision: 7.62
Validation AUC: 0.14028215280239092
Validation class accuracies: [0.49214659685863876, 0.8421052631578947]
The validation tracker metric at 0.20183486238532108 hasn't increased by 0 in 4 epochs
Epoch 24/65
248/248 - 350s - loss: 0.0572 - accuracy: 0.9718 - val_loss: 0.3561 - val_accuracy: 0.8903
Confusion matrix: 
 [[705  59]
 [ 29   9]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.923 0.077]
 [0.763 0.237]]
Validation f1: 16.98
Validation accuracy: 89.03
Validation recall: 23.68
Validation precision: 13.24
Validation AUC: 0.10148187466731805
Validation class accuracies: [0.9227748691099477, 0.23684210526315788]
The validation tracker metric at 0.20183486238532108 hasn't increased by 0 in 5 epochs
Epoch 25/65
248/248 - 350s - loss: 0.0309 - accuracy: 0.9869 - val_loss: 0.2988 - val_accuracy: 0.9302
Confusion matrix: 
 [[744  20]
 [ 36   2]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.974 0.026]
 [0.947 0.053]]
Validation f1: 6.67
Validation accuracy: 93.02
Validation recall: 5.26
Validation precision: 9.09
Validation AUC: 0.11438842421039959
Validation class accuracies: [0.9738219895287958, 0.05263157894736842]
The validation tracker metric at 0.20183486238532108 hasn't increased by 0 in 6 epochs
Lr has been adjusted to 0.0005000000237487257
Epoch 26/65
248/248 - 350s - loss: 0.0202 - accuracy: 0.9912 - val_loss: 0.3745 - val_accuracy: 0.9077
Confusion matrix: 
 [[720  44]
 [ 30   8]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.942 0.058]
 [0.789 0.211]]
Validation f1: 17.78
Validation accuracy: 90.77
Validation recall: 21.05
Validation precision: 15.38
Validation AUC: 0.11219556964403388
Validation class accuracies: [0.9424083769633508, 0.21052631578947367]
The validation tracker metric at 0.20183486238532108 hasn't increased by 0 in 7 epochs
Epoch 27/65
248/248 - 350s - loss: 0.0204 - accuracy: 0.9909 - val_loss: 0.3613 - val_accuracy: 0.9077
Confusion matrix: 
 [[714  50]
 [ 24  14]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.935 0.065]
 [0.632 0.368]]
Validation f1: 27.45
Validation accuracy: 90.77
Validation recall: 36.84
Validation precision: 21.88
Validation AUC: 0.13678286400173723
Validation class accuracies: [0.9345549738219895, 0.3684210526315789]
Saving model...
Epoch 28/65
248/248 - 350s - loss: 0.0189 - accuracy: 0.9924 - val_loss: 0.6019 - val_accuracy: 0.8554
Confusion matrix: 
 [[672  92]
 [ 24  14]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.88  0.12 ]
 [0.632 0.368]]
Validation f1: 19.44
Validation accuracy: 85.54
Validation recall: 36.84
Validation precision: 13.21
Validation AUC: 0.11178448951724065
Validation class accuracies: [0.8795811518324608, 0.3684210526315789]
The validation tracker metric at 0.2745098039215686 hasn't increased by 0 in 1 epochs
Epoch 29/65
248/248 - 350s - loss: 0.0129 - accuracy: 0.9962 - val_loss: 0.8326 - val_accuracy: 0.8180
Confusion matrix: 
 [[635 129]
 [ 17  21]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.831 0.169]
 [0.447 0.553]]
Validation f1: 22.34
Validation accuracy: 81.80
Validation recall: 55.26
Validation precision: 14.00
Validation AUC: 0.13156764534311938
Validation class accuracies: [0.831151832460733, 0.5526315789473685]
The validation tracker metric at 0.2745098039215686 hasn't increased by 0 in 2 epochs
Epoch 30/65
248/248 - 350s - loss: 0.0201 - accuracy: 0.9917 - val_loss: 0.4528 - val_accuracy: 0.8965
Confusion matrix: 
 [[707  57]
 [ 26  12]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.925 0.075]
 [0.684 0.316]]
Validation f1: 22.43
Validation accuracy: 89.65
Validation recall: 31.58
Validation precision: 17.39
Validation AUC: 0.13230277761692147
Validation class accuracies: [0.925392670157068, 0.3157894736842105]
The validation tracker metric at 0.2745098039215686 hasn't increased by 0 in 3 epochs
Epoch 31/65
248/248 - 350s - loss: 0.0267 - accuracy: 0.9904 - val_loss: 0.5012 - val_accuracy: 0.8753
Confusion matrix: 
 [[690  74]
 [ 26  12]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.903 0.097]
 [0.684 0.316]]
Validation f1: 19.35
Validation accuracy: 87.53
Validation recall: 31.58
Validation precision: 13.95
Validation AUC: 0.10886142834472728
Validation class accuracies: [0.9031413612565445, 0.3157894736842105]
The validation tracker metric at 0.2745098039215686 hasn't increased by 0 in 4 epochs
Epoch 32/65
248/248 - 350s - loss: 0.0202 - accuracy: 0.9929 - val_loss: 0.8024 - val_accuracy: 0.8030
Confusion matrix: 
 [[618 146]
 [ 12  26]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.809 0.191]
 [0.316 0.684]]
Validation f1: 24.76
Validation accuracy: 80.30
Validation recall: 68.42
Validation precision: 15.12
Validation AUC: 0.1473984112596563
Validation class accuracies: [0.8089005235602095, 0.6842105263157895]
The validation tracker metric at 0.2745098039215686 hasn't increased by 0 in 5 epochs
Epoch 33/65
248/248 - 350s - loss: 0.0348 - accuracy: 0.9851 - val_loss: 0.5590 - val_accuracy: 0.8803
Confusion matrix: 
 [[698  66]
 [ 30   8]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.914 0.086]
 [0.789 0.211]]
Validation f1: 14.29
Validation accuracy: 88.03
Validation recall: 21.05
Validation precision: 10.81
Validation AUC: 0.09141009113677095
Validation class accuracies: [0.9136125654450262, 0.21052631578947367]
The validation tracker metric at 0.2745098039215686 hasn't increased by 0 in 6 epochs
Lr has been adjusted to 0.0002500000118743628
Epoch 34/65
248/248 - 350s - loss: 0.0218 - accuracy: 0.9912 - val_loss: 0.3858 - val_accuracy: 0.9115
Confusion matrix: 
 [[721  43]
 [ 28  10]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.944 0.056]
 [0.737 0.263]]
Validation f1: 21.98
Validation accuracy: 91.15
Validation recall: 26.32
Validation precision: 18.87
Validation AUC: 0.13693895870115214
Validation class accuracies: [0.943717277486911, 0.2631578947368421]
The validation tracker metric at 0.2745098039215686 hasn't increased by 0 in 7 epochs
Epoch 35/65
248/248 - 350s - loss: 0.0085 - accuracy: 0.9960 - val_loss: 0.3845 - val_accuracy: 0.9065
Confusion matrix: 
 [[715  49]
 [ 26  12]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.936 0.064]
 [0.684 0.316]]
Validation f1: 24.24
Validation accuracy: 90.65
Validation recall: 31.58
Validation precision: 19.67
Validation AUC: 0.14026829253271997
Validation class accuracies: [0.9358638743455497, 0.3157894736842105]
The validation tracker metric at 0.2745098039215686 hasn't increased by 0 in 8 epochs
Epoch 36/65
248/248 - 350s - loss: 0.0095 - accuracy: 0.9952 - val_loss: 0.3705 - val_accuracy: 0.9140
Confusion matrix: 
 [[720  44]
 [ 25  13]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.942 0.058]
 [0.658 0.342]]
Validation f1: 27.37
Validation accuracy: 91.40
Validation recall: 34.21
Validation precision: 22.81
Validation AUC: 0.1402078510911844
Validation class accuracies: [0.9424083769633508, 0.34210526315789475]
The validation tracker metric at 0.2745098039215686 hasn't increased by 0 in 9 epochs
Epoch 37/65
248/248 - 350s - loss: 0.0074 - accuracy: 0.9982 - val_loss: 0.3578 - val_accuracy: 0.9227
Confusion matrix: 
 [[732  32]
 [ 30   8]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.958 0.042]
 [0.789 0.211]]
Validation f1: 20.51
Validation accuracy: 92.27
Validation recall: 21.05
Validation precision: 20.00
Validation AUC: 0.13015811010567288
Validation class accuracies: [0.9581151832460733, 0.21052631578947367]
The validation tracker metric at 0.2745098039215686 hasn't increased by 0 in 10 epochs
Epoch 38/65
248/248 - 350s - loss: 0.0060 - accuracy: 0.9982 - val_loss: 0.3897 - val_accuracy: 0.9090
Confusion matrix: 
 [[718  46]
 [ 27  11]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.94  0.06 ]
 [0.711 0.289]]
Validation f1: 23.16
Validation accuracy: 90.90
Validation recall: 28.95
Validation precision: 19.30
Validation AUC: 0.1316279733754755
Validation class accuracies: [0.9397905759162304, 0.2894736842105263]
The validation tracker metric at 0.2745098039215686 hasn't increased by 0 in 11 epochs
Epoch 39/65
248/248 - 350s - loss: 0.0084 - accuracy: 0.9972 - val_loss: 0.3992 - val_accuracy: 0.9115
Confusion matrix: 
 [[721  43]
 [ 28  10]]
Normalized Confusion matrix: 
 [[0.944 0.056]
 [0.737 0.263]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 21.98
Validation accuracy: 91.15
Validation recall: 26.32
Validation precision: 18.87
Validation AUC: 0.12377119054223787
Validation class accuracies: [0.943717277486911, 0.2631578947368421]
The validation tracker metric at 0.2745098039215686 hasn't increased by 0 in 12 epochs
Lr has been adjusted to 0.0001250000059371814
Epoch 40/65
248/248 - 350s - loss: 0.0046 - accuracy: 0.9990 - val_loss: 0.3940 - val_accuracy: 0.9177
Confusion matrix: 
 [[728  36]
 [ 30   8]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.953 0.047]
 [0.789 0.211]]
Validation f1: 19.51
Validation accuracy: 91.77
Validation recall: 21.05
Validation precision: 18.18
Validation AUC: 0.1165007787389322
Validation class accuracies: [0.9528795811518325, 0.21052631578947367]
The validation tracker metric at 0.2745098039215686 hasn't increased by 0 in 13 epochs
Epoch 41/65
248/248 - 350s - loss: 0.0046 - accuracy: 0.9987 - val_loss: 0.3957 - val_accuracy: 0.9115
Confusion matrix: 
 [[723  41]
 [ 30   8]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.946 0.054]
 [0.789 0.211]]
Validation f1: 18.39
Validation accuracy: 91.15
Validation recall: 21.05
Validation precision: 16.33
Validation AUC: 0.1190191247287846
Validation class accuracies: [0.9463350785340314, 0.21052631578947367]
The validation tracker metric at 0.2745098039215686 hasn't increased by 0 in 14 epochs
Epoch 42/65
248/248 - 350s - loss: 0.0064 - accuracy: 0.9990 - val_loss: 0.4208 - val_accuracy: 0.9102
Confusion matrix: 
 [[721  43]
 [ 29   9]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.944 0.056]
 [0.763 0.237]]
Validation f1: 20.00
Validation accuracy: 91.02
Validation recall: 23.68
Validation precision: 17.31
Validation AUC: 0.11878919698598817
Validation class accuracies: [0.943717277486911, 0.23684210526315788]
The validation tracker metric at 0.2745098039215686 hasn't increased by 0 in 15 epochs
Epoch 43/65
248/248 - 350s - loss: 0.0046 - accuracy: 0.9982 - val_loss: 0.4039 - val_accuracy: 0.9127
Confusion matrix: 
 [[724  40]
 [ 30   8]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.948 0.052]
 [0.789 0.211]]
Validation f1: 18.60
Validation accuracy: 91.27
Validation recall: 21.05
Validation precision: 16.67
Validation AUC: 0.11610004764319481
Validation class accuracies: [0.9476439790575916, 0.21052631578947367]
The validation tracker metric at 0.2745098039215686 hasn't increased by 0 in 16 epochs
Epoch 44/65
248/248 - 350s - loss: 0.0078 - accuracy: 0.9975 - val_loss: 0.4215 - val_accuracy: 0.9090
Confusion matrix: 
 [[721  43]
 [ 30   8]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.944 0.056]
 [0.789 0.211]]
Validation f1: 17.98
Validation accuracy: 90.90
Validation recall: 21.05
Validation precision: 15.69
Validation AUC: 0.12177237723025182
Validation class accuracies: [0.943717277486911, 0.21052631578947367]
The validation tracker metric at 0.2745098039215686 hasn't increased by 0 in 17 epochs
Epoch 45/65
248/248 - 350s - loss: 0.0041 - accuracy: 0.9980 - val_loss: 0.3967 - val_accuracy: 0.9127
Confusion matrix: 
 [[722  42]
 [ 28  10]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.945 0.055]
 [0.737 0.263]]
Validation f1: 22.22
Validation accuracy: 91.27
Validation recall: 26.32
Validation precision: 19.23
Validation AUC: 0.12804340848892548
Validation class accuracies: [0.9450261780104712, 0.2631578947368421]
The validation tracker metric at 0.2745098039215686 hasn't increased by 0 in 18 epochs
Lr has been adjusted to 6.25000029685907e-05
Epoch 46/65
248/248 - 350s - loss: 0.0075 - accuracy: 0.9987 - val_loss: 0.4252 - val_accuracy: 0.9090
Confusion matrix: 
 [[718  46]
 [ 27  11]]
Normalized Confusion matrix: 
 [[0.94  0.06 ]
 [0.711 0.289]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 23.16
Validation accuracy: 90.90
Validation recall: 28.95
Validation precision: 19.30
Validation AUC: 0.12935426501782715
Validation class accuracies: [0.9397905759162304, 0.2894736842105263]
The validation tracker metric at 0.2745098039215686 hasn't increased by 0 in 19 epochs
Epoch 47/65
248/248 - 350s - loss: 0.0043 - accuracy: 0.9987 - val_loss: 0.4219 - val_accuracy: 0.9102
Confusion matrix: 
 [[719  45]
 [ 27  11]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.941 0.059]
 [0.711 0.289]]
Validation f1: 23.40
Validation accuracy: 91.02
Validation recall: 28.95
Validation precision: 19.64
Validation AUC: 0.12814956322863702
Validation class accuracies: [0.9410994764397905, 0.2894736842105263]

The metrics for job 0 with the best target metric are: 
Best cm: [[714  50]
 [ 24  14]]
Best normalized cm: [[0.935 0.065]
 [0.632 0.368]]
Best f1: 0.27
Best accuracy: 0.91
Best recall: 0.37
Best precision: 0.22
Best AUC: 0.14
Best class accuracies: [0.9345549738219895, 0.3684210526315789]
Best epoch: 27
The number of epochs since last 1% equals the patience
-----------------------
Model 9 with new params
Changing augmentation to time/frequency masking
Audio Augmentation Parameters: {'ADD': 1, 'QUANTITY': 300, 'WAV_PATH': 'v43', 'WAV_ADD': 0}
Spec Augmentation Parameters: {'ADD': 0, 'QUANTITY': 300, 'TIME_MASKING': 1, 'FREQUENCY_MASKING': 1, 'LOUDNESS': 0, 'SPEC_ADD': 1}
Collecting Variables...
All variables have been collected.
Pneumonia patients: 148, Non-pneumonia patients: 2873
Pneumonia patients: 199, Non-pneumonia patients: 3810
-----------------------
Number of train recordings: 3207 with pneumonia: 161 and non-pneumonia: 3046
Length of training samples after audio augmentation: 3368
-----------------------
Number of train recordings: 3368 with pneumonia: 322 and non-pneumonia: 3046
Length of training samples after audio augmentation: 3968
-----------------------
Number of train recordings: 3968 with pneumonia: 322 and non-pneumonia: 3646
Number of val recordings: 802 with pneumonia: 38 and non-pneumonia: 764
-----------------------
The initial learning rate for this job is: 0.0008082157258064517
Initializing weights...
weights = {0: 0.5261154855643044, 1: 10.07286432160804}
Model: "conv2d"
______________________________________________________________________________________________________________
Layer (type)                        Output Shape            Param #      Connected to                         
==============================================================================================================
input_3 (InputLayer)                [(None, 128, 1250, 1)]  0                                                 
______________________________________________________________________________________________________________
batch_normalization_12 (BatchNormal (None, 128, 1250, 1)    4            input_3[0][0]                        
______________________________________________________________________________________________________________
conv2d_10 (Conv2D)                  (None, 128, 1250, 16)   32           batch_normalization_12[0][0]         
______________________________________________________________________________________________________________
conv2d_12 (Conv2D)                  (None, 128, 1250, 16)   32           batch_normalization_12[0][0]         
______________________________________________________________________________________________________________
max_pooling2d_2 (MaxPooling2D)      (None, 128, 1250, 1)    0            batch_normalization_12[0][0]         
______________________________________________________________________________________________________________
conv2d_11 (Conv2D)                  (None, 128, 1250, 16)   2320         conv2d_10[0][0]                      
______________________________________________________________________________________________________________
conv2d_13 (Conv2D)                  (None, 128, 1250, 16)   6416         conv2d_12[0][0]                      
______________________________________________________________________________________________________________
conv2d_14 (Conv2D)                  (None, 128, 1250, 16)   32           max_pooling2d_2[0][0]                
______________________________________________________________________________________________________________
concatenate_2 (Concatenate)         (None, 128, 1250, 48)   0            conv2d_11[0][0]                      
                                                                         conv2d_13[0][0]                      
                                                                         conv2d_14[0][0]                      
______________________________________________________________________________________________________________
average_pooling2d_10 (AveragePoolin (None, 64, 625, 48)     0            concatenate_2[0][0]                  
______________________________________________________________________________________________________________
batch_normalization_13 (BatchNormal (None, 64, 625, 48)     192          average_pooling2d_10[0][0]           
______________________________________________________________________________________________________________
dropout_10 (Dropout)                (None, 64, 625, 48)     0            batch_normalization_13[0][0]         
______________________________________________________________________________________________________________
inverted_residual_20 (InvertedResid (None, 64, 625, 32)     35840        dropout_10[0][0]                     
______________________________________________________________________________________________________________
inverted_residual_21 (InvertedResid (None, 64, 625, 32)     20864        inverted_residual_20[0][0]           
______________________________________________________________________________________________________________
average_pooling2d_11 (AveragePoolin (None, 32, 312, 32)     0            inverted_residual_21[0][0]           
______________________________________________________________________________________________________________
batch_normalization_14 (BatchNormal (None, 32, 312, 32)     128          average_pooling2d_11[0][0]           
______________________________________________________________________________________________________________
dropout_11 (Dropout)                (None, 32, 312, 32)     0            batch_normalization_14[0][0]         
______________________________________________________________________________________________________________
inverted_residual_22 (InvertedResid (None, 32, 312, 64)     27136        dropout_11[0][0]                     
______________________________________________________________________________________________________________
inverted_residual_23 (InvertedResid (None, 32, 312, 64)     66304        inverted_residual_22[0][0]           
______________________________________________________________________________________________________________
average_pooling2d_12 (AveragePoolin (None, 16, 156, 64)     0            inverted_residual_23[0][0]           
______________________________________________________________________________________________________________
batch_normalization_15 (BatchNormal (None, 16, 156, 64)     256          average_pooling2d_12[0][0]           
______________________________________________________________________________________________________________
dropout_12 (Dropout)                (None, 16, 156, 64)     0            batch_normalization_15[0][0]         
______________________________________________________________________________________________________________
inverted_residual_24 (InvertedResid (None, 16, 156, 128)    91136        dropout_12[0][0]                     
______________________________________________________________________________________________________________
inverted_residual_25 (InvertedResid (None, 16, 156, 128)    230912       inverted_residual_24[0][0]           
______________________________________________________________________________________________________________
average_pooling2d_13 (AveragePoolin (None, 8, 78, 128)      0            inverted_residual_25[0][0]           
______________________________________________________________________________________________________________
batch_normalization_16 (BatchNormal (None, 8, 78, 128)      512          average_pooling2d_13[0][0]           
______________________________________________________________________________________________________________
dropout_13 (Dropout)                (None, 8, 78, 128)      0            batch_normalization_16[0][0]         
______________________________________________________________________________________________________________
inverted_residual_26 (InvertedResid (None, 8, 78, 256)      329728       dropout_13[0][0]                     
______________________________________________________________________________________________________________
inverted_residual_27 (InvertedResid (None, 8, 78, 256)      855040       inverted_residual_26[0][0]           
______________________________________________________________________________________________________________
average_pooling2d_14 (AveragePoolin (None, 4, 39, 256)      0            inverted_residual_27[0][0]           
______________________________________________________________________________________________________________
batch_normalization_17 (BatchNormal (None, 4, 39, 256)      1024         average_pooling2d_14[0][0]           
______________________________________________________________________________________________________________
dropout_14 (Dropout)                (None, 4, 39, 256)      0            batch_normalization_17[0][0]         
______________________________________________________________________________________________________________
inverted_residual_28 (InvertedResid (None, 4, 39, 512)      1249280      dropout_14[0][0]                     
______________________________________________________________________________________________________________
inverted_residual_29 (InvertedResid (None, 4, 39, 512)      3282944      inverted_residual_28[0][0]           
______________________________________________________________________________________________________________
global_average_pooling2d_2 (GlobalA (None, 512)             0            inverted_residual_29[0][0]           
______________________________________________________________________________________________________________
dense_2 (Dense)                     (None, 1)               513          global_average_pooling2d_2[0][0]     
==============================================================================================================
Total params: 6,200,645
Trainable params: 6,159,139
Non-trainable params: 41,506
______________________________________________________________________________________________________________
Epoch 1/65
248/248 - 349s - loss: 0.9281 - accuracy: 0.5842 - val_loss: 0.9407 - val_accuracy: 0.0474
Confusion matrix: 
 [[  0 764]
 [  0  38]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0. 1.]
 [0. 1.]]
Validation f1: 9.05
Validation accuracy: 4.74
Validation recall: 100.00
Validation precision: 4.74
Validation AUC: 0.06744655384893507
Validation class accuracies: [0.0, 1.0]
Saving model...
Epoch 2/65
248/248 - 349s - loss: 0.5704 - accuracy: 0.6658 - val_loss: 0.2218 - val_accuracy: 0.9526
Confusion matrix: 
 [[764   0]
 [ 38   0]]
Normalized Confusion matrix: 
 [[1. 0.]
 [1. 0.]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/sklearn/metrics/_classification.py:1272: UndefinedMetricWarning: Precision and F-score are ill-defined and being set to 0.0 due to no predicted samples. Use `zero_division` parameter to control this behavior.
  _warn_prf(average, modifier, msg_start, len(result))
Validation f1: 0.00
Validation accuracy: 95.26
Validation recall: 0.00
Validation precision: 0.00
Validation AUC: 0.034534367738792204
Validation class accuracies: [1.0, 0.0]
The validation tracker metric at 0.09047619047619047 hasn't increased by 0 in 1 epochs
Epoch 3/65
248/248 - 349s - loss: 0.5136 - accuracy: 0.7243 - val_loss: 1.7592 - val_accuracy: 0.1197
Confusion matrix: 
 [[ 60 704]
 [  2  36]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.079 0.921]
 [0.053 0.947]]
Validation f1: 9.25
Validation accuracy: 11.97
Validation recall: 94.74
Validation precision: 4.86
Validation AUC: 0.09395314405666094
Validation class accuracies: [0.07853403141361257, 0.9473684210526315]
Saving model...
Epoch 4/65
248/248 - 349s - loss: 0.4659 - accuracy: 0.7843 - val_loss: 0.6341 - val_accuracy: 0.6658
Confusion matrix: 
 [[526 238]
 [ 30   8]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.688 0.312]
 [0.789 0.211]]
Validation f1: 5.63
Validation accuracy: 66.58
Validation recall: 21.05
Validation precision: 3.25
Validation AUC: 0.041088562221695116
Validation class accuracies: [0.6884816753926701, 0.21052631578947367]
The validation tracker metric at 0.09254498714652956 hasn't increased by 0 in 1 epochs
Epoch 5/65
248/248 - 349s - loss: 0.3985 - accuracy: 0.7981 - val_loss: 0.7770 - val_accuracy: 0.6608
Confusion matrix: 
 [[521 243]
 [ 29   9]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.682 0.318]
 [0.763 0.237]]
Validation f1: 6.21
Validation accuracy: 66.08
Validation recall: 23.68
Validation precision: 3.57
Validation AUC: 0.04494470623763741
Validation class accuracies: [0.6819371727748691, 0.23684210526315788]
The validation tracker metric at 0.09254498714652956 hasn't increased by 0 in 2 epochs
Epoch 6/65
248/248 - 349s - loss: 0.3337 - accuracy: 0.8289 - val_loss: 0.6474 - val_accuracy: 0.7020
Confusion matrix: 
 [[555 209]
 [ 30   8]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.726 0.274]
 [0.789 0.211]]
Validation f1: 6.27
Validation accuracy: 70.20
Validation recall: 21.05
Validation precision: 3.69
Validation AUC: 0.04042313600374922
Validation class accuracies: [0.7264397905759162, 0.21052631578947367]
The validation tracker metric at 0.09254498714652956 hasn't increased by 0 in 3 epochs
Epoch 7/65
248/248 - 349s - loss: 0.3347 - accuracy: 0.8432 - val_loss: 0.5101 - val_accuracy: 0.7868
Confusion matrix: 
 [[620 144]
 [ 27  11]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.812 0.188]
 [0.711 0.289]]
Validation f1: 11.40
Validation accuracy: 78.68
Validation recall: 28.95
Validation precision: 7.10
Validation AUC: 0.05635955378309644
Validation class accuracies: [0.8115183246073299, 0.2894736842105263]
Saving model...
Epoch 8/65
248/248 - 349s - loss: 0.2964 - accuracy: 0.8508 - val_loss: 1.1537 - val_accuracy: 0.5050
Confusion matrix: 
 [[389 375]
 [ 22  16]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.509 0.491]
 [0.579 0.421]]
Validation f1: 7.46
Validation accuracy: 50.50
Validation recall: 42.11
Validation precision: 4.09
Validation AUC: 0.042353791956631574
Validation class accuracies: [0.5091623036649214, 0.42105263157894735]
The validation tracker metric at 0.11398963730569948 hasn't increased by 0 in 1 epochs
Epoch 9/65
248/248 - 349s - loss: 0.2658 - accuracy: 0.8808 - val_loss: 0.6796 - val_accuracy: 0.7057
Confusion matrix: 
 [[553 211]
 [ 25  13]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.724 0.276]
 [0.658 0.342]]
Validation f1: 9.92
Validation accuracy: 70.57
Validation recall: 34.21
Validation precision: 5.80
Validation AUC: 0.06014687431507355
Validation class accuracies: [0.7238219895287958, 0.34210526315789475]
The validation tracker metric at 0.11398963730569948 hasn't increased by 0 in 2 epochs
Epoch 10/65
248/248 - 349s - loss: 0.2872 - accuracy: 0.8657 - val_loss: 1.7230 - val_accuracy: 0.3666
Confusion matrix: 
 [[264 500]
 [  8  30]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.346 0.654]
 [0.211 0.789]]
Validation f1: 10.56
Validation accuracy: 36.66
Validation recall: 78.95
Validation precision: 5.66
Validation AUC: 0.06303260017322324
Validation class accuracies: [0.34554973821989526, 0.7894736842105263]
The validation tracker metric at 0.11398963730569948 hasn't increased by 0 in 3 epochs
Epoch 11/65
248/248 - 349s - loss: 0.2354 - accuracy: 0.8904 - val_loss: 0.2417 - val_accuracy: 0.9289
Confusion matrix: 
 [[738  26]
 [ 31   7]]
Normalized Confusion matrix: 
 [[0.966 0.034]
 [0.816 0.184]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 19.72
Validation accuracy: 92.89
Validation recall: 18.42
Validation precision: 21.21
Validation AUC: 0.09580006647686179
Validation class accuracies: [0.9659685863874345, 0.18421052631578946]
Saving model...
Epoch 12/65
248/248 - 350s - loss: 0.2200 - accuracy: 0.8916 - val_loss: 0.3026 - val_accuracy: 0.9065
Confusion matrix: 
 [[723  41]
 [ 34   4]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.946 0.054]
 [0.895 0.105]]
Validation f1: 9.64
Validation accuracy: 90.65
Validation recall: 10.53
Validation precision: 8.89
Validation AUC: 0.05695996018590682
Validation class accuracies: [0.9463350785340314, 0.10526315789473684]
The validation tracker metric at 0.1971830985915493 hasn't increased by 0 in 1 epochs
Epoch 13/65
248/248 - 349s - loss: 0.1771 - accuracy: 0.9221 - val_loss: 1.0986 - val_accuracy: 0.5162
Confusion matrix: 
 [[390 374]
 [ 14  24]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.51  0.49 ]
 [0.368 0.632]]
Validation f1: 11.01
Validation accuracy: 51.62
Validation recall: 63.16
Validation precision: 6.03
Validation AUC: 0.06143430766364254
Validation class accuracies: [0.5104712041884817, 0.631578947368421]
The validation tracker metric at 0.1971830985915493 hasn't increased by 0 in 2 epochs
Epoch 14/65
248/248 - 349s - loss: 0.1601 - accuracy: 0.9302 - val_loss: 3.9647 - val_accuracy: 0.2232
Confusion matrix: 
 [[143 621]
 [  2  36]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.187 0.813]
 [0.053 0.947]]
Validation f1: 10.36
Validation accuracy: 22.32
Validation recall: 94.74
Validation precision: 5.48
Validation AUC: 0.04857022115898198
Validation class accuracies: [0.18717277486910994, 0.9473684210526315]
The validation tracker metric at 0.1971830985915493 hasn't increased by 0 in 3 epochs
Epoch 15/65
248/248 - 350s - loss: 0.2199 - accuracy: 0.9183 - val_loss: 0.2314 - val_accuracy: 0.9227
Confusion matrix: 
 [[734  30]
 [ 32   6]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.961 0.039]
 [0.842 0.158]]
Validation f1: 16.22
Validation accuracy: 92.27
Validation recall: 15.79
Validation precision: 16.67
Validation AUC: 0.09367461756527853
Validation class accuracies: [0.9607329842931938, 0.15789473684210525]
The validation tracker metric at 0.1971830985915493 hasn't increased by 0 in 4 epochs
Epoch 16/65
248/248 - 351s - loss: 0.1477 - accuracy: 0.9277 - val_loss: 0.2700 - val_accuracy: 0.9002
Confusion matrix: 
 [[720  44]
 [ 36   2]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.942 0.058]
 [0.947 0.053]]
Validation f1: 4.76
Validation accuracy: 90.02
Validation recall: 5.26
Validation precision: 4.35
Validation AUC: 0.06518547388870631
Validation class accuracies: [0.9424083769633508, 0.05263157894736842]
The validation tracker metric at 0.1971830985915493 hasn't increased by 0 in 5 epochs
Epoch 17/65
248/248 - 350s - loss: 0.1152 - accuracy: 0.9466 - val_loss: 0.5892 - val_accuracy: 0.6995
Confusion matrix: 
 [[548 216]
 [ 25  13]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.717 0.283]
 [0.658 0.342]]
Validation f1: 9.74
Validation accuracy: 69.95
Validation recall: 34.21
Validation precision: 5.68
Validation AUC: 0.06375786361791788
Validation class accuracies: [0.7172774869109948, 0.34210526315789475]
local_gc_exec.sh: line 6:  8644 Killed                  python -m models.$MODULE_NAME --train-file $LOCAL_TRAIN_FILE --job-dir $LOCAL_JOB_DIR --params "$PARAMS" --wav-params "$WAV_PARAMS" --spec-params "$SPEC_PARAMS"

 See logs at ../../new_cache/conv__2236__06_0205__v39__newdata/logs//home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/multiprocessing/semaphore_tracker.py:144: UserWarning: semaphore_tracker: There appear to be 6 leaked semaphores to clean up at shutdown
  len(cache))
