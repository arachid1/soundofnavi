Category:  coch
Dataset:  all_sw_coch_preprocessed_v2_param_v39_augm_v0_cleaned_8000.pkl
File:  conv.train2215
Description:  icbhi_pneumonia_test
2021-06-15 00:56:47.325434: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcudart.so.11.0
WARNING:tensorflow:From /home/alirachidi/classification_algorithm/trainers/main/models/conv/modules/augmentation.py:19: experimental_run_functions_eagerly (from tensorflow.python.eager.def_function) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.config.run_functions_eagerly` instead of the experimental version.
2021-06-15 00:56:49.543690: I tensorflow/compiler/jit/xla_cpu_device.cc:41] Not creating XLA devices, tf_xla_enable_xla_devices not set
2021-06-15 00:56:49.544686: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcuda.so.1
2021-06-15 00:56:49.585179: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-15 00:56:49.585776: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1720] Found device 0 with properties: 
pciBusID: 0000:00:04.0 name: Tesla T4 computeCapability: 7.5
coreClock: 1.59GHz coreCount: 40 deviceMemorySize: 14.75GiB deviceMemoryBandwidth: 298.08GiB/s
2021-06-15 00:56:49.585806: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcudart.so.11.0
2021-06-15 00:56:49.589449: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcublas.so.11
2021-06-15 00:56:49.589542: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcublasLt.so.11
2021-06-15 00:56:49.590721: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcufft.so.10
2021-06-15 00:56:49.591054: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcurand.so.10
2021-06-15 00:56:49.592162: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcusolver.so.10
2021-06-15 00:56:49.593093: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcusparse.so.11
2021-06-15 00:56:49.593286: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcudnn.so.8
2021-06-15 00:56:49.593397: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-15 00:56:49.594006: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-15 00:56:49.594551: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1862] Adding visible gpu devices: 0
Tensorflow Version: 2.4.0
Num GPUs Available:  1
-----------------------
Using module: nv/train2215.py
Using train_file: ../../data/datasets/all_sw_coch_preprocessed_v2_param_v39_augm_v0_cleaned_8000.pkl
Job directory: ../../new_cache/conv__2215__06_2352__v39__icbhi_pneumonia_test
Parameters: {'N_CLASSES': 1, 'SR': 8000, 'BATCH_SIZE': 16, 'LR': 0.001, 'SHAPE': [128, 1250], 'LL2_REG': 0, 'WEIGHT_DECAY': 0.001, 'N_EPOCHS': 80, 'FACTOR': 0.75, 'PATIENCE': 6, 'MIN_LR': 1e-07, 'LABEL_SMOOTHING': 0.4, 'EPSILON': 1e-07, 'ES_PATIENCE': 40, 'OVERSAMPLE': 0, 'MIN_DELTA': 0, 'PARAM': 'v39', 'EPOCH_START': 1, 'CLAUSE': 1, 'CUBEROOTING': 1, 'AUGMENTATION': 0, 'TARGET': 1, 'INITIAL_CHANNELS': 1, 'ADAPTIVE_LR': 1, 'CLASS_WEIGHTS': 1, 'SIX': 0, 'CONCAT': 0, 'TESTING': 0}
Augmentation parameters for audio: {'ADD': 1, 'QUANTITY': 250, 'WAV_PATH': 'v36,v37'}
Augmentation parameters for spectrograms: {'ADD': 1, 'QUANTITY': 150, 'TIME_MASKING': 1, 'FREQUENCY_MASKING': 1, 'LOUDNESS': 0}
-----------------------
Collecting Variables...
All variables have been collected.
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow_addons/utils/ensure_tf_install.py:68: UserWarning: Tensorflow Addons supports using Python ops for all Tensorflow versions above or equal to 2.2.0 and strictly below 2.3.0 (nightly versions are not supported). 
 The versions of TensorFlow you are currently using is 2.4.0 and is not supported. 
Some things might work, some things might not.
If you were to encounter a bug, do not file an issue.
If you want to make sure you're using a tested and supported configuration, either change the TensorFlow version or the TensorFlow Addons's version. 
You can find the compatibility matrix in TensorFlow Addon's readme:
https://github.com/tensorflow/addons
  UserWarning,
wandb: W&B syncing is set to `offline` in this directory.  Run `wandb online` or set WANDB_MODE=online to enable cloud syncing.
2021-06-15 00:56:54.146301: I tensorflow/compiler/jit/xla_gpu_device.cc:99] Not creating XLA devices, tf_xla_enable_xla_devices not set
2021-06-15 00:56:54.146539: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-15 00:56:54.147168: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1720] Found device 0 with properties: 
pciBusID: 0000:00:04.0 name: Tesla T4 computeCapability: 7.5
coreClock: 1.59GHz coreCount: 40 deviceMemorySize: 14.75GiB deviceMemoryBandwidth: 298.08GiB/s
2021-06-15 00:56:54.147210: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcudart.so.11.0
2021-06-15 00:56:54.147268: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcublas.so.11
2021-06-15 00:56:54.147290: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcublasLt.so.11
2021-06-15 00:56:54.147312: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcufft.so.10
2021-06-15 00:56:54.147333: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcurand.so.10
2021-06-15 00:56:54.147353: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcusolver.so.10
2021-06-15 00:56:54.147374: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcusparse.so.11
2021-06-15 00:56:54.147393: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcudnn.so.8
2021-06-15 00:56:54.147479: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-15 00:56:54.148082: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-15 00:56:54.148617: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1862] Adding visible gpu devices: 0
2021-06-15 00:56:54.148661: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcudart.so.11.0
2021-06-15 00:56:54.830708: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1261] Device interconnect StreamExecutor with strength 1 edge matrix:
2021-06-15 00:56:54.830756: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1267]      0 
2021-06-15 00:56:54.830766: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1280] 0:   N 
2021-06-15 00:56:54.831065: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-15 00:56:54.831800: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-15 00:56:54.832387: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-15 00:56:54.832926: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1406] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 13968 MB memory) -> physical GPU (device: 0, name: Tesla T4, pci bus id: 0000:00:04.0, compute capability: 7.5)
Pneumonia patients: 148, Non-pneumonia patients: 2873
The initial learning rate for this job is: 0.001
Initializing weights...
weights = {0: 0.5257570483814827, 1: 10.20608108108108}
Model: "conv2d"
______________________________________________________________________________________________________________
Layer (type)                        Output Shape            Param #      Connected to                         
==============================================================================================================
input_1 (InputLayer)                [(None, 128, 1250, 1)]  0                                                 
______________________________________________________________________________________________________________
batch_normalization (BatchNormaliza (None, 128, 1250, 1)    4            input_1[0][0]                        
______________________________________________________________________________________________________________
conv2d (Conv2D)                     (None, 128, 1250, 16)   32           batch_normalization[0][0]            
______________________________________________________________________________________________________________
conv2d_2 (Conv2D)                   (None, 128, 1250, 16)   32           batch_normalization[0][0]            
______________________________________________________________________________________________________________
max_pooling2d (MaxPooling2D)        (None, 128, 1250, 1)    0            batch_normalization[0][0]            
______________________________________________________________________________________________________________
conv2d_1 (Conv2D)                   (None, 128, 1250, 16)   2320         conv2d[0][0]                         
______________________________________________________________________________________________________________
conv2d_3 (Conv2D)                   (None, 128, 1250, 16)   6416         conv2d_2[0][0]                       
______________________________________________________________________________________________________________
conv2d_4 (Conv2D)                   (None, 128, 1250, 16)   32           max_pooling2d[0][0]                  
______________________________________________________________________________________________________________
concatenate (Concatenate)           (None, 128, 1250, 48)   0            conv2d_1[0][0]                       
                                                                         conv2d_3[0][0]                       
                                                                         conv2d_4[0][0]                       
______________________________________________________________________________________________________________
average_pooling2d (AveragePooling2D (None, 64, 625, 48)     0            concatenate[0][0]                    
______________________________________________________________________________________________________________
batch_normalization_1 (BatchNormali (None, 64, 625, 48)     192          average_pooling2d[0][0]              
______________________________________________________________________________________________________________
dropout (Dropout)                   (None, 64, 625, 48)     0            batch_normalization_1[0][0]          
______________________________________________________________________________________________________________
inverted_residual (InvertedResidual (None, 64, 625, 32)     35840        dropout[0][0]                        
______________________________________________________________________________________________________________
inverted_residual_1 (InvertedResidu (None, 64, 625, 32)     20864        inverted_residual[0][0]              
______________________________________________________________________________________________________________
average_pooling2d_1 (AveragePooling (None, 32, 312, 32)     0            inverted_residual_1[0][0]            
______________________________________________________________________________________________________________
batch_normalization_2 (BatchNormali (None, 32, 312, 32)     128          average_pooling2d_1[0][0]            
______________________________________________________________________________________________________________
dropout_1 (Dropout)                 (None, 32, 312, 32)     0            batch_normalization_2[0][0]          
______________________________________________________________________________________________________________
inverted_residual_2 (InvertedResidu (None, 32, 312, 64)     27136        dropout_1[0][0]                      
______________________________________________________________________________________________________________
inverted_residual_3 (InvertedResidu (None, 32, 312, 64)     66304        inverted_residual_2[0][0]            
______________________________________________________________________________________________________________
average_pooling2d_2 (AveragePooling (None, 16, 156, 64)     0            inverted_residual_3[0][0]            
______________________________________________________________________________________________________________
batch_normalization_3 (BatchNormali (None, 16, 156, 64)     256          average_pooling2d_2[0][0]            
______________________________________________________________________________________________________________
dropout_2 (Dropout)                 (None, 16, 156, 64)     0            batch_normalization_3[0][0]          
______________________________________________________________________________________________________________
inverted_residual_4 (InvertedResidu (None, 16, 156, 128)    91136        dropout_2[0][0]                      
______________________________________________________________________________________________________________
inverted_residual_5 (InvertedResidu (None, 16, 156, 128)    230912       inverted_residual_4[0][0]            
______________________________________________________________________________________________________________
average_pooling2d_3 (AveragePooling (None, 8, 78, 128)      0            inverted_residual_5[0][0]            
______________________________________________________________________________________________________________
batch_normalization_4 (BatchNormali (None, 8, 78, 128)      512          average_pooling2d_3[0][0]            
______________________________________________________________________________________________________________
dropout_3 (Dropout)                 (None, 8, 78, 128)      0            batch_normalization_4[0][0]          
______________________________________________________________________________________________________________
inverted_residual_6 (InvertedResidu (None, 8, 78, 256)      329728       dropout_3[0][0]                      
______________________________________________________________________________________________________________
inverted_residual_7 (InvertedResidu (None, 8, 78, 256)      855040       inverted_residual_6[0][0]            
______________________________________________________________________________________________________________
average_pooling2d_4 (AveragePooling (None, 4, 39, 256)      0            inverted_residual_7[0][0]            
______________________________________________________________________________________________________________
batch_normalization_5 (BatchNormali (None, 4, 39, 256)      1024         average_pooling2d_4[0][0]            
______________________________________________________________________________________________________________
dropout_4 (Dropout)                 (None, 4, 39, 256)      0            batch_normalization_5[0][0]          
______________________________________________________________________________________________________________
inverted_residual_8 (InvertedResidu (None, 4, 39, 512)      1249280      dropout_4[0][0]                      
______________________________________________________________________________________________________________
inverted_residual_9 (InvertedResidu (None, 4, 39, 512)      3282944      inverted_residual_8[0][0]            
______________________________________________________________________________________________________________
global_average_pooling2d (GlobalAve (None, 512)             0            inverted_residual_9[0][0]            
______________________________________________________________________________________________________________
dense (Dense)                       (None, 1)               513          global_average_pooling2d[0][0]       
==============================================================================================================
Total params: 6,200,645
Trainable params: 6,159,139
Non-trainable params: 41,506
______________________________________________________________________________________________________________
2021-06-15 00:56:56.104104: I tensorflow/compiler/mlir/mlir_graph_optimization_pass.cc:116] None of the MLIR optimization passes are enabled (registered 2)
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
2021-06-15 00:56:56.105648: I tensorflow/core/platform/profile_utils/cpu_utils.cc:112] CPU Frequency: 2299995000 Hz
2021-06-15 00:56:56.472997: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcudnn.so.8
2021-06-15 00:56:58.229176: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcublas.so.11
2021-06-15 00:56:58.668426: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcublasLt.so.11
Epoch 1/80
152/152 - 218s - loss: 1.0118 - accuracy: 0.6285 - val_loss: 0.8964 - val_accuracy: 0.9503
Confusion matrix: 
 [[574   0]
 [ 30   0]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/sklearn/metrics/_classification.py:1272: UndefinedMetricWarning: Precision and F-score are ill-defined and being set to 0.0 due to no predicted samples. Use `zero_division` parameter to control this behavior.
  _warn_prf(average, modifier, msg_start, len(result))
Normalized Confusion matrix: 
 [[1. 0.]
 [1. 0.]]
Validation f1: 0.00
Validation accuracy: 95.03
Validation recall: 0.00
Validation precision: 0.00
Validation AUC: 0.15148496226712638
Validation class accuracies: [1.0, 0.0]
The clause is activated.
The training is defaulting to either class.
Epoch 2/80
152/152 - 213s - loss: 0.6254 - accuracy: 0.7642 - val_loss: 0.8486 - val_accuracy: 0.9503
Confusion matrix: 
 [[574   0]
 [ 30   0]]
Normalized Confusion matrix: 
 [[1. 0.]
 [1. 0.]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/sklearn/metrics/_classification.py:1272: UndefinedMetricWarning: Precision and F-score are ill-defined and being set to 0.0 due to no predicted samples. Use `zero_division` parameter to control this behavior.
  _warn_prf(average, modifier, msg_start, len(result))
Validation f1: 0.00
Validation accuracy: 95.03
Validation recall: 0.00
Validation precision: 0.00
Validation AUC: 0.04125099258386149
Validation class accuracies: [1.0, 0.0]
The clause is activated.
The training is defaulting to either class.
Epoch 3/80
152/152 - 213s - loss: 0.6227 - accuracy: 0.7844 - val_loss: 0.6653 - val_accuracy: 0.9503
Confusion matrix: 
 [[574   0]
 [ 30   0]]
Normalized Confusion matrix: 
 [[1. 0.]
 [1. 0.]]
Validation f1: 0.00
Validation accuracy: 95.03
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/sklearn/metrics/_classification.py:1272: UndefinedMetricWarning: Precision and F-score are ill-defined and being set to 0.0 due to no predicted samples. Use `zero_division` parameter to control this behavior.
  _warn_prf(average, modifier, msg_start, len(result))
Validation recall: 0.00
Validation precision: 0.00
Validation AUC: 0.07033893344763902
Validation class accuracies: [1.0, 0.0]
The clause is activated.
The training is defaulting to either class.
Epoch 4/80
152/152 - 213s - loss: 0.6064 - accuracy: 0.7741 - val_loss: 0.5433 - val_accuracy: 0.9503
Confusion matrix: 
 [[574   0]
 [ 30   0]]
Normalized Confusion matrix: 
 [[1. 0.]
 [1. 0.]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/sklearn/metrics/_classification.py:1272: UndefinedMetricWarning: Precision and F-score are ill-defined and being set to 0.0 due to no predicted samples. Use `zero_division` parameter to control this behavior.
  _warn_prf(average, modifier, msg_start, len(result))
Validation f1: 0.00
Validation accuracy: 95.03
Validation recall: 0.00
Validation precision: 0.00
Validation AUC: 0.2745009867321483
Validation class accuracies: [1.0, 0.0]
The clause is activated.
The training is defaulting to either class.
Epoch 5/80
152/152 - 213s - loss: 0.5859 - accuracy: 0.8337 - val_loss: 0.5758 - val_accuracy: 0.8245
Confusion matrix: 
 [[490  84]
 [ 22   8]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.854 0.146]
 [0.733 0.267]]
Validation f1: 13.11
Validation accuracy: 82.45
Validation recall: 26.67
Validation precision: 8.70
Validation AUC: 0.17411157358660923
Validation class accuracies: [0.8536585365853658, 0.26666666666666666]
The clause is activated.
Not defaulting.
Saving model...
Epoch 6/80
152/152 - 213s - loss: 0.5941 - accuracy: 0.8448 - val_loss: 0.7520 - val_accuracy: 0.5331
Confusion matrix: 
 [[301 273]
 [  9  21]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.524 0.476]
 [0.3   0.7  ]]
Validation f1: 12.96
Validation accuracy: 53.31
Validation recall: 70.00
Validation precision: 7.14
Validation AUC: 0.1921851523955551
Validation class accuracies: [0.524390243902439, 0.7]
The clause is activated.
Not defaulting.
The validation tracker metric at 0.13114754098360656 hasn't increased by 0 in 1 epochs
Epoch 7/80
152/152 - 213s - loss: 0.5861 - accuracy: 0.8457 - val_loss: 0.6529 - val_accuracy: 0.7483
Confusion matrix: 
 [[424 150]
 [  2  28]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.739 0.261]
 [0.067 0.933]]
Validation f1: 26.92
Validation accuracy: 74.83
Validation recall: 93.33
Validation precision: 15.73
Validation AUC: 0.5766756245591219
Validation class accuracies: [0.7386759581881533, 0.9333333333333333]
The clause is activated.
Not defaulting.
Saving model...
Epoch 8/80
152/152 - 213s - loss: 0.5837 - accuracy: 0.8552 - val_loss: 0.6871 - val_accuracy: 0.6738
Confusion matrix: 
 [[379 195]
 [  2  28]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.66  0.34 ]
 [0.067 0.933]]
Validation f1: 22.13
Validation accuracy: 67.38
Validation recall: 93.33
Validation precision: 12.56
Validation AUC: 0.3388788033913005
Validation class accuracies: [0.6602787456445993, 0.9333333333333333]
The clause is activated.
Not defaulting.
The validation tracker metric at 0.2692307692307693 hasn't increased by 0 in 1 epochs
Epoch 9/80
152/152 - 213s - loss: 0.5706 - accuracy: 0.8726 - val_loss: 0.9855 - val_accuracy: 0.3079
Confusion matrix: 
 [[156 418]
 [  0  30]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.272 0.728]
 [0.    1.   ]]
Validation f1: 12.55
Validation accuracy: 30.79
Validation recall: 100.00
Validation precision: 6.70
Validation AUC: 0.32001477033482817
Validation class accuracies: [0.27177700348432055, 1.0]
The clause is activated.
The training is defaulting to either class.
Epoch 10/80
152/152 - 213s - loss: 0.5705 - accuracy: 0.8817 - val_loss: 0.5239 - val_accuracy: 0.9636
Confusion matrix: 
 [[574   0]
 [ 22   8]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[1.    0.   ]
 [0.733 0.267]]
Validation f1: 42.11
Validation accuracy: 96.36
Validation recall: 26.67
Validation precision: 100.00
Validation AUC: 0.7227996462664272
Validation class accuracies: [1.0, 0.26666666666666666]
The clause is activated.
The training is defaulting to either class.
Epoch 11/80
152/152 - 213s - loss: 0.5630 - accuracy: 0.8986 - val_loss: 0.6430 - val_accuracy: 0.6788
Confusion matrix: 
 [[382 192]
 [  2  28]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.666 0.334]
 [0.067 0.933]]
Validation f1: 22.40
Validation accuracy: 67.88
Validation recall: 93.33
Validation precision: 12.73
Validation AUC: 0.7625711094570072
Validation class accuracies: [0.6655052264808362, 0.9333333333333333]
The clause is activated.
Not defaulting.
The validation tracker metric at 0.2692307692307693 hasn't increased by 0 in 2 epochs
Epoch 12/80
152/152 - 213s - loss: 0.5610 - accuracy: 0.8986 - val_loss: 0.6941 - val_accuracy: 0.6854
Confusion matrix: 
 [[384 190]
 [  0  30]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.669 0.331]
 [0.    1.   ]]
Validation f1: 24.00
Validation accuracy: 68.54
Validation recall: 100.00
Validation precision: 13.64
Validation AUC: 0.6727015196567432
Validation class accuracies: [0.6689895470383276, 1.0]
The clause is activated.
Not defaulting.
The validation tracker metric at 0.2692307692307693 hasn't increased by 0 in 3 epochs
Epoch 13/80
152/152 - 213s - loss: 0.5637 - accuracy: 0.8920 - val_loss: 0.7258 - val_accuracy: 0.7036
Confusion matrix: 
 [[396 178]
 [  1  29]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.69  0.31 ]
 [0.033 0.967]]
Validation f1: 24.47
Validation accuracy: 70.36
Validation recall: 96.67
Validation precision: 14.01
Validation AUC: 0.5777732265281493
Validation class accuracies: [0.6898954703832753, 0.9666666666666667]
The clause is activated.
Not defaulting.
The validation tracker metric at 0.2692307692307693 hasn't increased by 0 in 4 epochs
Epoch 14/80
152/152 - 213s - loss: 0.5540 - accuracy: 0.9077 - val_loss: 0.5721 - val_accuracy: 0.8758
Confusion matrix: 
 [[506  68]
 [  7  23]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.882 0.118]
 [0.233 0.767]]
Validation f1: 38.02
Validation accuracy: 87.58
Validation recall: 76.67
Validation precision: 25.27
Validation AUC: 0.5588691208710992
Validation class accuracies: [0.8815331010452961, 0.7666666666666667]
The clause is activated.
Not defaulting.
Saving model...
Epoch 15/80
152/152 - 213s - loss: 0.5661 - accuracy: 0.8871 - val_loss: 0.5635 - val_accuracy: 0.9040
Confusion matrix: 
 [[521  53]
 [  5  25]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.908 0.092]
 [0.167 0.833]]
Validation f1: 46.30
Validation accuracy: 90.40
Validation recall: 83.33
Validation precision: 32.05
Validation AUC: 0.623061215865726
Validation class accuracies: [0.9076655052264808, 0.8333333333333334]
The clause is activated.
Not defaulting.
Saving model...
Epoch 16/80
152/152 - 213s - loss: 0.5422 - accuracy: 0.9189 - val_loss: 1.0164 - val_accuracy: 0.3295
Confusion matrix: 
 [[169 405]
 [  0  30]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.294 0.706]
 [0.    1.   ]]
Validation f1: 12.90
Validation accuracy: 32.95
Validation recall: 100.00
Validation precision: 6.90
Validation AUC: 0.6722468236904966
Validation class accuracies: [0.29442508710801396, 1.0]
The clause is activated.
The training is defaulting to either class.
Epoch 17/80
152/152 - 213s - loss: 0.5454 - accuracy: 0.9268 - val_loss: 0.5983 - val_accuracy: 0.8460
Confusion matrix: 
 [[482  92]
 [  1  29]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.84  0.16 ]
 [0.033 0.967]]
Validation f1: 38.41
Validation accuracy: 84.60
Validation recall: 96.67
Validation precision: 23.97
Validation AUC: 0.7381550542816566
Validation class accuracies: [0.8397212543554007, 0.9666666666666667]
The clause is activated.
Not defaulting.
The validation tracker metric at 0.462962962962963 hasn't increased by 0 in 1 epochs
Epoch 18/80
152/152 - 213s - loss: 0.5439 - accuracy: 0.9251 - val_loss: 0.5286 - val_accuracy: 0.9785
Confusion matrix: 
 [[564  10]
 [  3  27]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.983 0.017]
 [0.1   0.9  ]]
Validation f1: 80.60
Validation accuracy: 97.85
Validation recall: 90.00
Validation precision: 72.97
Validation AUC: 0.8638450764637048
Validation class accuracies: [0.9825783972125436, 0.9]
The clause is activated.
The training is defaulting to either class.
Epoch 19/80
152/152 - 213s - loss: 0.5410 - accuracy: 0.9359 - val_loss: 0.5350 - val_accuracy: 0.9603
Confusion matrix: 
 [[569   5]
 [ 19  11]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.991 0.009]
 [0.633 0.367]]
Validation f1: 47.83
Validation accuracy: 96.03
Validation recall: 36.67
Validation precision: 68.75
Validation AUC: 0.4168930489978086
Validation class accuracies: [0.9912891986062717, 0.36666666666666664]
The clause is activated.
The training is defaulting to either class.
Epoch 20/80
152/152 - 213s - loss: 0.5351 - accuracy: 0.9512 - val_loss: 0.6266 - val_accuracy: 0.7550
Confusion matrix: 
 [[432 142]
 [  6  24]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.753 0.247]
 [0.2   0.8  ]]
Validation f1: 24.49
Validation accuracy: 75.50
Validation recall: 80.00
Validation precision: 14.46
Validation AUC: 0.3449344634204846
Validation class accuracies: [0.7526132404181185, 0.8]
The clause is activated.
Not defaulting.
The validation tracker metric at 0.462962962962963 hasn't increased by 0 in 2 epochs
Epoch 21/80
152/152 - 213s - loss: 0.5278 - accuracy: 0.9615 - val_loss: 0.6564 - val_accuracy: 0.7417
Confusion matrix: 
 [[418 156]
 [  0  30]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.728 0.272]
 [0.    1.   ]]
Validation f1: 27.78
Validation accuracy: 74.17
Validation recall: 100.00
Validation precision: 16.13
Validation AUC: 0.7492394836882732
Validation class accuracies: [0.7282229965156795, 1.0]
The clause is activated.
Not defaulting.
The validation tracker metric at 0.462962962962963 hasn't increased by 0 in 3 epochs
Epoch 22/80
152/152 - 213s - loss: 0.5282 - accuracy: 0.9582 - val_loss: 0.5528 - val_accuracy: 0.9553
Confusion matrix: 
 [[572   2]
 [ 25   5]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.997 0.003]
 [0.833 0.167]]
Validation f1: 27.03
Validation accuracy: 95.53
Validation recall: 16.67
Validation precision: 71.43
Validation AUC: 0.26382011711000297
Validation class accuracies: [0.9965156794425087, 0.16666666666666666]
The clause is activated.
The training is defaulting to either class.
Epoch 23/80
152/152 - 213s - loss: 0.5351 - accuracy: 0.9524 - val_loss: 1.1228 - val_accuracy: 0.3079
Confusion matrix: 
 [[156 418]
 [  0  30]]
Normalized Confusion matrix: 
 [[0.272 0.728]
 [0.    1.   ]]
Validation f1: 12.55
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation accuracy: 30.79
Validation recall: 100.00
Validation precision: 6.70
Validation AUC: 0.13493535321665184
Validation class accuracies: [0.27177700348432055, 1.0]
The clause is activated.
The training is defaulting to either class.
Epoch 24/80
152/152 - 213s - loss: 0.5313 - accuracy: 0.9441 - val_loss: 0.6420 - val_accuracy: 0.7798
Confusion matrix: 
 [[441 133]
 [  0  30]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.768 0.232]
 [0.    1.   ]]
Validation f1: 31.09
Validation accuracy: 77.98
Validation recall: 100.00
Validation precision: 18.40
Validation AUC: 0.6711498734617425
Validation class accuracies: [0.7682926829268293, 1.0]
The clause is activated.
Not defaulting.
The validation tracker metric at 0.462962962962963 hasn't increased by 0 in 4 epochs
Epoch 25/80
152/152 - 213s - loss: 0.5281 - accuracy: 0.9479 - val_loss: 0.5156 - val_accuracy: 0.9851
Confusion matrix: 
 [[568   6]
 [  3  27]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.99 0.01]
 [0.1  0.9 ]]
Validation f1: 85.71
Validation accuracy: 98.51
Validation recall: 90.00
Validation precision: 81.82
Validation AUC: 0.9011785496780996
Validation class accuracies: [0.9895470383275261, 0.9]
The clause is activated.
The training is defaulting to either class.
Epoch 26/80
152/152 - 213s - loss: 0.5195 - accuracy: 0.9694 - val_loss: 0.6439 - val_accuracy: 0.7748
Confusion matrix: 
 [[439 135]
 [  1  29]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.765 0.235]
 [0.033 0.967]]
Validation f1: 29.90
Validation accuracy: 77.48
Validation recall: 96.67
Validation precision: 17.68
Validation AUC: 0.5846937847110123
Validation class accuracies: [0.764808362369338, 0.9666666666666667]
The clause is activated.
Not defaulting.
The validation tracker metric at 0.462962962962963 hasn't increased by 0 in 5 epochs
Epoch 27/80
152/152 - 213s - loss: 0.5239 - accuracy: 0.9698 - val_loss: 0.5643 - val_accuracy: 0.9156
Confusion matrix: 
 [[524  50]
 [  1  29]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.913 0.087]
 [0.033 0.967]]
Validation f1: 53.21
Validation accuracy: 91.56
Validation recall: 96.67
Validation precision: 36.71
Validation AUC: 0.7076865327431409
Validation class accuracies: [0.9128919860627178, 0.9666666666666667]
The clause is activated.
Not defaulting.
Saving model...
Epoch 28/80
152/152 - 213s - loss: 0.5166 - accuracy: 0.9768 - val_loss: 0.5311 - val_accuracy: 0.9553
Confusion matrix: 
 [[574   0]
 [ 27   3]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[1.  0. ]
 [0.9 0.1]]
Validation f1: 18.18
Validation accuracy: 95.53
Validation recall: 10.00
Validation precision: 100.00
Validation AUC: 0.5111909484100237
Validation class accuracies: [1.0, 0.1]
The clause is activated.
The training is defaulting to either class.
Epoch 29/80
152/152 - 213s - loss: 0.5153 - accuracy: 0.9797 - val_loss: 0.5274 - val_accuracy: 0.9685
Confusion matrix: 
 [[556  18]
 [  1  29]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.969 0.031]
 [0.033 0.967]]
Validation f1: 75.32
Validation accuracy: 96.85
Validation recall: 96.67
Validation precision: 61.70
Validation AUC: 0.8125820740126519
Validation class accuracies: [0.9686411149825784, 0.9666666666666667]
The clause is activated.
The training is defaulting to either class.
Epoch 30/80
152/152 - 213s - loss: 0.5117 - accuracy: 0.9855 - val_loss: 0.5540 - val_accuracy: 0.9503
Confusion matrix: 
 [[574   0]
 [ 30   0]]
Normalized Confusion matrix: 
 [[1. 0.]
 [1. 0.]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/sklearn/metrics/_classification.py:1272: UndefinedMetricWarning: Precision and F-score are ill-defined and being set to 0.0 due to no predicted samples. Use `zero_division` parameter to control this behavior.
  _warn_prf(average, modifier, msg_start, len(result))
Validation f1: 0.00
Validation accuracy: 95.03
Validation recall: 0.00
Validation precision: 0.00
Validation AUC: 0.21465424539920422
Validation class accuracies: [1.0, 0.0]
The clause is activated.
The training is defaulting to either class.
Epoch 31/80
152/152 - 213s - loss: 0.5119 - accuracy: 0.9839 - val_loss: 0.5304 - val_accuracy: 0.9669
Confusion matrix: 
 [[555  19]
 [  1  29]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.967 0.033]
 [0.033 0.967]]
Validation f1: 74.36
Validation accuracy: 96.69
Validation recall: 96.67
Validation precision: 60.42
Validation AUC: 0.850503760409904
Validation class accuracies: [0.9668989547038328, 0.9666666666666667]
The clause is activated.
The training is defaulting to either class.
Epoch 32/80
152/152 - 213s - loss: 0.5083 - accuracy: 0.9909 - val_loss: 0.8008 - val_accuracy: 0.4685
Confusion matrix: 
 [[253 321]
 [  0  30]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.441 0.559]
 [0.    1.   ]]
Validation f1: 15.75
Validation accuracy: 46.85
Validation recall: 100.00
Validation precision: 8.55
Validation AUC: 0.6514097168225257
Validation class accuracies: [0.44076655052264807, 1.0]
The clause is activated.
Not defaulting.
The validation tracker metric at 0.5321100917431193 hasn't increased by 0 in 1 epochs
Epoch 33/80
152/152 - 213s - loss: 0.5373 - accuracy: 0.9425 - val_loss: 0.5834 - val_accuracy: 0.8725
Confusion matrix: 
 [[498  76]
 [  1  29]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.868 0.132]
 [0.033 0.967]]
Validation f1: 42.96
Validation accuracy: 87.25
Validation recall: 96.67
Validation precision: 27.62
Validation AUC: 0.8679403125463412
Validation class accuracies: [0.867595818815331, 0.9666666666666667]
The clause is activated.
Not defaulting.
The validation tracker metric at 0.5321100917431193 hasn't increased by 0 in 2 epochs
Epoch 34/80
152/152 - 213s - loss: 0.5217 - accuracy: 0.9735 - val_loss: 0.5623 - val_accuracy: 0.9503
Confusion matrix: 
 [[573   1]
 [ 29   1]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.998 0.002]
 [0.967 0.033]]
Validation f1: 6.25
Validation accuracy: 95.03
Validation recall: 3.33
Validation precision: 50.00
Validation AUC: 0.05248146821277665
Validation class accuracies: [0.9982578397212544, 0.03333333333333333]
The clause is activated.
The training is defaulting to either class.
Epoch 35/80
152/152 - 213s - loss: 0.5225 - accuracy: 0.9619 - val_loss: 0.5144 - val_accuracy: 0.9884
Confusion matrix: 
 [[570   4]
 [  3  27]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.993 0.007]
 [0.1   0.9  ]]
Validation f1: 88.52
Validation accuracy: 98.84
Validation recall: 90.00
Validation precision: 87.10
Validation AUC: 0.9233700701577071
Validation class accuracies: [0.9930313588850174, 0.9]
The clause is activated.
The training is defaulting to either class.
Epoch 36/80
152/152 - 213s - loss: 0.5128 - accuracy: 0.9868 - val_loss: 0.5186 - val_accuracy: 0.9768
Confusion matrix: 
 [[562  12]
 [  2  28]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.979 0.021]
 [0.067 0.933]]
Validation f1: 80.00
Validation accuracy: 97.68
Validation recall: 93.33
Validation precision: 70.00
Validation AUC: 0.9261083879882577
Validation class accuracies: [0.9790940766550522, 0.9333333333333333]
The clause is activated.
The training is defaulting to either class.
Epoch 37/80
152/152 - 213s - loss: 0.5095 - accuracy: 0.9905 - val_loss: 0.5192 - val_accuracy: 0.9752
Confusion matrix: 
 [[561  13]
 [  2  28]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.977 0.023]
 [0.067 0.933]]
Validation f1: 78.87
Validation accuracy: 97.52
Validation recall: 93.33
Validation precision: 68.29
Validation AUC: 0.8360927830670309
Validation class accuracies: [0.9773519163763066, 0.9333333333333333]
The clause is activated.
The training is defaulting to either class.
Epoch 38/80
152/152 - 213s - loss: 0.5098 - accuracy: 0.9888 - val_loss: 0.5500 - val_accuracy: 0.9272
Confusion matrix: 
 [[531  43]
 [  1  29]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.925 0.075]
 [0.033 0.967]]
Validation f1: 56.86
Validation accuracy: 92.72
Validation recall: 96.67
Validation precision: 40.28
Validation AUC: 0.8343515543663379
Validation class accuracies: [0.9250871080139372, 0.9666666666666667]
The clause is activated.
Not defaulting.
Saving model...
Epoch 39/80
152/152 - 213s - loss: 0.5411 - accuracy: 0.9284 - val_loss: 0.5945 - val_accuracy: 0.8626
Confusion matrix: 
 [[493  81]
 [  2  28]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.859 0.141]
 [0.067 0.933]]
Validation f1: 40.29
Validation accuracy: 86.26
Validation recall: 93.33
Validation precision: 25.69
Validation AUC: 0.7303020099852258
Validation class accuracies: [0.8588850174216028, 0.9333333333333333]
The clause is activated.
Not defaulting.
The validation tracker metric at 0.5686274509803922 hasn't increased by 0 in 1 epochs
Epoch 40/80
152/152 - 213s - loss: 0.5197 - accuracy: 0.9690 - val_loss: 0.5343 - val_accuracy: 0.9553
Confusion matrix: 
 [[559  15]
 [ 12  18]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.974 0.026]
 [0.4   0.6  ]]
Validation f1: 57.14
Validation accuracy: 95.53
Validation recall: 60.00
Validation precision: 54.55
Validation AUC: 0.5927211243260726
Validation class accuracies: [0.9738675958188153, 0.6]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/multiprocessing/semaphore_tracker.py:144: UserWarning: semaphore_tracker: There appear to be 6 leaked semaphores to clean up at shutdown
  len(cache))
