Category:  coch
Dataset:  all_sw_coch_preprocessed_v2_param_v39_augm_v0_cleaned_8000.pkl
File:  conv.train2242
Description:  augmented_icbhi_and_jordan
2021-06-23 12:18:56.166013: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcudart.so.11.0
WARNING:tensorflow:From /home/alirachidi/classification_algorithm/trainers/main/models/conv/modules/augmentation.py:19: experimental_run_functions_eagerly (from tensorflow.python.eager.def_function) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.config.run_functions_eagerly` instead of the experimental version.
2021-06-23 12:18:58.411861: I tensorflow/compiler/jit/xla_cpu_device.cc:41] Not creating XLA devices, tf_xla_enable_xla_devices not set
2021-06-23 12:18:58.412802: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcuda.so.1
2021-06-23 12:18:58.459592: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-23 12:18:58.460333: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1720] Found device 0 with properties: 
pciBusID: 0000:00:04.0 name: Tesla T4 computeCapability: 7.5
coreClock: 1.59GHz coreCount: 40 deviceMemorySize: 14.75GiB deviceMemoryBandwidth: 298.08GiB/s
2021-06-23 12:18:58.460362: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcudart.so.11.0
2021-06-23 12:18:58.463986: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcublas.so.11
2021-06-23 12:18:58.464069: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcublasLt.so.11
2021-06-23 12:18:58.465211: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcufft.so.10
2021-06-23 12:18:58.465510: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcurand.so.10
2021-06-23 12:18:58.466539: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcusolver.so.10
2021-06-23 12:18:58.467426: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcusparse.so.11
2021-06-23 12:18:58.467578: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcudnn.so.8
2021-06-23 12:18:58.467679: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-23 12:18:58.468408: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-23 12:18:58.469119: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1862] Adding visible gpu devices: 0
Tensorflow Version: 2.4.0
Num GPUs Available:  1
-----------------------
Using module: nv/train2242.py
Using train_file: ../../data/datasets/all_sw_coch_preprocessed_v2_param_v39_augm_v0_cleaned_8000.pkl
Job directory: ../../new_cache/conv__2242__06_1143__v39__augmented_icbhi_and_jordan
Parameters: {'N_CLASSES': 1, 'SR': 8000, 'BATCH_SIZE': 16, 'LR': 0.001, 'SHAPE': [128, 1250], 'LL2_REG': 0, 'WEIGHT_DECAY': 0.001, 'N_EPOCHS': 65, 'FACTOR': 0.5, 'PATIENCE': 6, 'MIN_LR': 1e-07, 'LABEL_SMOOTHING': 0, 'EPSILON': 1e-07, 'ES_PATIENCE': 20, 'OVERSAMPLE': 0, 'MIN_DELTA': 0, 'PARAM': 'v39', 'EPOCH_START': 1, 'JORDAN_DATASET': 1, 'CLAUSE': 0, 'CUBEROOTING': 1, 'NORMALIZING': 1, 'AUGMENTATION': 1, 'TARGET': 1, 'INITIAL_CHANNELS': 1, 'ADAPTIVE_LR': 1, 'CLASS_WEIGHTS': 1, 'SIX': 0, 'CONCAT': 0, 'TESTING': 0}
Augmentation parameters for audio: {'ADD': 1, 'QUANTITY': 300, 'WAV_PATH': 'v42'}
Augmentation parameters for spectrograms: {'ADD': 0, 'QUANTITY': 300, 'TIME_MASKING': 1, 'FREQUENCY_MASKING': 1, 'LOUDNESS': 0}
-----------------------
-----------------------
Changing augmentation to v43
Audio Augmentation Parameters: {'ADD': 1, 'QUANTITY': 300, 'WAV_PATH': 'v43'}
Collecting Variables...
All variables have been collected.
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow_addons/utils/ensure_tf_install.py:68: UserWarning: Tensorflow Addons supports using Python ops for all Tensorflow versions above or equal to 2.2.0 and strictly below 2.3.0 (nightly versions are not supported). 
 The versions of TensorFlow you are currently using is 2.4.0 and is not supported. 
Some things might work, some things might not.
If you were to encounter a bug, do not file an issue.
If you want to make sure you're using a tested and supported configuration, either change the TensorFlow version or the TensorFlow Addons's version. 
You can find the compatibility matrix in TensorFlow Addon's readme:
https://github.com/tensorflow/addons
  UserWarning,
wandb: W&B syncing is set to `offline` in this directory.  Run `wandb online` or set WANDB_MODE=online to enable cloud syncing.
2021-06-23 12:19:03.218085: I tensorflow/compiler/jit/xla_gpu_device.cc:99] Not creating XLA devices, tf_xla_enable_xla_devices not set
2021-06-23 12:19:03.218334: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-23 12:19:03.219108: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1720] Found device 0 with properties: 
pciBusID: 0000:00:04.0 name: Tesla T4 computeCapability: 7.5
coreClock: 1.59GHz coreCount: 40 deviceMemorySize: 14.75GiB deviceMemoryBandwidth: 298.08GiB/s
2021-06-23 12:19:03.219151: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcudart.so.11.0
2021-06-23 12:19:03.219217: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcublas.so.11
2021-06-23 12:19:03.219238: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcublasLt.so.11
2021-06-23 12:19:03.219255: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcufft.so.10
2021-06-23 12:19:03.219273: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcurand.so.10
2021-06-23 12:19:03.219291: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcusolver.so.10
2021-06-23 12:19:03.219309: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcusparse.so.11
2021-06-23 12:19:03.219326: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcudnn.so.8
2021-06-23 12:19:03.219422: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-23 12:19:03.220191: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-23 12:19:03.220867: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1862] Adding visible gpu devices: 0
2021-06-23 12:19:03.220913: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcudart.so.11.0
2021-06-23 12:19:03.922628: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1261] Device interconnect StreamExecutor with strength 1 edge matrix:
2021-06-23 12:19:03.922675: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1267]      0 
2021-06-23 12:19:03.922684: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1280] 0:   N 
2021-06-23 12:19:03.922990: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-23 12:19:03.923757: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-23 12:19:03.924467: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-23 12:19:03.925171: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1406] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 13968 MB memory) -> physical GPU (device: 0, name: Tesla T4, pci bus id: 0000:00:04.0, compute capability: 7.5)
Pneumonia patients: 148, Non-pneumonia patients: 2873
Pneumonia patients: 51, Non-pneumonia patients: 0
-----------------------
Number of train recordings: 2457 with pneumonia: 157 and non-pneumonia: 2300
Length of training samples after audio augmentation: 2614
-----------------------
Number of train recordings: 2614 with pneumonia: 314 and non-pneumonia: 2300
Length of training samples after audio augmentation: 3214
-----------------------
Number of train recordings: 3214 with pneumonia: 314 and non-pneumonia: 2900
Number of val recordings: 615 with pneumonia: 42 and non-pneumonia: 573
-----------------------
Initializing weights...
weights = {0: 0.5257570483814827, 1: 10.20608108108108}
Model: "conv2d"
______________________________________________________________________________________________________________
Layer (type)                        Output Shape            Param #      Connected to                         
==============================================================================================================
input_1 (InputLayer)                [(None, 128, 1250, 1)]  0                                                 
______________________________________________________________________________________________________________
batch_normalization (BatchNormaliza (None, 128, 1250, 1)    4            input_1[0][0]                        
______________________________________________________________________________________________________________
conv2d (Conv2D)                     (None, 128, 1250, 16)   32           batch_normalization[0][0]            
______________________________________________________________________________________________________________
conv2d_2 (Conv2D)                   (None, 128, 1250, 16)   32           batch_normalization[0][0]            
______________________________________________________________________________________________________________
max_pooling2d (MaxPooling2D)        (None, 128, 1250, 1)    0            batch_normalization[0][0]            
______________________________________________________________________________________________________________
conv2d_1 (Conv2D)                   (None, 128, 1250, 16)   2320         conv2d[0][0]                         
______________________________________________________________________________________________________________
conv2d_3 (Conv2D)                   (None, 128, 1250, 16)   6416         conv2d_2[0][0]                       
______________________________________________________________________________________________________________
conv2d_4 (Conv2D)                   (None, 128, 1250, 16)   32           max_pooling2d[0][0]                  
______________________________________________________________________________________________________________
concatenate (Concatenate)           (None, 128, 1250, 48)   0            conv2d_1[0][0]                       
                                                                         conv2d_3[0][0]                       
                                                                         conv2d_4[0][0]                       
______________________________________________________________________________________________________________
average_pooling2d (AveragePooling2D (None, 64, 625, 48)     0            concatenate[0][0]                    
______________________________________________________________________________________________________________
batch_normalization_1 (BatchNormali (None, 64, 625, 48)     192          average_pooling2d[0][0]              
______________________________________________________________________________________________________________
dropout (Dropout)                   (None, 64, 625, 48)     0            batch_normalization_1[0][0]          
______________________________________________________________________________________________________________
inverted_residual (InvertedResidual (None, 64, 625, 32)     35840        dropout[0][0]                        
______________________________________________________________________________________________________________
inverted_residual_1 (InvertedResidu (None, 64, 625, 32)     20864        inverted_residual[0][0]              
______________________________________________________________________________________________________________
average_pooling2d_1 (AveragePooling (None, 32, 312, 32)     0            inverted_residual_1[0][0]            
______________________________________________________________________________________________________________
batch_normalization_2 (BatchNormali (None, 32, 312, 32)     128          average_pooling2d_1[0][0]            
______________________________________________________________________________________________________________
dropout_1 (Dropout)                 (None, 32, 312, 32)     0            batch_normalization_2[0][0]          
______________________________________________________________________________________________________________
inverted_residual_2 (InvertedResidu (None, 32, 312, 64)     27136        dropout_1[0][0]                      
______________________________________________________________________________________________________________
inverted_residual_3 (InvertedResidu (None, 32, 312, 64)     66304        inverted_residual_2[0][0]            
______________________________________________________________________________________________________________
average_pooling2d_2 (AveragePooling (None, 16, 156, 64)     0            inverted_residual_3[0][0]            
______________________________________________________________________________________________________________
batch_normalization_3 (BatchNormali (None, 16, 156, 64)     256          average_pooling2d_2[0][0]            
______________________________________________________________________________________________________________
dropout_2 (Dropout)                 (None, 16, 156, 64)     0            batch_normalization_3[0][0]          
______________________________________________________________________________________________________________
inverted_residual_4 (InvertedResidu (None, 16, 156, 128)    91136        dropout_2[0][0]                      
______________________________________________________________________________________________________________
inverted_residual_5 (InvertedResidu (None, 16, 156, 128)    230912       inverted_residual_4[0][0]            
______________________________________________________________________________________________________________
average_pooling2d_3 (AveragePooling (None, 8, 78, 128)      0            inverted_residual_5[0][0]            
______________________________________________________________________________________________________________
batch_normalization_4 (BatchNormali (None, 8, 78, 128)      512          average_pooling2d_3[0][0]            
______________________________________________________________________________________________________________
dropout_3 (Dropout)                 (None, 8, 78, 128)      0            batch_normalization_4[0][0]          
______________________________________________________________________________________________________________
inverted_residual_6 (InvertedResidu (None, 8, 78, 256)      329728       dropout_3[0][0]                      
______________________________________________________________________________________________________________
inverted_residual_7 (InvertedResidu (None, 8, 78, 256)      855040       inverted_residual_6[0][0]            
______________________________________________________________________________________________________________
average_pooling2d_4 (AveragePooling (None, 4, 39, 256)      0            inverted_residual_7[0][0]            
______________________________________________________________________________________________________________
batch_normalization_5 (BatchNormali (None, 4, 39, 256)      1024         average_pooling2d_4[0][0]            
______________________________________________________________________________________________________________
dropout_4 (Dropout)                 (None, 4, 39, 256)      0            batch_normalization_5[0][0]          
______________________________________________________________________________________________________________
inverted_residual_8 (InvertedResidu (None, 4, 39, 512)      1249280      dropout_4[0][0]                      
______________________________________________________________________________________________________________
inverted_residual_9 (InvertedResidu (None, 4, 39, 512)      3282944      inverted_residual_8[0][0]            
______________________________________________________________________________________________________________
global_average_pooling2d (GlobalAve (None, 512)             0            inverted_residual_9[0][0]            
______________________________________________________________________________________________________________
dense (Dense)                       (None, 1)               513          global_average_pooling2d[0][0]       
==============================================================================================================
Total params: 6,200,645
Trainable params: 6,159,139
Non-trainable params: 41,506
______________________________________________________________________________________________________________
2021-06-23 12:19:05.221467: I tensorflow/compiler/mlir/mlir_graph_optimization_pass.cc:116] None of the MLIR optimization passes are enabled (registered 2)
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
2021-06-23 12:19:05.223298: I tensorflow/core/platform/profile_utils/cpu_utils.cc:112] CPU Frequency: 2299995000 Hz
2021-06-23 12:19:05.599816: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcudnn.so.8
2021-06-23 12:19:07.389844: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcublas.so.11
2021-06-23 12:19:07.838933: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcublasLt.so.11
Epoch 1/65
201/201 - 305s - loss: 0.8017 - accuracy: 0.6836 - val_loss: 0.2791 - val_accuracy: 0.9317
Confusion matrix: 
 [[573   0]
 [ 42   0]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/sklearn/metrics/_classification.py:1272: UndefinedMetricWarning: Precision and F-score are ill-defined and being set to 0.0 due to no predicted samples. Use `zero_division` parameter to control this behavior.
  _warn_prf(average, modifier, msg_start, len(result))
Normalized Confusion matrix: 
 [[1. 0.]
 [1. 0.]]
Validation f1: 0.00
Validation accuracy: 93.17
Validation recall: 0.00
Validation precision: 0.00
Validation AUC: 0.08824100931631716
Validation class accuracies: [1.0, 0.0]
The validation tracker metric at 0 hasn't increased by 0 in 1 epochs
Epoch 2/65
201/201 - 305s - loss: 0.5052 - accuracy: 0.7414 - val_loss: 0.2545 - val_accuracy: 0.9317
Confusion matrix: 
 [[573   0]
 [ 42   0]]
Normalized Confusion matrix: 
 [[1. 0.]
 [1. 0.]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/sklearn/metrics/_classification.py:1272: UndefinedMetricWarning: Precision and F-score are ill-defined and being set to 0.0 due to no predicted samples. Use `zero_division` parameter to control this behavior.
  _warn_prf(average, modifier, msg_start, len(result))
Validation f1: 0.00
Validation accuracy: 93.17
Validation recall: 0.00
Validation precision: 0.00
Validation AUC: 0.07114507868031082
Validation class accuracies: [1.0, 0.0]
The validation tracker metric at 0 hasn't increased by 0 in 2 epochs
Epoch 3/65
201/201 - 305s - loss: 0.4974 - accuracy: 0.7626 - val_loss: 0.1892 - val_accuracy: 0.9512
Confusion matrix: 
 [[571   2]
 [ 28  14]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.997 0.003]
 [0.667 0.333]]
Validation f1: 48.28
Validation accuracy: 95.12
Validation recall: 33.33
Validation precision: 87.50
Validation AUC: 0.5189100647031838
Validation class accuracies: [0.9965095986038395, 0.3333333333333333]
Saving model...
Epoch 4/65
201/201 - 305s - loss: 0.4225 - accuracy: 0.8012 - val_loss: 6.1513 - val_accuracy: 0.0894
Confusion matrix: 
 [[ 13 560]
 [  0  42]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.023 0.977]
 [0.    1.   ]]
Validation f1: 13.04
Validation accuracy: 8.94
Validation recall: 100.00
Validation precision: 6.98
Validation AUC: 0.42736446883624635
Validation class accuracies: [0.02268760907504363, 1.0]
The validation tracker metric at 0.48275862068965514 hasn't increased by 0 in 1 epochs
Epoch 5/65
201/201 - 304s - loss: 0.3238 - accuracy: 0.8426 - val_loss: 0.7998 - val_accuracy: 0.7967
Confusion matrix: 
 [[453 120]
 [  5  37]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.791 0.209]
 [0.119 0.881]]
Validation f1: 37.19
Validation accuracy: 79.67
Validation recall: 88.10
Validation precision: 23.57
Validation AUC: 0.5613193570919993
Validation class accuracies: [0.7905759162303665, 0.8809523809523809]
The validation tracker metric at 0.48275862068965514 hasn't increased by 0 in 2 epochs
Epoch 6/65
201/201 - 305s - loss: 0.3185 - accuracy: 0.8553 - val_loss: 1.1637 - val_accuracy: 0.3106
Confusion matrix: 
 [[153 420]
 [  4  38]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.267 0.733]
 [0.095 0.905]]
Validation f1: 15.20
Validation accuracy: 31.06
Validation recall: 90.48
Validation precision: 8.30
Validation AUC: 0.1983923110553329
Validation class accuracies: [0.2670157068062827, 0.9047619047619048]
The validation tracker metric at 0.48275862068965514 hasn't increased by 0 in 3 epochs
Epoch 7/65
201/201 - 305s - loss: 0.2596 - accuracy: 0.8783 - val_loss: 0.9382 - val_accuracy: 0.7561
Confusion matrix: 
 [[441 132]
 [ 18  24]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.77  0.23 ]
 [0.429 0.571]]
Validation f1: 24.24
Validation accuracy: 75.61
Validation recall: 57.14
Validation precision: 15.38
Validation AUC: 0.20980599412957773
Validation class accuracies: [0.7696335078534031, 0.5714285714285714]
The validation tracker metric at 0.48275862068965514 hasn't increased by 0 in 4 epochs
Epoch 8/65
201/201 - 305s - loss: 0.3059 - accuracy: 0.8609 - val_loss: 0.4091 - val_accuracy: 0.8976
Confusion matrix: 
 [[522  51]
 [ 12  30]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.911 0.089]
 [0.286 0.714]]
Validation f1: 48.78
Validation accuracy: 89.76
Validation recall: 71.43
Validation precision: 37.04
Validation AUC: 0.6440787551488034
Validation class accuracies: [0.9109947643979057, 0.7142857142857143]
Saving model...
Epoch 9/65
201/201 - 305s - loss: 0.2161 - accuracy: 0.9060 - val_loss: 0.3748 - val_accuracy: 0.8667
Confusion matrix: 
 [[504  69]
 [ 13  29]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.88 0.12]
 [0.31 0.69]]
Validation f1: 41.43
Validation accuracy: 86.67
Validation recall: 69.05
Validation precision: 29.59
Validation AUC: 0.6337470045299958
Validation class accuracies: [0.8795811518324608, 0.6904761904761905]
The validation tracker metric at 0.4878048780487805 hasn't increased by 0 in 1 epochs
Epoch 10/65
201/201 - 305s - loss: 0.1539 - accuracy: 0.9259 - val_loss: 0.2758 - val_accuracy: 0.9317
Confusion matrix: 
 [[549  24]
 [ 18  24]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.958 0.042]
 [0.429 0.571]]
Validation f1: 53.33
Validation accuracy: 93.17
Validation recall: 57.14
Validation precision: 50.00
Validation AUC: 0.5906101367457215
Validation class accuracies: [0.9581151832460733, 0.5714285714285714]
Saving model...
Epoch 11/65
201/201 - 305s - loss: 0.1836 - accuracy: 0.9210 - val_loss: 0.6646 - val_accuracy: 0.7512
Confusion matrix: 
 [[429 144]
 [  9  33]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.749 0.251]
 [0.214 0.786]]
Validation f1: 30.14
Validation accuracy: 75.12
Validation recall: 78.57
Validation precision: 18.64
Validation AUC: 0.5247279588783544
Validation class accuracies: [0.7486910994764397, 0.7857142857142857]
The validation tracker metric at 0.5333333333333333 hasn't increased by 0 in 1 epochs
Epoch 12/65
201/201 - 305s - loss: 0.1458 - accuracy: 0.9306 - val_loss: 0.2049 - val_accuracy: 0.9317
Confusion matrix: 
 [[550  23]
 [ 19  23]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.96  0.04 ]
 [0.452 0.548]]
Validation f1: 52.27
Validation accuracy: 93.17
Validation recall: 54.76
Validation precision: 50.00
Validation AUC: 0.5840305246124958
Validation class accuracies: [0.9598603839441536, 0.5476190476190477]
The validation tracker metric at 0.5333333333333333 hasn't increased by 0 in 2 epochs
Epoch 13/65
201/201 - 305s - loss: 0.1434 - accuracy: 0.9378 - val_loss: 0.7313 - val_accuracy: 0.8195
Confusion matrix: 
 [[486  87]
 [ 24  18]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.848 0.152]
 [0.571 0.429]]
Validation f1: 24.49
Validation accuracy: 81.95
Validation recall: 42.86
Validation precision: 17.14
Validation AUC: 0.2974674728125644
Validation class accuracies: [0.8481675392670157, 0.42857142857142855]
The validation tracker metric at 0.5333333333333333 hasn't increased by 0 in 3 epochs
Epoch 14/65
201/201 - 304s - loss: 0.1807 - accuracy: 0.9147 - val_loss: 0.3368 - val_accuracy: 0.8943
Confusion matrix: 
 [[526  47]
 [ 18  24]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.918 0.082]
 [0.429 0.571]]
Validation f1: 42.48
Validation accuracy: 89.43
Validation recall: 57.14
Validation precision: 33.80
Validation AUC: 0.5259503213943704
Validation class accuracies: [0.9179755671902269, 0.5714285714285714]
The validation tracker metric at 0.5333333333333333 hasn't increased by 0 in 4 epochs
Epoch 15/65
201/201 - 304s - loss: 0.0852 - accuracy: 0.9620 - val_loss: 0.4262 - val_accuracy: 0.8862
Confusion matrix: 
 [[514  59]
 [ 11  31]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.897 0.103]
 [0.262 0.738]]
Validation f1: 46.97
Validation accuracy: 88.62
Validation recall: 73.81
Validation precision: 34.44
Validation AUC: 0.6161164986585935
Validation class accuracies: [0.8970331588132635, 0.7380952380952381]
The validation tracker metric at 0.5333333333333333 hasn't increased by 0 in 5 epochs
Epoch 16/65
201/201 - 304s - loss: 0.0875 - accuracy: 0.9630 - val_loss: 1.5308 - val_accuracy: 0.6862
Confusion matrix: 
 [[382 191]
 [  2  40]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.667 0.333]
 [0.048 0.952]]
Validation f1: 29.30
Validation accuracy: 68.62
Validation recall: 95.24
Validation precision: 17.32
Validation AUC: 0.6056435140415886
Validation class accuracies: [0.6666666666666666, 0.9523809523809523]
The validation tracker metric at 0.5333333333333333 hasn't increased by 0 in 6 epochs
Lr has been adjusted to 0.0005000000237487257
Epoch 17/65
201/201 - 305s - loss: 0.0725 - accuracy: 0.9760 - val_loss: 1.3048 - val_accuracy: 0.6325
Confusion matrix: 
 [[359 214]
 [ 12  30]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.627 0.373]
 [0.286 0.714]]
Validation f1: 20.98
Validation accuracy: 63.25
Validation recall: 71.43
Validation precision: 12.30
Validation AUC: 0.5650772076776994
Validation class accuracies: [0.6265270506108203, 0.7142857142857143]
The validation tracker metric at 0.5333333333333333 hasn't increased by 0 in 7 epochs
Epoch 18/65
201/201 - 304s - loss: 0.1335 - accuracy: 0.9400 - val_loss: 0.3044 - val_accuracy: 0.9285
Confusion matrix: 
 [[544  29]
 [ 15  27]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.949 0.051]
 [0.357 0.643]]
Validation f1: 55.10
Validation accuracy: 92.85
Validation recall: 64.29
Validation precision: 48.21
Validation AUC: 0.6376533973195649
Validation class accuracies: [0.9493891797556719, 0.6428571428571429]
Saving model...
Epoch 19/65
201/201 - 304s - loss: 0.0517 - accuracy: 0.9760 - val_loss: 0.2675 - val_accuracy: 0.9350
Confusion matrix: 
 [[549  24]
 [ 16  26]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.958 0.042]
 [0.381 0.619]]
Validation f1: 56.52
Validation accuracy: 93.50
Validation recall: 61.90
Validation precision: 52.00
Validation AUC: 0.6152111975043467
Validation class accuracies: [0.9581151832460733, 0.6190476190476191]
Saving model...
Epoch 20/65
201/201 - 305s - loss: 0.0345 - accuracy: 0.9863 - val_loss: 0.4192 - val_accuracy: 0.9057
Confusion matrix: 
 [[527  46]
 [ 12  30]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.92  0.08 ]
 [0.286 0.714]]
Validation f1: 50.85
Validation accuracy: 90.57
Validation recall: 71.43
Validation precision: 39.47
Validation AUC: 0.6456405574554276
Validation class accuracies: [0.9197207678883071, 0.7142857142857143]
The validation tracker metric at 0.5652173913043478 hasn't increased by 0 in 1 epochs
Epoch 21/65
201/201 - 305s - loss: 0.0528 - accuracy: 0.9720 - val_loss: 0.2644 - val_accuracy: 0.9333
Confusion matrix: 
 [[552  21]
 [ 20  22]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.963 0.037]
 [0.476 0.524]]
Validation f1: 51.76
Validation accuracy: 93.33
Validation recall: 52.38
Validation precision: 51.16
Validation AUC: 0.5802237735785308
Validation class accuracies: [0.9633507853403142, 0.5238095238095238]
The validation tracker metric at 0.5652173913043478 hasn't increased by 0 in 2 epochs
Epoch 22/65
201/201 - 304s - loss: 0.0269 - accuracy: 0.9894 - val_loss: 0.1895 - val_accuracy: 0.9512
Confusion matrix: 
 [[559  14]
 [ 16  26]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.976 0.024]
 [0.381 0.619]]
Validation f1: 63.41
Validation accuracy: 95.12
Validation recall: 61.90
Validation precision: 65.00
Validation AUC: 0.6973322078123974
Validation class accuracies: [0.9755671902268761, 0.6190476190476191]
Saving model...
Epoch 23/65
201/201 - 304s - loss: 0.0425 - accuracy: 0.9844 - val_loss: 0.2932 - val_accuracy: 0.9171
Confusion matrix: 
 [[538  35]
 [ 16  26]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.939 0.061]
 [0.381 0.619]]
Validation f1: 50.49
Validation accuracy: 91.71
Validation recall: 61.90
Validation precision: 42.62
Validation AUC: 0.6713302360277206
Validation class accuracies: [0.9389179755671903, 0.6190476190476191]
The validation tracker metric at 0.6341463414634146 hasn't increased by 0 in 1 epochs
Epoch 24/65
201/201 - 305s - loss: 0.0212 - accuracy: 0.9925 - val_loss: 0.2254 - val_accuracy: 0.9463
Confusion matrix: 
 [[556  17]
 [ 16  26]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.97  0.03 ]
 [0.381 0.619]]
Validation f1: 61.18
Validation accuracy: 94.63
Validation recall: 61.90
Validation precision: 60.47
Validation AUC: 0.667164101651243
Validation class accuracies: [0.9703315881326352, 0.6190476190476191]
The validation tracker metric at 0.6341463414634146 hasn't increased by 0 in 2 epochs
Epoch 25/65
201/201 - 305s - loss: 0.0303 - accuracy: 0.9885 - val_loss: 0.2988 - val_accuracy: 0.9138
Confusion matrix: 
 [[534  39]
 [ 14  28]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.932 0.068]
 [0.333 0.667]]
Validation f1: 51.38
Validation accuracy: 91.38
Validation recall: 66.67
Validation precision: 41.79
Validation AUC: 0.6639522215628636
Validation class accuracies: [0.9319371727748691, 0.6666666666666666]
The validation tracker metric at 0.6341463414634146 hasn't increased by 0 in 3 epochs
Epoch 26/65
201/201 - 305s - loss: 0.0239 - accuracy: 0.9894 - val_loss: 0.2676 - val_accuracy: 0.9431
Confusion matrix: 
 [[554  19]
 [ 16  26]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.967 0.033]
 [0.381 0.619]]
Validation f1: 59.77
Validation accuracy: 94.31
Validation recall: 61.90
Validation precision: 57.78
Validation AUC: 0.633720832554599
Validation class accuracies: [0.9668411867364747, 0.6190476190476191]
The validation tracker metric at 0.6341463414634146 hasn't increased by 0 in 4 epochs
Epoch 27/65
201/201 - 304s - loss: 0.0113 - accuracy: 0.9978 - val_loss: 0.2855 - val_accuracy: 0.9285
Confusion matrix: 
 [[543  30]
 [ 14  28]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.948 0.052]
 [0.333 0.667]]
Validation f1: 56.00
Validation accuracy: 92.85
Validation recall: 66.67
Validation precision: 48.28
Validation AUC: 0.6337474093207927
Validation class accuracies: [0.9476439790575916, 0.6666666666666666]
The validation tracker metric at 0.6341463414634146 hasn't increased by 0 in 5 epochs
Epoch 28/65
201/201 - 305s - loss: 0.0163 - accuracy: 0.9941 - val_loss: 0.2856 - val_accuracy: 0.9333
Confusion matrix: 
 [[546  27]
 [ 14  28]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.953 0.047]
 [0.333 0.667]]
Validation f1: 57.73
Validation accuracy: 93.33
Validation recall: 66.67
Validation precision: 50.91
Validation AUC: 0.6786256167171656
Validation class accuracies: [0.9528795811518325, 0.6666666666666666]
The validation tracker metric at 0.6341463414634146 hasn't increased by 0 in 6 epochs
Lr has been adjusted to 0.0002500000118743628
Epoch 29/65
201/201 - 304s - loss: 0.0089 - accuracy: 0.9981 - val_loss: 0.2911 - val_accuracy: 0.9317
Confusion matrix: 
 [[543  30]
 [ 12  30]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.948 0.052]
 [0.286 0.714]]
Validation f1: 58.82
Validation accuracy: 93.17
Validation recall: 71.43
Validation precision: 50.00
Validation AUC: 0.6741786089128156
Validation class accuracies: [0.9476439790575916, 0.7142857142857143]
The validation tracker metric at 0.6341463414634146 hasn't increased by 0 in 7 epochs
Epoch 30/65
201/201 - 303s - loss: 0.0087 - accuracy: 0.9978 - val_loss: 0.2704 - val_accuracy: 0.9463
Confusion matrix: 
 [[553  20]
 [ 13  29]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.965 0.035]
 [0.31  0.69 ]]
Validation f1: 63.74
Validation accuracy: 94.63
Validation recall: 69.05
Validation precision: 59.18
Validation AUC: 0.6895989408869077
Validation class accuracies: [0.9650959860383944, 0.6904761904761905]
Saving model...
Epoch 31/65
201/201 - 303s - loss: 0.0084 - accuracy: 0.9972 - val_loss: 0.2707 - val_accuracy: 0.9431
Confusion matrix: 
 [[552  21]
 [ 14  28]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.963 0.037]
 [0.333 0.667]]
Validation f1: 61.54
Validation accuracy: 94.31
Validation recall: 66.67
Validation precision: 57.14
Validation AUC: 0.698505344262635
Validation class accuracies: [0.9633507853403142, 0.6666666666666666]
The validation tracker metric at 0.6373626373626373 hasn't increased by 0 in 1 epochs
Epoch 32/65
201/201 - 303s - loss: 0.0076 - accuracy: 0.9991 - val_loss: 0.3079 - val_accuracy: 0.9252
Confusion matrix: 
 [[541  32]
 [ 14  28]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.944 0.056]
 [0.333 0.667]]
Validation f1: 54.90
Validation accuracy: 92.52
Validation recall: 66.67
Validation precision: 46.67
Validation AUC: 0.6840164424303145
Validation class accuracies: [0.944153577661431, 0.6666666666666666]
The validation tracker metric at 0.6373626373626373 hasn't increased by 0 in 2 epochs
Epoch 33/65
201/201 - 303s - loss: 0.0094 - accuracy: 0.9972 - val_loss: 0.3317 - val_accuracy: 0.9220
Confusion matrix: 
 [[538  35]
 [ 13  29]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.939 0.061]
 [0.31  0.69 ]]
Validation f1: 54.72
Validation accuracy: 92.20
Validation recall: 69.05
Validation precision: 45.31
Validation AUC: 0.684527213426198
Validation class accuracies: [0.9389179755671903, 0.6904761904761905]
The validation tracker metric at 0.6373626373626373 hasn't increased by 0 in 3 epochs
Epoch 34/65
201/201 - 303s - loss: 0.0077 - accuracy: 0.9981 - val_loss: 0.3465 - val_accuracy: 0.9220
Confusion matrix: 
 [[539  34]
 [ 14  28]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.941 0.059]
 [0.333 0.667]]
Validation f1: 53.85
Validation accuracy: 92.20
Validation recall: 66.67
Validation precision: 45.16
Validation AUC: 0.6770147836788001
Validation class accuracies: [0.9406631762652705, 0.6666666666666666]
The validation tracker metric at 0.6373626373626373 hasn't increased by 0 in 4 epochs
Epoch 35/65
201/201 - 303s - loss: 0.0082 - accuracy: 0.9972 - val_loss: 0.2415 - val_accuracy: 0.9496
Confusion matrix: 
 [[556  17]
 [ 14  28]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.97  0.03 ]
 [0.333 0.667]]
Validation f1: 64.37
Validation accuracy: 94.96
Validation recall: 66.67
Validation precision: 62.22
Validation AUC: 0.7067890804327294
Validation class accuracies: [0.9703315881326352, 0.6666666666666666]
Saving model...
Epoch 36/65
201/201 - 303s - loss: 0.0048 - accuracy: 1.0000 - val_loss: 0.3130 - val_accuracy: 0.9317
Confusion matrix: 
 [[545  28]
 [ 14  28]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.951 0.049]
 [0.333 0.667]]
Validation f1: 57.14
Validation accuracy: 93.17
Validation recall: 66.67
Validation precision: 50.00
Validation AUC: 0.6882473693912056
Validation class accuracies: [0.9511343804537522, 0.6666666666666666]
The validation tracker metric at 0.6436781609195403 hasn't increased by 0 in 1 epochs
Epoch 37/65
201/201 - 303s - loss: 0.0062 - accuracy: 0.9988 - val_loss: 0.5020 - val_accuracy: 0.9024
Confusion matrix: 
 [[526  47]
 [ 13  29]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.918 0.082]
 [0.31  0.69 ]]
Validation f1: 49.15
Validation accuracy: 90.24
Validation recall: 69.05
Validation precision: 38.16
Validation AUC: 0.6280558224446329
Validation class accuracies: [0.9179755671902269, 0.6904761904761905]
The validation tracker metric at 0.6436781609195403 hasn't increased by 0 in 2 epochs
Epoch 38/65
201/201 - 303s - loss: 0.0098 - accuracy: 0.9960 - val_loss: 0.3898 - val_accuracy: 0.9203
Confusion matrix: 
 [[537  36]
 [ 13  29]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.937 0.063]
 [0.31  0.69 ]]
Validation f1: 54.21
Validation accuracy: 92.03
Validation recall: 69.05
Validation precision: 44.62
Validation AUC: 0.6587007721496655
Validation class accuracies: [0.93717277486911, 0.6904761904761905]
The validation tracker metric at 0.6436781609195403 hasn't increased by 0 in 3 epochs
Epoch 39/65
201/201 - 302s - loss: 0.0098 - accuracy: 0.9988 - val_loss: 0.3212 - val_accuracy: 0.9382
Confusion matrix: 
 [[548  25]
 [ 13  29]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.956 0.044]
 [0.31  0.69 ]]
Validation f1: 60.42
Validation accuracy: 93.82
Validation recall: 69.05
Validation precision: 53.70
Validation AUC: 0.6931872778841298
Validation class accuracies: [0.956369982547993, 0.6904761904761905]
The validation tracker metric at 0.6436781609195403 hasn't increased by 0 in 4 epochs
Epoch 40/65
201/201 - 303s - loss: 0.0068 - accuracy: 0.9978 - val_loss: 0.3284 - val_accuracy: 0.9285
Confusion matrix: 
 [[542  31]
 [ 13  29]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.946 0.054]
 [0.31  0.69 ]]
Validation f1: 56.86
Validation accuracy: 92.85
Validation recall: 69.05
Validation precision: 48.33
Validation AUC: 0.6760581668506829
Validation class accuracies: [0.9458987783595113, 0.6904761904761905]
The validation tracker metric at 0.6436781609195403 hasn't increased by 0 in 5 epochs
Epoch 41/65
201/201 - 303s - loss: 0.0107 - accuracy: 0.9956 - val_loss: 0.4647 - val_accuracy: 0.9008
Confusion matrix: 
 [[524  49]
 [ 12  30]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.914 0.086]
 [0.286 0.714]]
Validation f1: 49.59
Validation accuracy: 90.08
Validation recall: 71.43
Validation precision: 37.97
Validation AUC: 0.6395831571841729
Validation class accuracies: [0.9144851657940664, 0.7142857142857143]
The validation tracker metric at 0.6436781609195403 hasn't increased by 0 in 6 epochs
Lr has been adjusted to 0.0001250000059371814
Epoch 42/65
201/201 - 303s - loss: 0.0053 - accuracy: 0.9981 - val_loss: 0.3215 - val_accuracy: 0.9268
Confusion matrix: 
 [[542  31]
 [ 14  28]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.946 0.054]
 [0.333 0.667]]
Validation f1: 55.45
Validation accuracy: 92.68
Validation recall: 66.67
Validation precision: 47.46
Validation AUC: 0.6740822513263772
Validation class accuracies: [0.9458987783595113, 0.6666666666666666]
The validation tracker metric at 0.6436781609195403 hasn't increased by 0 in 7 epochs
Epoch 43/65
201/201 - 303s - loss: 0.0041 - accuracy: 0.9988 - val_loss: 0.3124 - val_accuracy: 0.9301
Confusion matrix: 
 [[544  29]
 [ 14  28]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.949 0.051]
 [0.333 0.667]]
Validation f1: 56.57
Validation accuracy: 93.01
Validation recall: 66.67
Validation precision: 49.12
Validation AUC: 0.6873997800157928
Validation class accuracies: [0.9493891797556719, 0.6666666666666666]
The validation tracker metric at 0.6436781609195403 hasn't increased by 0 in 8 epochs
Epoch 44/65
201/201 - 303s - loss: 0.0033 - accuracy: 0.9994 - val_loss: 0.2697 - val_accuracy: 0.9415
Confusion matrix: 
 [[551  22]
 [ 14  28]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.962 0.038]
 [0.333 0.667]]
Validation f1: 60.87
Validation accuracy: 94.15
Validation recall: 66.67
Validation precision: 56.00
Validation AUC: 0.6920380735538438
Validation class accuracies: [0.9616055846422339, 0.6666666666666666]
local_gc_exec.sh: line 6: 19776 Killed                  python -m models.$MODULE_NAME --train-file $LOCAL_TRAIN_FILE --job-dir $LOCAL_JOB_DIR --params "$PARAMS" --wav-params "$WAV_PARAMS" --spec-params "$SPEC_PARAMS"

 See logs at ../../new_cache/conv__2242__06_1143__v39__augmented_icbhi_and_jordan/logs//home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/multiprocessing/semaphore_tracker.py:144: UserWarning: semaphore_tracker: There appear to be 6 leaked semaphores to clean up at shutdown
  len(cache))
