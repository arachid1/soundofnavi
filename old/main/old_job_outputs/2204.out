Category:  coch
Dataset:  all_sw_coch_preprocessed_v2_param_v29_augm_v0_cleaned_8000.pkl
File:  conv.train2204
Description:  new_lstm
2021-06-08 18:02:20.201685: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcudart.so.11.0
WARNING:tensorflow:From /home/alirachidi/classification_algorithm/trainers/main/models/conv/modules/augmentation.py:19: experimental_run_functions_eagerly (from tensorflow.python.eager.def_function) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.config.run_functions_eagerly` instead of the experimental version.
2021-06-08 18:02:22.691928: I tensorflow/compiler/jit/xla_cpu_device.cc:41] Not creating XLA devices, tf_xla_enable_xla_devices not set
2021-06-08 18:02:22.692969: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcuda.so.1
2021-06-08 18:02:22.703450: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-08 18:02:22.704091: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1720] Found device 0 with properties: 
pciBusID: 0000:00:04.0 name: Tesla V100-SXM2-16GB computeCapability: 7.0
coreClock: 1.53GHz coreCount: 80 deviceMemorySize: 15.78GiB deviceMemoryBandwidth: 836.37GiB/s
2021-06-08 18:02:22.704120: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcudart.so.11.0
2021-06-08 18:02:22.707767: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcublas.so.11
2021-06-08 18:02:22.707865: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcublasLt.so.11
2021-06-08 18:02:22.709073: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcufft.so.10
2021-06-08 18:02:22.709376: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcurand.so.10
2021-06-08 18:02:22.710406: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcusolver.so.10
2021-06-08 18:02:22.711330: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcusparse.so.11
2021-06-08 18:02:22.711488: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcudnn.so.8
2021-06-08 18:02:22.711600: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-08 18:02:22.712240: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-08 18:02:22.712832: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1862] Adding visible gpu devices: 0
Tensorflow Version: 2.4.0
Num GPUs Available:  1
-----------------------
Using module: nv/train2204.py
Using train_file: ../../data/datasets/all_sw_coch_preprocessed_v2_param_v29_augm_v0_cleaned_8000.pkl
Job directory: ../../new_cache/conv__2204__06_1802__v29__new_lstm
Parameters: {'N_CLASSES': 1, 'SR': 8000, 'BATCH_SIZE': 32, 'LR': 0.0005, 'SHAPE': [128, 1250], 'LL2_REG': 0, 'WEIGHT_DECAY': 0.001, 'N_EPOCHS': 50, 'FACTOR': 0.5, 'PATIENCE': 4, 'MIN_LR': 1e-07, 'LABEL_SMOOTHING': 0, 'EPSILON': 1e-07, 'ES_PATIENCE': 40, 'OVERSAMPLE': 0, 'MIN_DELTA': 0, 'PARAM': 'v29', 'EPOCH_START': 1, 'CLAUSE': 0, 'CUBEROOTING': 1, 'AUGMENTATION': 0, 'TARGET': 1, 'INITIAL_CHANNELS': 1, 'ADAPTIVE_LR': 1, 'CLASS_WEIGHTS': 1, 'SIX': 0, 'CONCAT': 0, 'TESTING': 0}
Augmentation parameters for audio: {'ADD': 1, 'QUANTITY': 250, 'WAV_PATH': 'v36,v37'}
Augmentation parameters for spectrograms: {'ADD': 1, 'QUANTITY': 150, 'TIME_MASKING': 1, 'FREQUENCY_MASKING': 1, 'LOUDNESS': 0}
-----------------------
Collecting Variables...
All variables have been collected.
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow_addons/utils/ensure_tf_install.py:68: UserWarning: Tensorflow Addons supports using Python ops for all Tensorflow versions above or equal to 2.2.0 and strictly below 2.3.0 (nightly versions are not supported). 
 The versions of TensorFlow you are currently using is 2.4.0 and is not supported. 
Some things might work, some things might not.
If you were to encounter a bug, do not file an issue.
If you want to make sure you're using a tested and supported configuration, either change the TensorFlow version or the TensorFlow Addons's version. 
You can find the compatibility matrix in TensorFlow Addon's readme:
https://github.com/tensorflow/addons
  UserWarning,
wandb: W&B syncing is set to `offline` in this directory.  Run `wandb online` or set WANDB_MODE=online to enable cloud syncing.
2021-06-08 18:03:05.509549: I tensorflow/compiler/jit/xla_gpu_device.cc:99] Not creating XLA devices, tf_xla_enable_xla_devices not set
2021-06-08 18:03:05.509979: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-08 18:03:05.510955: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1720] Found device 0 with properties: 
pciBusID: 0000:00:04.0 name: Tesla V100-SXM2-16GB computeCapability: 7.0
coreClock: 1.53GHz coreCount: 80 deviceMemorySize: 15.78GiB deviceMemoryBandwidth: 836.37GiB/s
2021-06-08 18:03:05.511023: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcudart.so.11.0
2021-06-08 18:03:05.511154: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcublas.so.11
2021-06-08 18:03:05.511190: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcublasLt.so.11
2021-06-08 18:03:05.511233: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcufft.so.10
2021-06-08 18:03:05.511272: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcurand.so.10
2021-06-08 18:03:05.511307: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcusolver.so.10
2021-06-08 18:03:05.511338: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcusparse.so.11
2021-06-08 18:03:05.511361: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcudnn.so.8
2021-06-08 18:03:05.511508: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-08 18:03:05.512574: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-08 18:03:05.513392: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1862] Adding visible gpu devices: 0
2021-06-08 18:03:05.513455: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcudart.so.11.0
2021-06-08 18:03:06.246819: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1261] Device interconnect StreamExecutor with strength 1 edge matrix:
2021-06-08 18:03:06.246865: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1267]      0 
2021-06-08 18:03:06.246874: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1280] 0:   N 
2021-06-08 18:03:06.247188: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-08 18:03:06.247942: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-08 18:03:06.248557: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-08 18:03:06.249119: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1406] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 14760 MB memory) -> physical GPU (device: 0, name: Tesla V100-SXM2-16GB, pci bus id: 0000:00:04.0, compute capability: 7.0)
2021-06-08 18:03:08.298141: I tensorflow/compiler/mlir/mlir_graph_optimization_pass.cc:116] None of the MLIR optimization passes are enabled (registered 2)
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
2021-06-08 18:03:08.300547: I tensorflow/core/platform/profile_utils/cpu_utils.cc:112] CPU Frequency: 2299995000 Hz
2021-06-08 18:03:08.979526: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcudnn.so.8
2021-06-08 18:03:10.716268: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcublas.so.11
2021-06-08 18:03:11.114521: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcublasLt.so.11
Original number of folders: 453
Pneumonia patients: 109, Non-pneumonia patients: 270
-----------------------
Number of train recordings: 4212 with pneumonia: 1080 and non-pneumonia: 3132
Number of val recordings: 1072 with pneumonia: 288 and non-pneumonia: 784
-----------------------
The initial learning rate for this job is: 0.001
Initializing weights...
weights = {0: 0.6724137931034483, 1: 1.95}
Model: "conv2d"
______________________________________________________________________________________________________________
Layer (type)                        Output Shape            Param #      Connected to                         
==============================================================================================================
input_1 (InputLayer)                [(None, 5, 250, 128, 1) 0                                                 
______________________________________________________________________________________________________________
batch_normalization (BatchNormaliza (None, 5, 250, 128, 1)  4            input_1[0][0]                        
______________________________________________________________________________________________________________
time_distributed (TimeDistributed)  (None, 5, 250, 128, 8)  16           batch_normalization[0][0]            
______________________________________________________________________________________________________________
time_distributed_2 (TimeDistributed (None, 5, 250, 128, 8)  16           batch_normalization[0][0]            
______________________________________________________________________________________________________________
time_distributed_4 (TimeDistributed (None, 5, 250, 128, 1)  0            batch_normalization[0][0]            
______________________________________________________________________________________________________________
time_distributed_1 (TimeDistributed (None, 5, 250, 128, 8)  584          time_distributed[0][0]               
______________________________________________________________________________________________________________
time_distributed_3 (TimeDistributed (None, 5, 250, 128, 8)  1608         time_distributed_2[0][0]             
______________________________________________________________________________________________________________
time_distributed_5 (TimeDistributed (None, 5, 250, 128, 8)  16           time_distributed_4[0][0]             
______________________________________________________________________________________________________________
concatenate (Concatenate)           (None, 5, 250, 128, 24) 0            time_distributed_1[0][0]             
                                                                         time_distributed_3[0][0]             
                                                                         time_distributed_5[0][0]             
______________________________________________________________________________________________________________
time_distributed_6 (TimeDistributed (None, 5, 125, 64, 24)  0            concatenate[0][0]                    
______________________________________________________________________________________________________________
batch_normalization_1 (BatchNormali (None, 5, 125, 64, 24)  96           time_distributed_6[0][0]             
______________________________________________________________________________________________________________
dropout (Dropout)                   (None, 5, 125, 64, 24)  0            batch_normalization_1[0][0]          
______________________________________________________________________________________________________________
time_distributed_inverted_residual  (None, 5, 125, 64, 24)  6720         dropout[0][0]                        
______________________________________________________________________________________________________________
time_distributed_inverted_residual_ (None, 5, 125, 64, 24)  6720         time_distributed_inverted_residual[0]
______________________________________________________________________________________________________________
time_distributed_7 (TimeDistributed (None, 5, 63, 32, 24)   0            time_distributed_inverted_residual_1[
______________________________________________________________________________________________________________
batch_normalization_2 (BatchNormali (None, 5, 63, 32, 24)   96           time_distributed_7[0][0]             
______________________________________________________________________________________________________________
dropout_1 (Dropout)                 (None, 5, 63, 32, 24)   0            batch_normalization_2[0][0]          
______________________________________________________________________________________________________________
time_distributed_8 (TimeDistributed (None, 5, 63, 32, 24)   576          dropout_1[0][0]                      
______________________________________________________________________________________________________________
time_distributed_9 (TimeDistributed (None, 5, 32, 16, 24)   0            time_distributed_8[0][0]             
______________________________________________________________________________________________________________
batch_normalization_3 (BatchNormali (None, 5, 32, 16, 24)   96           time_distributed_9[0][0]             
______________________________________________________________________________________________________________
time_distributed_10 (TimeDistribute (None, 5, 24)           0            batch_normalization_3[0][0]          
______________________________________________________________________________________________________________
bidirectional (Bidirectional)       (None, 5, 64)           14592        time_distributed_10[0][0]            
______________________________________________________________________________________________________________
bidirectional_1 (Bidirectional)     (None, 64)              24832        bidirectional[0][0]                  
______________________________________________________________________________________________________________
dense (Dense)                       (None, 1)               65           bidirectional_1[0][0]                
==============================================================================================================
Total params: 56,037
Trainable params: 55,219
Non-trainable params: 818
______________________________________________________________________________________________________________
Epoch 1/50
132/132 - 90s - loss: 0.6866 - accuracy: 0.5380 - val_loss: 0.6327 - val_accuracy: 0.7313
Confusion matrix: 
 [[784   0]
 [288   0]]
Normalized Confusion matrix: 
 [[1. 0.]
 [1. 0.]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/sklearn/metrics/_classification.py:1272: UndefinedMetricWarning: Precision and F-score are ill-defined and being set to 0.0 due to no predicted samples. Use `zero_division` parameter to control this behavior.
  _warn_prf(average, modifier, msg_start, len(result))
Validation f1: 0.00
Validation accuracy: 73.13
Validation recall: 0.00
Validation precision: 0.00
Validation AUC: 0.3232013802478008
Validation class accuracies: [1.0, 0.0]
The validation tracker metric at 0 hasn't increased by 0 in 1 epochs
Epoch 2/50
132/132 - 92s - loss: 0.6820 - accuracy: 0.5456 - val_loss: 0.5787 - val_accuracy: 0.7313
Confusion matrix: 
 [[784   0]
 [288   0]]
Normalized Confusion matrix: 
 [[1. 0.]
 [1. 0.]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/sklearn/metrics/_classification.py:1272: UndefinedMetricWarning: Precision and F-score are ill-defined and being set to 0.0 due to no predicted samples. Use `zero_division` parameter to control this behavior.
  _warn_prf(average, modifier, msg_start, len(result))
Validation f1: 0.00
Validation accuracy: 73.13
Validation recall: 0.00
Validation precision: 0.00
Validation AUC: 0.3284974197630306
Validation class accuracies: [1.0, 0.0]
The validation tracker metric at 0 hasn't increased by 0 in 2 epochs
Epoch 3/50
132/132 - 89s - loss: 0.6809 - accuracy: 0.5679 - val_loss: 0.5779 - val_accuracy: 0.7313
Confusion matrix: 
 [[784   0]
 [288   0]]
Normalized Confusion matrix: 
 [[1. 0.]
 [1. 0.]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/sklearn/metrics/_classification.py:1272: UndefinedMetricWarning: Precision and F-score are ill-defined and being set to 0.0 due to no predicted samples. Use `zero_division` parameter to control this behavior.
  _warn_prf(average, modifier, msg_start, len(result))
Validation f1: 0.00
Validation accuracy: 73.13
Validation recall: 0.00
Validation precision: 0.00
Validation AUC: 0.33663015127623896
Validation class accuracies: [1.0, 0.0]
The validation tracker metric at 0 hasn't increased by 0 in 3 epochs
Epoch 4/50
132/132 - 92s - loss: 0.6788 - accuracy: 0.5572 - val_loss: 0.5924 - val_accuracy: 0.7313
Confusion matrix: 
 [[783   1]
 [287   1]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.999 0.001]
 [0.997 0.003]]
Validation f1: 0.69
Validation accuracy: 73.13
Validation recall: 0.35
Validation precision: 50.00
Validation AUC: 0.3206770328351612
Validation class accuracies: [0.9987244897959183, 0.003472222222222222]
Saving model...
Epoch 5/50
132/132 - 91s - loss: 0.6762 - accuracy: 0.5817 - val_loss: 0.6141 - val_accuracy: 0.7052
Confusion matrix: 
 [[710  74]
 [242  46]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.906 0.094]
 [0.84  0.16 ]]
Validation f1: 22.55
Validation accuracy: 70.52
Validation recall: 15.97
Validation precision: 38.33
Validation AUC: 0.3228239247913245
Validation class accuracies: [0.9056122448979592, 0.1597222222222222]
Saving model...
Epoch 6/50
132/132 - 88s - loss: 0.6746 - accuracy: 0.5795 - val_loss: 0.7084 - val_accuracy: 0.5093
Confusion matrix: 
 [[358 426]
 [100 188]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.457 0.543]
 [0.347 0.653]]
Validation f1: 41.69
Validation accuracy: 50.93
Validation recall: 65.28
Validation precision: 30.62
Validation AUC: 0.3106742179091285
Validation class accuracies: [0.45663265306122447, 0.6527777777777778]
Saving model...
Epoch 7/50
132/132 - 88s - loss: 0.6727 - accuracy: 0.5731 - val_loss: 0.6649 - val_accuracy: 0.6017
Confusion matrix: 
 [[528 256]
 [171 117]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.673 0.327]
 [0.594 0.406]]
Validation f1: 35.40
Validation accuracy: 60.17
Validation recall: 40.62
Validation precision: 31.37
Validation AUC: 0.31339743738447623
Validation class accuracies: [0.673469387755102, 0.40625]
The validation tracker metric at 0.4168514412416852 hasn't increased by 0 in 1 epochs
Epoch 8/50
132/132 - 88s - loss: 0.6704 - accuracy: 0.5836 - val_loss: 0.7533 - val_accuracy: 0.5494
Confusion matrix: 
 [[387 397]
 [ 86 202]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.494 0.506]
 [0.299 0.701]]
Validation f1: 45.55
Validation accuracy: 54.94
Validation recall: 70.14
Validation precision: 33.72
Validation AUC: 0.3287285940564579
Validation class accuracies: [0.49362244897959184, 0.7013888888888888]
Saving model...
Epoch 9/50
132/132 - 91s - loss: 0.6684 - accuracy: 0.5878 - val_loss: 0.6518 - val_accuracy: 0.6371
Confusion matrix: 
 [[587 197]
 [192  96]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.749 0.251]
 [0.667 0.333]]
Validation f1: 33.05
Validation accuracy: 63.71
Validation recall: 33.33
Validation precision: 32.76
Validation AUC: 0.30836379718207185
Validation class accuracies: [0.7487244897959183, 0.3333333333333333]
The validation tracker metric at 0.4554678692220969 hasn't increased by 0 in 1 epochs
Epoch 10/50
132/132 - 89s - loss: 0.6677 - accuracy: 0.5969 - val_loss: 0.6205 - val_accuracy: 0.6819
Confusion matrix: 
 [[671 113]
 [228  60]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.856 0.144]
 [0.792 0.208]]
Validation f1: 26.03
Validation accuracy: 68.19
Validation recall: 20.83
Validation precision: 34.68
Validation AUC: 0.3105267650204255
Validation class accuracies: [0.8558673469387755, 0.20833333333333334]
The validation tracker metric at 0.4554678692220969 hasn't increased by 0 in 2 epochs
Epoch 11/50
132/132 - 87s - loss: 0.6672 - accuracy: 0.5857 - val_loss: 0.6019 - val_accuracy: 0.7155
Confusion matrix: 
 [[729  55]
 [250  38]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.93  0.07 ]
 [0.868 0.132]]
Validation f1: 19.95
Validation accuracy: 71.55
Validation recall: 13.19
Validation precision: 40.86
Validation AUC: 0.3116819030227127
Validation class accuracies: [0.9298469387755102, 0.13194444444444445]
The validation tracker metric at 0.4554678692220969 hasn't increased by 0 in 3 epochs
Epoch 12/50
132/132 - 87s - loss: 0.6618 - accuracy: 0.5905 - val_loss: 0.6160 - val_accuracy: 0.6810
Confusion matrix: 
 [[658 126]
 [216  72]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.839 0.161]
 [0.75  0.25 ]]
Validation f1: 29.63
Validation accuracy: 68.10
Validation recall: 25.00
Validation precision: 36.36
Validation AUC: 0.3211830113746152
Validation class accuracies: [0.8392857142857143, 0.25]
The validation tracker metric at 0.4554678692220969 hasn't increased by 0 in 4 epochs
Lr has been adjusted to 0.0002500000118743628
Epoch 13/50
132/132 - 87s - loss: 0.6583 - accuracy: 0.6011 - val_loss: 0.6064 - val_accuracy: 0.7071
Confusion matrix: 
 [[716  68]
 [246  42]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.913 0.087]
 [0.854 0.146]]
Validation f1: 21.11
Validation accuracy: 70.71
Validation recall: 14.58
Validation precision: 38.18
Validation AUC: 0.3095166173496347
Validation class accuracies: [0.9132653061224489, 0.14583333333333334]
The validation tracker metric at 0.4554678692220969 hasn't increased by 0 in 5 epochs
Epoch 14/50
132/132 - 91s - loss: 0.6573 - accuracy: 0.6090 - val_loss: 0.6012 - val_accuracy: 0.7090
Confusion matrix: 
 [[737  47]
 [265  23]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.94 0.06]
 [0.92 0.08]]
Validation f1: 12.85
Validation accuracy: 70.90
Validation recall: 7.99
Validation precision: 32.86
Validation AUC: 0.3044728594453921
Validation class accuracies: [0.9400510204081632, 0.0798611111111111]
The validation tracker metric at 0.4554678692220969 hasn't increased by 0 in 6 epochs
Epoch 15/50
132/132 - 88s - loss: 0.6564 - accuracy: 0.6009 - val_loss: 0.5955 - val_accuracy: 0.7146
Confusion matrix: 
 [[756  28]
 [278  10]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.964 0.036]
 [0.965 0.035]]
Validation f1: 6.13
Validation accuracy: 71.46
Validation recall: 3.47
Validation precision: 26.32
Validation AUC: 0.2960221176964277
Validation class accuracies: [0.9642857142857143, 0.034722222222222224]
The validation tracker metric at 0.4554678692220969 hasn't increased by 0 in 7 epochs
Epoch 16/50
132/132 - 88s - loss: 0.6515 - accuracy: 0.6211 - val_loss: 0.5961 - val_accuracy: 0.7043
Confusion matrix: 
 [[731  53]
 [264  24]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.932 0.068]
 [0.917 0.083]]
Validation f1: 13.15
Validation accuracy: 70.43
Validation recall: 8.33
Validation precision: 31.17
Validation AUC: 0.3095743702088392
Validation class accuracies: [0.9323979591836735, 0.08333333333333333]
local_gc_exec.sh: line 6:  1833 Killed                  python -m models.$MODULE_NAME --train-file $LOCAL_TRAIN_FILE --job-dir $LOCAL_JOB_DIR --params "$PARAMS" --wav-params "$WAV_PARAMS" --spec-params "$SPEC_PARAMS"

 See logs at ../../new_cache/conv__2204__06_1802__v29__new_lstm/logs//home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/multiprocessing/semaphore_tracker.py:144: UserWarning: semaphore_tracker: There appear to be 6 leaked semaphores to clean up at shutdown
  len(cache))
