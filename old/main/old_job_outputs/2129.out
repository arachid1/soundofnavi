Category:  coch
Dataset:  all_sw_coch_preprocessed_v2_param_v29_augm_v0_cleaned_8000.pkl
File:  conv.train2129
Description:  model9_undersampled
2021-05-12 14:52:01.610460: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcudart.so.11.0
2021-05-12 14:52:04.028226: I tensorflow/compiler/jit/xla_cpu_device.cc:41] Not creating XLA devices, tf_xla_enable_xla_devices not set
2021-05-12 14:52:04.029301: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcuda.so.1
2021-05-12 14:52:04.080141: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-05-12 14:52:04.080909: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1720] Found device 0 with properties: 
pciBusID: 0000:00:04.0 name: Tesla T4 computeCapability: 7.5
coreClock: 1.59GHz coreCount: 40 deviceMemorySize: 14.75GiB deviceMemoryBandwidth: 298.08GiB/s
2021-05-12 14:52:04.080941: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcudart.so.11.0
2021-05-12 14:52:04.084786: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcublas.so.11
2021-05-12 14:52:04.084893: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcublasLt.so.11
2021-05-12 14:52:04.086090: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcufft.so.10
2021-05-12 14:52:04.086402: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcurand.so.10
2021-05-12 14:52:04.087460: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcusolver.so.10
2021-05-12 14:52:04.088439: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcusparse.so.11
2021-05-12 14:52:04.088600: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcudnn.so.8
2021-05-12 14:52:04.088726: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-05-12 14:52:04.089472: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-05-12 14:52:04.090165: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1862] Adding visible gpu devices: 0
wandb: Currently logged in as: arachid1 (use `wandb login --relogin` to force relogin)
Tensorflow Version: 2.4.0
Num GPUs Available:  1
-----------------------
Using module located at /main/models/conv/train2129.py
Using train_file located at ../../data/datasets/all_sw_coch_preprocessed_v2_param_v29_augm_v0_cleaned_8000.pkl
Using logs_path located at ../../new_cache/conv__2129__05_1451__v29__model9_undersampled/logs/
-----------------------
Collecting Variables...
Model Parameters: {'N_CLASSES': 1, 'SR': 8000, 'BATCH_SIZE': 16, 'LR': 0.01, 'SHAPE': (128, 1250, 3), 'WEIGHT_DECAY': 0.001, 'LL2_REG': 0, 'EPSILON': 1e-07, 'LABEL_SMOOTHING': 0}
Learning Rate Parameters: {'factor': 0.25, 'patience': 4, 'min_lr': 1e-10}
Early Stopping Patience and Delta: 22, 0%
Six: False and Concat: False
-----------------------
wandb: wandb version 0.10.30 is available!  To upgrade, please run:
wandb:  $ pip install wandb --upgrade
wandb: Tracking run with wandb version 0.10.29
wandb: Syncing run train2129
wandb: ⭐️ View project at https://wandb.ai/arachid1/tensorboard-integration
wandb: 🚀 View run at https://wandb.ai/arachid1/tensorboard-integration/runs/1vj0ez78
wandb: Run data is saved locally in /home/alirachidi/classification_algorithm/trainers/main/wandb/run-20210512_145204-1vj0ez78
wandb: Run `wandb offline` to turn off syncing.
2021-05-12 14:52:10.345450: I tensorflow/compiler/jit/xla_gpu_device.cc:99] Not creating XLA devices, tf_xla_enable_xla_devices not set
2021-05-12 14:52:10.345764: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-05-12 14:52:10.346941: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1720] Found device 0 with properties: 
pciBusID: 0000:00:04.0 name: Tesla T4 computeCapability: 7.5
coreClock: 1.59GHz coreCount: 40 deviceMemorySize: 14.75GiB deviceMemoryBandwidth: 298.08GiB/s
2021-05-12 14:52:10.347013: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcudart.so.11.0
2021-05-12 14:52:10.347105: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcublas.so.11
2021-05-12 14:52:10.347144: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcublasLt.so.11
2021-05-12 14:52:10.347178: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcufft.so.10
2021-05-12 14:52:10.347215: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcurand.so.10
2021-05-12 14:52:10.347247: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcusolver.so.10
2021-05-12 14:52:10.347282: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcusparse.so.11
2021-05-12 14:52:10.347316: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcudnn.so.8
2021-05-12 14:52:10.347469: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-05-12 14:52:10.348659: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-05-12 14:52:10.349751: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1862] Adding visible gpu devices: 0
2021-05-12 14:52:10.349832: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcudart.so.11.0
2021-05-12 14:52:11.115137: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1261] Device interconnect StreamExecutor with strength 1 edge matrix:
2021-05-12 14:52:11.115184: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1267]      0 
2021-05-12 14:52:11.115194: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1280] 0:   N 
2021-05-12 14:52:11.115504: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-05-12 14:52:11.116366: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-05-12 14:52:11.117149: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-05-12 14:52:11.117832: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1406] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 13968 MB memory) -> physical GPU (device: 0, name: Tesla T4, pci bus id: 0000:00:04.0, compute capability: 7.5)
2021-05-12 14:52:48.765881: I tensorflow/compiler/mlir/mlir_graph_optimization_pass.cc:116] None of the MLIR optimization passes are enabled (registered 2)
2021-05-12 14:52:48.767711: I tensorflow/core/platform/profile_utils/cpu_utils.cc:112] CPU Frequency: 2299995000 Hz
2021-05-12 14:52:51.829572: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcublas.so.11
2021-05-12 14:52:52.508316: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcublasLt.so.11
2021-05-12 14:52:52.517212: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcudnn.so.8

Original number of folders: 453
here
With concat = False and six = False, size of training set: 4196...
...and size of validation set: 1088
Model: "conv2d"
__________________________________________________________________________________________________
Layer (type)                    Output Shape         Param #     Connected to                     
==================================================================================================
input_1 (InputLayer)            [(None, 128, 1250, 3 0                                            
__________________________________________________________________________________________________
batch_normalization (BatchNorma (None, 128, 1250, 3) 12          input_1[0][0]                    
__________________________________________________________________________________________________
conv2d (Conv2D)                 (None, 128, 1250, 16 64          batch_normalization[0][0]        
__________________________________________________________________________________________________
conv2d_2 (Conv2D)               (None, 128, 1250, 16 64          batch_normalization[0][0]        
__________________________________________________________________________________________________
max_pooling2d (MaxPooling2D)    (None, 128, 1250, 3) 0           batch_normalization[0][0]        
__________________________________________________________________________________________________
conv2d_1 (Conv2D)               (None, 128, 1250, 16 2320        conv2d[0][0]                     
__________________________________________________________________________________________________
conv2d_3 (Conv2D)               (None, 128, 1250, 16 6416        conv2d_2[0][0]                   
__________________________________________________________________________________________________
conv2d_4 (Conv2D)               (None, 128, 1250, 16 64          max_pooling2d[0][0]              
__________________________________________________________________________________________________
concatenate (Concatenate)       (None, 128, 1250, 48 0           conv2d_1[0][0]                   
                                                                 conv2d_3[0][0]                   
                                                                 conv2d_4[0][0]                   
__________________________________________________________________________________________________
average_pooling2d (AveragePooli (None, 64, 625, 48)  0           concatenate[0][0]                
__________________________________________________________________________________________________
batch_normalization_1 (BatchNor (None, 64, 625, 48)  192         average_pooling2d[0][0]          
__________________________________________________________________________________________________
dropout (Dropout)               (None, 64, 625, 48)  0           batch_normalization_1[0][0]      
__________________________________________________________________________________________________
inverted_residual (InvertedResi (None, 64, 625, 32)  35840       dropout[0][0]                    
__________________________________________________________________________________________________
inverted_residual_1 (InvertedRe (None, 64, 625, 32)  20864       inverted_residual[0][0]          
__________________________________________________________________________________________________
average_pooling2d_1 (AveragePoo (None, 32, 312, 32)  0           inverted_residual_1[0][0]        
__________________________________________________________________________________________________
batch_normalization_2 (BatchNor (None, 32, 312, 32)  128         average_pooling2d_1[0][0]        
__________________________________________________________________________________________________
dropout_1 (Dropout)             (None, 32, 312, 32)  0           batch_normalization_2[0][0]      
__________________________________________________________________________________________________
inverted_residual_2 (InvertedRe (None, 32, 312, 64)  27136       dropout_1[0][0]                  
__________________________________________________________________________________________________
inverted_residual_3 (InvertedRe (None, 32, 312, 64)  66304       inverted_residual_2[0][0]        
__________________________________________________________________________________________________
average_pooling2d_2 (AveragePoo (None, 16, 156, 64)  0           inverted_residual_3[0][0]        
__________________________________________________________________________________________________
batch_normalization_3 (BatchNor (None, 16, 156, 64)  256         average_pooling2d_2[0][0]        
__________________________________________________________________________________________________
dropout_2 (Dropout)             (None, 16, 156, 64)  0           batch_normalization_3[0][0]      
__________________________________________________________________________________________________
inverted_residual_4 (InvertedRe (None, 16, 156, 128) 91136       dropout_2[0][0]                  
__________________________________________________________________________________________________
inverted_residual_5 (InvertedRe (None, 16, 156, 128) 230912      inverted_residual_4[0][0]        
__________________________________________________________________________________________________
average_pooling2d_3 (AveragePoo (None, 8, 78, 128)   0           inverted_residual_5[0][0]        
__________________________________________________________________________________________________
batch_normalization_4 (BatchNor (None, 8, 78, 128)   512         average_pooling2d_3[0][0]        
__________________________________________________________________________________________________
dropout_3 (Dropout)             (None, 8, 78, 128)   0           batch_normalization_4[0][0]      
__________________________________________________________________________________________________
inverted_residual_6 (InvertedRe (None, 8, 78, 256)   329728      dropout_3[0][0]                  
__________________________________________________________________________________________________
inverted_residual_7 (InvertedRe (None, 8, 78, 256)   855040      inverted_residual_6[0][0]        
__________________________________________________________________________________________________
average_pooling2d_4 (AveragePoo (None, 4, 39, 256)   0           inverted_residual_7[0][0]        
__________________________________________________________________________________________________
batch_normalization_5 (BatchNor (None, 4, 39, 256)   1024        average_pooling2d_4[0][0]        
__________________________________________________________________________________________________
dropout_4 (Dropout)             (None, 4, 39, 256)   0           batch_normalization_5[0][0]      
__________________________________________________________________________________________________
inverted_residual_8 (InvertedRe (None, 4, 39, 512)   1249280     dropout_4[0][0]                  
__________________________________________________________________________________________________
inverted_residual_9 (InvertedRe (None, 4, 39, 512)   3282944     inverted_residual_8[0][0]        
__________________________________________________________________________________________________
global_average_pooling2d (Globa (None, 512)          0           inverted_residual_9[0][0]        
__________________________________________________________________________________________________
dense (Dense)                   (None, 1)            513         global_average_pooling2d[0][0]   
==================================================================================================
Total params: 6,200,749
Trainable params: 6,159,239
Non-trainable params: 41,510
__________________________________________________________________________________________________
Epoch 1/50
263/263 - 516s - loss: 0.6976 - accuracy: 0.6957 - val_loss: 1.3787 - val_accuracy: 0.2004
Confusion matrix: 
 [[  0 870]
 [  0 218]]
Validation f1: 33.38
Validation accuracy: 20.04
Validation recall: 100.00
Validation precision: 20.04
Validation AUC: 0.1693611606587277
Validation class accuracies: [0.0, 1.0]
TARGET: 0
target metric(test auc): 0.1693611606587277
column_sums: [   0 1088]
cm_sum: 1088
The training is defaulting to either class.
Epoch 2/50
263/263 - 507s - loss: 0.5925 - accuracy: 0.7235 - val_loss: 0.5397 - val_accuracy: 0.7969
Confusion matrix: 
 [[865   5]
 [216   2]]
Validation f1: 1.78
Validation accuracy: 79.69
Validation recall: 0.92
Validation precision: 28.57
Validation AUC: 0.23204863455990699
Validation class accuracies: [0.9942528735632183, 0.009174311926605505]
TARGET: 0
target metric(test auc): 0.23204863455990699
column_sums: [1081    7]
cm_sum: 1088
The training is defaulting to either class.
Epoch 3/50
263/263 - 506s - loss: 0.5856 - accuracy: 0.7224 - val_loss: 0.5718 - val_accuracy: 0.7610
Confusion matrix: 
 [[818  52]
 [208  10]]
Validation f1: 7.14
Validation accuracy: 76.10
Validation recall: 4.59
Validation precision: 16.13
Validation AUC: 0.22273945364672149
Validation class accuracies: [0.9402298850574713, 0.045871559633027525]
TARGET: 0
target metric(test auc): 0.22273945364672149
column_sums: [1026   62]
cm_sum: 1088
The training is defaulting to either class.
Epoch 4/50
263/263 - 506s - loss: 0.5821 - accuracy: 0.7255 - val_loss: 0.5094 - val_accuracy: 0.7996
Confusion matrix: 
 [[870   0]
 [218   0]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/sklearn/metrics/_classification.py:1272: UndefinedMetricWarning: Precision and F-score are ill-defined and being set to 0.0 due to no predicted samples. Use `zero_division` parameter to control this behavior.
  _warn_prf(average, modifier, msg_start, len(result))
Validation f1: 0.00
Validation accuracy: 79.96
Validation recall: 0.00
Validation precision: 0.00
Validation AUC: 0.21196407087427452
Validation class accuracies: [1.0, 0.0]
TARGET: 0
target metric(test auc): 0.21196407087427452
column_sums: [1088    0]
cm_sum: 1088
The training is defaulting to either class.
Epoch 5/50
263/263 - 507s - loss: 0.5850 - accuracy: 0.7228 - val_loss: 0.5334 - val_accuracy: 0.7785
Confusion matrix: 
 [[841  29]
 [212   6]]
Validation f1: 4.74
Validation accuracy: 77.85
Validation recall: 2.75
Validation precision: 17.14
Validation AUC: 0.21031314760291267
Validation class accuracies: [0.9666666666666667, 0.027522935779816515]
TARGET: 0
target metric(test auc): 0.21031314760291267
column_sums: [1053   35]
cm_sum: 1088
The training is defaulting to either class.
Epoch 6/50
263/263 - 505s - loss: 0.5849 - accuracy: 0.7231 - val_loss: 0.5366 - val_accuracy: 0.7849
Confusion matrix: 
 [[845  25]
 [209   9]]
Validation f1: 7.14
Validation accuracy: 78.49
Validation recall: 4.13
Validation precision: 26.47
Validation AUC: 0.22229622394954585
Validation class accuracies: [0.9712643678160919, 0.04128440366972477]
TARGET: 0
target metric(test auc): 0.22229622394954585
column_sums: [1054   34]
cm_sum: 1088
The training is defaulting to either class.
Epoch 7/50
263/263 - 505s - loss: 0.5845 - accuracy: 0.7235 - val_loss: 0.5115 - val_accuracy: 0.7960
Confusion matrix: 
 [[864   6]
 [216   2]]
Validation f1: 1.77
Validation accuracy: 79.60
Validation recall: 0.92
Validation precision: 25.00
Validation AUC: 0.17992746857482017
Validation class accuracies: [0.993103448275862, 0.009174311926605505]
TARGET: 0
target metric(test auc): 0.17992746857482017
column_sums: [1080    8]
cm_sum: 1088
The training is defaulting to either class.
Epoch 8/50
263/263 - 504s - loss: 0.5818 - accuracy: 0.7255 - val_loss: 0.5213 - val_accuracy: 0.7996
Confusion matrix: 
 [[870   0]
 [218   0]]
Validation f1: 0.00
Validation accuracy: 79.96
Validation recall: 0.00
Validation precision: 0.00
Validation AUC: 0.15002161522423935
Validation class accuracies: [1.0, 0.0]
TARGET: 0
target metric(test auc): 0.15002161522423935
column_sums: [1088    0]
cm_sum: 1088
The training is defaulting to either class.
Epoch 9/50
263/263 - 505s - loss: 0.5790 - accuracy: 0.7250 - val_loss: 0.5304 - val_accuracy: 0.7757
Confusion matrix: 
 [[835  35]
 [209   9]]
Validation f1: 6.87
Validation accuracy: 77.57
Validation recall: 4.13
Validation precision: 20.45
Validation AUC: 0.22093572626788016
Validation class accuracies: [0.9597701149425287, 0.04128440366972477]
TARGET: 0
target metric(test auc): 0.22093572626788016
column_sums: [1044   44]
cm_sum: 1088
The training is defaulting to either class.
Epoch 10/50
263/263 - 506s - loss: 0.5865 - accuracy: 0.7259 - val_loss: 0.4953 - val_accuracy: 0.7996
Confusion matrix: 
 [[870   0]
 [218   0]]
Validation f1: 0.00
Validation accuracy: 79.96
Validation recall: 0.00
Validation precision: 0.00
Validation AUC: 0.23274071841555644
Validation class accuracies: [1.0, 0.0]
TARGET: 0
target metric(test auc): 0.23274071841555644
column_sums: [1088    0]
cm_sum: 1088
The training is defaulting to either class.
Epoch 11/50
263/263 - 504s - loss: 0.5862 - accuracy: 0.7259 - val_loss: 0.4938 - val_accuracy: 0.7978
Confusion matrix: 
 [[866   4]
 [216   2]]
Validation f1: 1.79
Validation accuracy: 79.78
Validation recall: 0.92
Validation precision: 33.33
Validation AUC: 0.25923706277751957
Validation class accuracies: [0.9954022988505747, 0.009174311926605505]
TARGET: 0
target metric(test auc): 0.25923706277751957
column_sums: [1082    6]
cm_sum: 1088
The training is defaulting to either class.
Epoch 12/50
263/263 - 499s - loss: 0.5826 - accuracy: 0.7255 - val_loss: 0.4983 - val_accuracy: 0.7996
Confusion matrix: 
 [[870   0]
 [218   0]]
Validation f1: 0.00
Validation accuracy: 79.96
Validation recall: 0.00
Validation precision: 0.00
Validation AUC: 0.2541928598551005
Validation class accuracies: [1.0, 0.0]
TARGET: 0
target metric(test auc): 0.2541928598551005
column_sums: [1088    0]
cm_sum: 1088
The training is defaulting to either class.
Epoch 13/50
263/263 - 499s - loss: 0.5800 - accuracy: 0.7245 - val_loss: 0.5134 - val_accuracy: 0.7923
Confusion matrix: 
 [[858  12]
 [214   4]]
Validation f1: 3.42
Validation accuracy: 79.23
Validation recall: 1.83
Validation precision: 25.00
Validation AUC: 0.2319994128374916
Validation class accuracies: [0.9862068965517241, 0.01834862385321101]
TARGET: 0
target metric(test auc): 0.2319994128374916
column_sums: [1072   16]
cm_sum: 1088
The training is defaulting to either class.
Epoch 14/50
263/263 - 497s - loss: 0.5768 - accuracy: 0.7266 - val_loss: 0.5107 - val_accuracy: 0.7996
Confusion matrix: 
 [[869   1]
 [217   1]]
Validation f1: 0.91
Validation accuracy: 79.96
Validation recall: 0.46
Validation precision: 50.00
Validation AUC: 0.25055655620980966
Validation class accuracies: [0.9988505747126437, 0.0045871559633027525]
TARGET: 0
target metric(test auc): 0.25055655620980966
column_sums: [1086    2]
cm_sum: 1088
The training is defaulting to either class.
Epoch 15/50
263/263 - 499s - loss: 0.5757 - accuracy: 0.7278 - val_loss: 0.5465 - val_accuracy: 0.7583
Confusion matrix: 
 [[814  56]
 [207  11]]
Validation f1: 7.72
Validation accuracy: 75.83
Validation recall: 5.05
Validation precision: 16.42
Validation AUC: 0.22932412621588022
Validation class accuracies: [0.9356321839080459, 0.05045871559633028]
TARGET: 0
target metric(test auc): 0.22932412621588022
column_sums: [1021   67]
cm_sum: 1088
The training is defaulting to either class.
Epoch 16/50
263/263 - 498s - loss: 0.5743 - accuracy: 0.7300 - val_loss: 0.4955 - val_accuracy: 0.7969
Confusion matrix: 
 [[865   5]
 [216   2]]
Validation f1: 1.78
Validation accuracy: 79.69
Validation recall: 0.92
Validation precision: 28.57
Validation AUC: 0.2451677516078627
Validation class accuracies: [0.9942528735632183, 0.009174311926605505]
TARGET: 0
target metric(test auc): 0.2451677516078627
column_sums: [1081    7]
cm_sum: 1088
The training is defaulting to either class.
Epoch 17/50
263/263 - 499s - loss: 0.5740 - accuracy: 0.7276 - val_loss: 0.7029 - val_accuracy: 0.5561
Confusion matrix: 
 [[501 369]
 [114 104]]
Validation f1: 30.10
Validation accuracy: 55.61
Validation recall: 47.71
Validation precision: 21.99
Validation AUC: 0.232455258113833
Validation class accuracies: [0.5758620689655173, 0.47706422018348627]
TARGET: 0
target metric(test auc): 0.232455258113833
column_sums: [615 473]
cm_sum: 1088
inside not defaulting
Saving model...
Epoch 18/50
263/263 - 498s - loss: 0.5740 - accuracy: 0.7290 - val_loss: 0.5906 - val_accuracy: 0.6829
Confusion matrix: 
 [[670 200]
 [145  73]]
Validation f1: 29.74
Validation accuracy: 68.29
Validation recall: 33.49
Validation precision: 26.74
Validation AUC: 0.24893040713977815
Validation class accuracies: [0.7701149425287356, 0.3348623853211009]
TARGET: 0
target metric(test auc): 0.24893040713977815
column_sums: [815 273]
cm_sum: 1088
inside not defaulting
Saving model...
Epoch 19/50
263/263 - 498s - loss: 0.5721 - accuracy: 0.7269 - val_loss: 0.5363 - val_accuracy: 0.7932
Confusion matrix: 
 [[861   9]
 [216   2]]
Validation f1: 1.75
Validation accuracy: 79.32
Validation recall: 0.92
Validation precision: 18.18
Validation AUC: 0.26741420025698137
Validation class accuracies: [0.9896551724137931, 0.009174311926605505]
TARGET: 0
target metric(test auc): 0.26741420025698137
column_sums: [1077   11]
cm_sum: 1088
The training is defaulting to either class.
Epoch 20/50
263/263 - 498s - loss: 0.5702 - accuracy: 0.7288 - val_loss: 0.5342 - val_accuracy: 0.7868
Confusion matrix: 
 [[850  20]
 [212   6]]
Validation f1: 4.92
Validation accuracy: 78.68
Validation recall: 2.75
Validation precision: 23.08
Validation AUC: 0.21928029570996077
Validation class accuracies: [0.9770114942528736, 0.027522935779816515]
TARGET: 0
target metric(test auc): 0.21928029570996077
column_sums: [1062   26]
cm_sum: 1088
The training is defaulting to either class.
Epoch 21/50
263/263 - 497s - loss: 0.5692 - accuracy: 0.7305 - val_loss: 0.5225 - val_accuracy: 0.7812
Confusion matrix: 
 [[843  27]
 [211   7]]
Validation f1: 5.56
Validation accuracy: 78.12
Validation recall: 3.21
Validation precision: 20.59
Validation AUC: 0.24232391672310302
Validation class accuracies: [0.9689655172413794, 0.03211009174311927]
TARGET: 0
target metric(test auc): 0.24232391672310302
column_sums: [1054   34]
cm_sum: 1088
The training is defaulting to either class.
Epoch 22/50
263/263 - 497s - loss: 0.5668 - accuracy: 0.7288 - val_loss: 0.6373 - val_accuracy: 0.7399
Confusion matrix: 
 [[779  91]
 [192  26]]
Validation f1: 15.52
Validation accuracy: 73.99
Validation recall: 11.93
Validation precision: 22.22
Validation AUC: 0.2109770589400569
Validation class accuracies: [0.8954022988505748, 0.11926605504587157]
TARGET: 0
target metric(test auc): 0.2109770589400569
column_sums: [971 117]
cm_sum: 1088
inside not defaulting
The validation tracker metric at 0.24893040713977815 hasn't increased by 0 in 1 epochs
Epoch 23/50
263/263 - 497s - loss: 0.5676 - accuracy: 0.7290 - val_loss: 0.6382 - val_accuracy: 0.7004
Confusion matrix: 
 [[721 149]
 [177  41]]
Validation f1: 20.10
Validation accuracy: 70.04
Validation recall: 18.81
Validation precision: 21.58
Validation AUC: 0.2477008976827556
Validation class accuracies: [0.828735632183908, 0.18807339449541285]
TARGET: 0
target metric(test auc): 0.2477008976827556
column_sums: [898 190]
cm_sum: 1088
inside not defaulting
The validation tracker metric at 0.24893040713977815 hasn't increased by 0 in 2 epochs
Epoch 24/50
263/263 - 498s - loss: 0.5679 - accuracy: 0.7259 - val_loss: 0.5610 - val_accuracy: 0.7757
Confusion matrix: 
 [[832  38]
 [206  12]]
Validation f1: 8.96
Validation accuracy: 77.57
Validation recall: 5.50
Validation precision: 24.00
Validation AUC: 0.2315270113144681
Validation class accuracies: [0.9563218390804598, 0.05504587155963303]
TARGET: 0
target metric(test auc): 0.2315270113144681
column_sums: [1038   50]
cm_sum: 1088
The training is defaulting to either class.
Epoch 25/50
263/263 - 500s - loss: 0.5669 - accuracy: 0.7283 - val_loss: 0.5096 - val_accuracy: 0.7950
Confusion matrix: 
 [[862   8]
 [215   3]]
Validation f1: 2.62
Validation accuracy: 79.50
Validation recall: 1.38
Validation precision: 27.27
Validation AUC: 0.22618691776959382
Validation class accuracies: [0.9908045977011494, 0.013761467889908258]
TARGET: 0
target metric(test auc): 0.22618691776959382
column_sums: [1077   11]
cm_sum: 1088
The training is defaulting to either class.
Epoch 26/50
263/263 - 498s - loss: 0.5658 - accuracy: 0.7259 - val_loss: 0.6214 - val_accuracy: 0.6756
Confusion matrix: 
 [[718 152]
 [201  17]]
Validation f1: 8.79
Validation accuracy: 67.56
Validation recall: 7.80
Validation precision: 10.06
Validation AUC: 0.16186271857193174
Validation class accuracies: [0.825287356321839, 0.0779816513761468]
TARGET: 0
target metric(test auc): 0.16186271857193174
column_sums: [919 169]
cm_sum: 1088
inside not defaulting
The validation tracker metric at 0.24893040713977815 hasn't increased by 0 in 3 epochs
Epoch 27/50
263/263 - 496s - loss: 0.5655 - accuracy: 0.7290 - val_loss: 0.5284 - val_accuracy: 0.7923
Confusion matrix: 
 [[857  13]
 [213   5]]
Validation f1: 4.24
Validation accuracy: 79.23
Validation recall: 2.29
Validation precision: 27.78
Validation AUC: 0.21136393528057218
Validation class accuracies: [0.9850574712643678, 0.022935779816513763]
TARGET: 0
target metric(test auc): 0.21136393528057218
column_sums: [1070   18]
cm_sum: 1088
The training is defaulting to either class.
Epoch 28/50
263/263 - 497s - loss: 0.5618 - accuracy: 0.7350 - val_loss: 0.5035 - val_accuracy: 0.7987
Confusion matrix: 
 [[867   3]
 [216   2]]
Validation f1: 1.79
Validation accuracy: 79.87
Validation recall: 0.92
Validation precision: 40.00
Validation AUC: 0.21945155213503958
Validation class accuracies: [0.996551724137931, 0.009174311926605505]
local_gc_exec.sh: line 6:  7192 Killed                  python -m models.$MODULE_NAME --train-file $LOCAL_TRAIN_FILE --job-dir $LOCAL_JOB_DIR --params "$PARAMS"

 See logs at ../../new_cache/conv__2129__05_1451__v29__model9_undersampled/logs//home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/multiprocessing/semaphore_tracker.py:144: UserWarning: semaphore_tracker: There appear to be 6 leaked semaphores to clean up at shutdown
  len(cache))
