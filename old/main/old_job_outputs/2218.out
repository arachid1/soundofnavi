Category:  coch
Dataset:  all_sw_coch_preprocessed_v2_param_v39_augm_v0_cleaned_8000.pkl
File:  conv.train2218
Description:  icbhi_pneumonia_test
2021-06-15 13:33:22.540837: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcudart.so.11.0
WARNING:tensorflow:From /home/alirachidi/classification_algorithm/trainers/main/models/conv/modules/augmentation.py:19: experimental_run_functions_eagerly (from tensorflow.python.eager.def_function) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.config.run_functions_eagerly` instead of the experimental version.
2021-06-15 13:33:24.815219: I tensorflow/compiler/jit/xla_cpu_device.cc:41] Not creating XLA devices, tf_xla_enable_xla_devices not set
2021-06-15 13:33:24.816081: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcuda.so.1
2021-06-15 13:33:24.827862: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-15 13:33:24.828533: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1720] Found device 0 with properties: 
pciBusID: 0000:00:04.0 name: Tesla T4 computeCapability: 7.5
coreClock: 1.59GHz coreCount: 40 deviceMemorySize: 14.75GiB deviceMemoryBandwidth: 298.08GiB/s
2021-06-15 13:33:24.828577: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcudart.so.11.0
2021-06-15 13:33:24.832155: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcublas.so.11
2021-06-15 13:33:24.832235: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcublasLt.so.11
2021-06-15 13:33:24.833261: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcufft.so.10
2021-06-15 13:33:24.833532: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcurand.so.10
2021-06-15 13:33:24.834501: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcusolver.so.10
2021-06-15 13:33:24.835349: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcusparse.so.11
2021-06-15 13:33:24.835505: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcudnn.so.8
2021-06-15 13:33:24.835616: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-15 13:33:24.836334: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-15 13:33:24.837003: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1862] Adding visible gpu devices: 0
Tensorflow Version: 2.4.0
Num GPUs Available:  1
-----------------------
Using module: nv/train2218.py
Using train_file: ../../data/datasets/all_sw_coch_preprocessed_v2_param_v39_augm_v0_cleaned_8000.pkl
Job directory: ../../new_cache/conv__2218__06_1333__v39__icbhi_pneumonia_test
Parameters: {'N_CLASSES': 1, 'SR': 8000, 'BATCH_SIZE': 16, 'LR': 0.0001, 'SHAPE': [128, 1250], 'LL2_REG': 0, 'WEIGHT_DECAY': 0.001, 'N_EPOCHS': 120, 'FACTOR': 0.75, 'PATIENCE': 6, 'MIN_LR': 1e-07, 'LABEL_SMOOTHING': 0, 'EPSILON': 1e-07, 'ES_PATIENCE': 50, 'OVERSAMPLE': 0, 'MIN_DELTA': 0, 'PARAM': 'v39', 'EPOCH_START': 1, 'CLAUSE': 1, 'CUBEROOTING': 1, 'AUGMENTATION': 0, 'TARGET': 1, 'INITIAL_CHANNELS': 1, 'ADAPTIVE_LR': 1, 'CLASS_WEIGHTS': 1, 'SIX': 0, 'CONCAT': 0, 'TESTING': 0}
Augmentation parameters for audio: {'ADD': 1, 'QUANTITY': 250, 'WAV_PATH': 'v36,v37'}
Augmentation parameters for spectrograms: {'ADD': 1, 'QUANTITY': 150, 'TIME_MASKING': 1, 'FREQUENCY_MASKING': 1, 'LOUDNESS': 0}
-----------------------
Collecting Variables...
All variables have been collected.
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow_addons/utils/ensure_tf_install.py:68: UserWarning: Tensorflow Addons supports using Python ops for all Tensorflow versions above or equal to 2.2.0 and strictly below 2.3.0 (nightly versions are not supported). 
 The versions of TensorFlow you are currently using is 2.4.0 and is not supported. 
Some things might work, some things might not.
If you were to encounter a bug, do not file an issue.
If you want to make sure you're using a tested and supported configuration, either change the TensorFlow version or the TensorFlow Addons's version. 
You can find the compatibility matrix in TensorFlow Addon's readme:
https://github.com/tensorflow/addons
  UserWarning,
wandb: W&B syncing is set to `offline` in this directory.  Run `wandb online` or set WANDB_MODE=online to enable cloud syncing.
2021-06-15 13:33:29.804278: I tensorflow/compiler/jit/xla_gpu_device.cc:99] Not creating XLA devices, tf_xla_enable_xla_devices not set
2021-06-15 13:33:29.804502: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-15 13:33:29.805197: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1720] Found device 0 with properties: 
pciBusID: 0000:00:04.0 name: Tesla T4 computeCapability: 7.5
coreClock: 1.59GHz coreCount: 40 deviceMemorySize: 14.75GiB deviceMemoryBandwidth: 298.08GiB/s
2021-06-15 13:33:29.805238: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcudart.so.11.0
2021-06-15 13:33:29.805291: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcublas.so.11
2021-06-15 13:33:29.805312: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcublasLt.so.11
2021-06-15 13:33:29.805331: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcufft.so.10
2021-06-15 13:33:29.805349: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcurand.so.10
2021-06-15 13:33:29.805368: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcusolver.so.10
2021-06-15 13:33:29.805386: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcusparse.so.11
2021-06-15 13:33:29.805404: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcudnn.so.8
2021-06-15 13:33:29.805500: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-15 13:33:29.806186: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-15 13:33:29.806828: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1862] Adding visible gpu devices: 0
2021-06-15 13:33:29.806879: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcudart.so.11.0
2021-06-15 13:33:30.500185: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1261] Device interconnect StreamExecutor with strength 1 edge matrix:
2021-06-15 13:33:30.500229: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1267]      0 
2021-06-15 13:33:30.500238: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1280] 0:   N 
2021-06-15 13:33:30.500507: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-15 13:33:30.501256: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-15 13:33:30.501932: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-15 13:33:30.502557: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1406] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 13968 MB memory) -> physical GPU (device: 0, name: Tesla T4, pci bus id: 0000:00:04.0, compute capability: 7.5)
Pneumonia patients: 148, Non-pneumonia patients: 2873
The initial learning rate for this job is: 0.001
Initializing weights...
weights = {0: 0.5257570483814827, 1: 10.20608108108108}
Model: "conv2d"
______________________________________________________________________________________________________________
Layer (type)                        Output Shape            Param #      Connected to                         
==============================================================================================================
input_1 (InputLayer)                [(None, 128, 1250, 1)]  0                                                 
______________________________________________________________________________________________________________
batch_normalization (BatchNormaliza (None, 128, 1250, 1)    4            input_1[0][0]                        
______________________________________________________________________________________________________________
conv2d (Conv2D)                     (None, 128, 1250, 16)   32           batch_normalization[0][0]            
______________________________________________________________________________________________________________
conv2d_2 (Conv2D)                   (None, 128, 1250, 16)   32           batch_normalization[0][0]            
______________________________________________________________________________________________________________
max_pooling2d (MaxPooling2D)        (None, 128, 1250, 1)    0            batch_normalization[0][0]            
______________________________________________________________________________________________________________
conv2d_1 (Conv2D)                   (None, 128, 1250, 16)   2320         conv2d[0][0]                         
______________________________________________________________________________________________________________
conv2d_3 (Conv2D)                   (None, 128, 1250, 16)   6416         conv2d_2[0][0]                       
______________________________________________________________________________________________________________
conv2d_4 (Conv2D)                   (None, 128, 1250, 16)   32           max_pooling2d[0][0]                  
______________________________________________________________________________________________________________
concatenate (Concatenate)           (None, 128, 1250, 48)   0            conv2d_1[0][0]                       
                                                                         conv2d_3[0][0]                       
                                                                         conv2d_4[0][0]                       
______________________________________________________________________________________________________________
average_pooling2d (AveragePooling2D (None, 64, 625, 48)     0            concatenate[0][0]                    
______________________________________________________________________________________________________________
batch_normalization_1 (BatchNormali (None, 64, 625, 48)     192          average_pooling2d[0][0]              
______________________________________________________________________________________________________________
dropout (Dropout)                   (None, 64, 625, 48)     0            batch_normalization_1[0][0]          
______________________________________________________________________________________________________________
inverted_residual (InvertedResidual (None, 64, 625, 32)     35840        dropout[0][0]                        
______________________________________________________________________________________________________________
inverted_residual_1 (InvertedResidu (None, 64, 625, 32)     20864        inverted_residual[0][0]              
______________________________________________________________________________________________________________
average_pooling2d_1 (AveragePooling (None, 32, 312, 32)     0            inverted_residual_1[0][0]            
______________________________________________________________________________________________________________
batch_normalization_2 (BatchNormali (None, 32, 312, 32)     128          average_pooling2d_1[0][0]            
______________________________________________________________________________________________________________
dropout_1 (Dropout)                 (None, 32, 312, 32)     0            batch_normalization_2[0][0]          
______________________________________________________________________________________________________________
inverted_residual_2 (InvertedResidu (None, 32, 312, 64)     27136        dropout_1[0][0]                      
______________________________________________________________________________________________________________
inverted_residual_3 (InvertedResidu (None, 32, 312, 64)     66304        inverted_residual_2[0][0]            
______________________________________________________________________________________________________________
average_pooling2d_2 (AveragePooling (None, 16, 156, 64)     0            inverted_residual_3[0][0]            
______________________________________________________________________________________________________________
batch_normalization_3 (BatchNormali (None, 16, 156, 64)     256          average_pooling2d_2[0][0]            
______________________________________________________________________________________________________________
dropout_2 (Dropout)                 (None, 16, 156, 64)     0            batch_normalization_3[0][0]          
______________________________________________________________________________________________________________
inverted_residual_4 (InvertedResidu (None, 16, 156, 128)    91136        dropout_2[0][0]                      
______________________________________________________________________________________________________________
inverted_residual_5 (InvertedResidu (None, 16, 156, 128)    230912       inverted_residual_4[0][0]            
______________________________________________________________________________________________________________
average_pooling2d_3 (AveragePooling (None, 8, 78, 128)      0            inverted_residual_5[0][0]            
______________________________________________________________________________________________________________
batch_normalization_4 (BatchNormali (None, 8, 78, 128)      512          average_pooling2d_3[0][0]            
______________________________________________________________________________________________________________
dropout_3 (Dropout)                 (None, 8, 78, 128)      0            batch_normalization_4[0][0]          
______________________________________________________________________________________________________________
inverted_residual_6 (InvertedResidu (None, 8, 78, 256)      329728       dropout_3[0][0]                      
______________________________________________________________________________________________________________
inverted_residual_7 (InvertedResidu (None, 8, 78, 256)      855040       inverted_residual_6[0][0]            
______________________________________________________________________________________________________________
average_pooling2d_4 (AveragePooling (None, 4, 39, 256)      0            inverted_residual_7[0][0]            
______________________________________________________________________________________________________________
batch_normalization_5 (BatchNormali (None, 4, 39, 256)      1024         average_pooling2d_4[0][0]            
______________________________________________________________________________________________________________
dropout_4 (Dropout)                 (None, 4, 39, 256)      0            batch_normalization_5[0][0]          
______________________________________________________________________________________________________________
inverted_residual_8 (InvertedResidu (None, 4, 39, 512)      1249280      dropout_4[0][0]                      
______________________________________________________________________________________________________________
inverted_residual_9 (InvertedResidu (None, 4, 39, 512)      3282944      inverted_residual_8[0][0]            
______________________________________________________________________________________________________________
global_average_pooling2d (GlobalAve (None, 512)             0            inverted_residual_9[0][0]            
______________________________________________________________________________________________________________
dense (Dense)                       (None, 1)               513          global_average_pooling2d[0][0]       
==============================================================================================================
Total params: 6,200,645
Trainable params: 6,159,139
Non-trainable params: 41,506
______________________________________________________________________________________________________________
2021-06-15 13:33:31.803252: I tensorflow/compiler/mlir/mlir_graph_optimization_pass.cc:116] None of the MLIR optimization passes are enabled (registered 2)
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
2021-06-15 13:33:31.804618: I tensorflow/core/platform/profile_utils/cpu_utils.cc:112] CPU Frequency: 2299995000 Hz
2021-06-15 13:33:32.166061: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcudnn.so.8
2021-06-15 13:33:34.100571: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcublas.so.11
2021-06-15 13:33:34.540180: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcublasLt.so.11
Epoch 1/120
151/151 - 213s - loss: 0.6027 - accuracy: 0.6416 - val_loss: 0.3701 - val_accuracy: 0.9471
Confusion matrix: 
 [[573   0]
 [ 32   0]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/sklearn/metrics/_classification.py:1272: UndefinedMetricWarning: Precision and F-score are ill-defined and being set to 0.0 due to no predicted samples. Use `zero_division` parameter to control this behavior.
  _warn_prf(average, modifier, msg_start, len(result))
Normalized Confusion matrix: 
 [[1. 0.]
 [1. 0.]]
Validation f1: 0.00
Validation accuracy: 94.71
Validation recall: 0.00
Validation precision: 0.00
Validation AUC: 0.04122641509433962
Validation class accuracies: [1.0, 0.0]
The clause is activated.
The training is defaulting to either class.
Epoch 2/120
151/151 - 215s - loss: 0.4064 - accuracy: 0.7463 - val_loss: 0.2536 - val_accuracy: 0.9471
Confusion matrix: 
 [[573   0]
 [ 32   0]]
Normalized Confusion matrix: 
 [[1. 0.]
 [1. 0.]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/sklearn/metrics/_classification.py:1272: UndefinedMetricWarning: Precision and F-score are ill-defined and being set to 0.0 due to no predicted samples. Use `zero_division` parameter to control this behavior.
  _warn_prf(average, modifier, msg_start, len(result))
Validation f1: 0.00
Validation accuracy: 94.71
Validation recall: 0.00
Validation precision: 0.00
Validation AUC: 0.054142650831754444
Validation class accuracies: [1.0, 0.0]
The clause is activated.
The training is defaulting to either class.
Epoch 3/120
151/151 - 217s - loss: 0.3442 - accuracy: 0.8249 - val_loss: 0.2203 - val_accuracy: 0.9471
Confusion matrix: 
 [[573   0]
 [ 32   0]]
Normalized Confusion matrix: 
 [[1. 0.]
 [1. 0.]]
Validation f1: 0.00
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/sklearn/metrics/_classification.py:1272: UndefinedMetricWarning: Precision and F-score are ill-defined and being set to 0.0 due to no predicted samples. Use `zero_division` parameter to control this behavior.
  _warn_prf(average, modifier, msg_start, len(result))
Validation accuracy: 94.71
Validation recall: 0.00
Validation precision: 0.00
Validation AUC: 0.0958790208285943
Validation class accuracies: [1.0, 0.0]
The clause is activated.
The training is defaulting to either class.
Epoch 4/120
151/151 - 217s - loss: 0.2895 - accuracy: 0.8572 - val_loss: 0.2267 - val_accuracy: 0.9471
Confusion matrix: 
 [[573   0]
 [ 32   0]]
Normalized Confusion matrix: 
 [[1. 0.]
 [1. 0.]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/sklearn/metrics/_classification.py:1272: UndefinedMetricWarning: Precision and F-score are ill-defined and being set to 0.0 due to no predicted samples. Use `zero_division` parameter to control this behavior.
  _warn_prf(average, modifier, msg_start, len(result))
Validation f1: 0.00
Validation accuracy: 94.71
Validation recall: 0.00
Validation precision: 0.00
Validation AUC: 0.21352995984736683
Validation class accuracies: [1.0, 0.0]
The clause is activated.
The training is defaulting to either class.
Epoch 5/120
151/151 - 217s - loss: 0.2394 - accuracy: 0.8974 - val_loss: 0.2668 - val_accuracy: 0.9223
Confusion matrix: 
 [[547  26]
 [ 21  11]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.955 0.045]
 [0.656 0.344]]
Validation f1: 31.88
Validation accuracy: 92.23
Validation recall: 34.38
Validation precision: 29.73
Validation AUC: 0.27122600344641395
Validation class accuracies: [0.9546247818499127, 0.34375]
The clause is activated.
The training is defaulting to either class.
Epoch 6/120
151/151 - 217s - loss: 0.1802 - accuracy: 0.9259 - val_loss: 0.4233 - val_accuracy: 0.8446
Confusion matrix: 
 [[492  81]
 [ 13  19]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.859 0.141]
 [0.406 0.594]]
Validation f1: 28.79
Validation accuracy: 84.46
Validation recall: 59.38
Validation precision: 19.00
Validation AUC: 0.5583196590544306
Validation class accuracies: [0.8586387434554974, 0.59375]
The clause is activated.
Not defaulting.
Saving model...
Epoch 7/120
151/151 - 217s - loss: 0.1921 - accuracy: 0.9234 - val_loss: 0.4926 - val_accuracy: 0.8843
Confusion matrix: 
 [[506  67]
 [  3  29]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.883 0.117]
 [0.094 0.906]]
Validation f1: 45.31
Validation accuracy: 88.43
Validation recall: 90.62
Validation precision: 30.21
Validation AUC: 0.5873650768682291
Validation class accuracies: [0.8830715532286213, 0.90625]
The clause is activated.
Not defaulting.
Saving model...
Epoch 8/120
151/151 - 217s - loss: 0.1588 - accuracy: 0.9358 - val_loss: 0.4853 - val_accuracy: 0.8810
Confusion matrix: 
 [[510  63]
 [  9  23]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.89  0.11 ]
 [0.281 0.719]]
Validation f1: 38.98
Validation accuracy: 88.10
Validation recall: 71.88
Validation precision: 26.74
Validation AUC: 0.4812833422754582
Validation class accuracies: [0.8900523560209425, 0.71875]
The clause is activated.
Not defaulting.
The validation tracker metric at 0.453125 hasn't increased by 0 in 1 epochs
Epoch 9/120
151/151 - 217s - loss: 0.1479 - accuracy: 0.9317 - val_loss: 0.6685 - val_accuracy: 0.8000
Confusion matrix: 
 [[452 121]
 [  0  32]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.789 0.211]
 [0.    1.   ]]
Validation f1: 34.59
Validation accuracy: 80.00
Validation recall: 100.00
Validation precision: 20.92
Validation AUC: 0.6626245311319737
Validation class accuracies: [0.7888307155322862, 1.0]
The clause is activated.
Not defaulting.
The validation tracker metric at 0.453125 hasn't increased by 0 in 2 epochs
Epoch 10/120
151/151 - 217s - loss: 0.1018 - accuracy: 0.9632 - val_loss: 0.3297 - val_accuracy: 0.8777
Confusion matrix: 
 [[508  65]
 [  9  23]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.887 0.113]
 [0.281 0.719]]
Validation f1: 38.33
Validation accuracy: 87.77
Validation recall: 71.88
Validation precision: 26.14
Validation AUC: 0.4903650369784974
Validation class accuracies: [0.8865619546247818, 0.71875]
The clause is activated.
Not defaulting.
The validation tracker metric at 0.453125 hasn't increased by 0 in 3 epochs
Epoch 11/120
151/151 - 217s - loss: 0.0743 - accuracy: 0.9834 - val_loss: 1.0518 - val_accuracy: 0.7091
Confusion matrix: 
 [[398 175]
 [  1  31]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.695 0.305]
 [0.031 0.969]]
Validation f1: 26.05
Validation accuracy: 70.91
Validation recall: 96.88
Validation precision: 15.05
Validation AUC: 0.5987081181844898
Validation class accuracies: [0.6945898778359512, 0.96875]
The clause is activated.
Not defaulting.
The validation tracker metric at 0.453125 hasn't increased by 0 in 4 epochs
Epoch 12/120
151/151 - 217s - loss: 0.0921 - accuracy: 0.9698 - val_loss: 0.2385 - val_accuracy: 0.9306
Confusion matrix: 
 [[546  27]
 [ 15  17]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.953 0.047]
 [0.469 0.531]]
Validation f1: 44.74
Validation accuracy: 93.06
Validation recall: 53.12
Validation precision: 38.64
Validation AUC: 0.5073527950718143
Validation class accuracies: [0.9528795811518325, 0.53125]
The clause is activated.
The training is defaulting to either class.
Epoch 13/120
151/151 - 217s - loss: 0.0560 - accuracy: 0.9880 - val_loss: 0.3505 - val_accuracy: 0.8975
Confusion matrix: 
 [[523  50]
 [ 12  20]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.913 0.087]
 [0.375 0.625]]
Validation f1: 39.22
Validation accuracy: 89.75
Validation recall: 62.50
Validation precision: 28.57
Validation AUC: 0.47282789677284953
Validation class accuracies: [0.912739965095986, 0.625]
The clause is activated.
Not defaulting.
The validation tracker metric at 0.453125 hasn't increased by 0 in 5 epochs
Epoch 14/120
151/151 - 216s - loss: 0.0454 - accuracy: 0.9888 - val_loss: 0.4758 - val_accuracy: 0.9174
Confusion matrix: 
 [[529  44]
 [  6  26]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.923 0.077]
 [0.188 0.812]]
Validation f1: 50.98
Validation accuracy: 91.74
Validation recall: 81.25
Validation precision: 37.14
Validation AUC: 0.5900223782304862
Validation class accuracies: [0.9232111692844677, 0.8125]
The clause is activated.
Not defaulting.
Saving model...
Epoch 15/120
151/151 - 217s - loss: 0.0508 - accuracy: 0.9834 - val_loss: 0.4013 - val_accuracy: 0.9240
Confusion matrix: 
 [[537  36]
 [ 10  22]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.937 0.063]
 [0.312 0.688]]
Validation f1: 48.89
Validation accuracy: 92.40
Validation recall: 68.75
Validation precision: 37.93
Validation AUC: 0.5549273868984479
Validation class accuracies: [0.93717277486911, 0.6875]
The clause is activated.
The training is defaulting to either class.
Epoch 16/120
151/151 - 216s - loss: 0.0406 - accuracy: 0.9884 - val_loss: 0.4440 - val_accuracy: 0.8397
Confusion matrix: 
 [[488  85]
 [ 12  20]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.852 0.148]
 [0.375 0.625]]
Validation f1: 29.20
Validation accuracy: 83.97
Validation recall: 62.50
Validation precision: 19.05
Validation AUC: 0.4493615207343222
Validation class accuracies: [0.8516579406631762, 0.625]
The clause is activated.
Not defaulting.
The validation tracker metric at 0.5098039215686275 hasn't increased by 0 in 1 epochs
Epoch 17/120
151/151 - 216s - loss: 0.0918 - accuracy: 0.9665 - val_loss: 0.4646 - val_accuracy: 0.9025
Confusion matrix: 
 [[524  49]
 [ 10  22]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.914 0.086]
 [0.312 0.688]]
Validation f1: 42.72
Validation accuracy: 90.25
Validation recall: 68.75
Validation precision: 30.99
Validation AUC: 0.4981647546004904
Validation class accuracies: [0.9144851657940664, 0.6875]
The clause is activated.
Not defaulting.
The validation tracker metric at 0.5098039215686275 hasn't increased by 0 in 2 epochs
Epoch 18/120
151/151 - 217s - loss: 0.0327 - accuracy: 0.9930 - val_loss: 0.3569 - val_accuracy: 0.9223
Confusion matrix: 
 [[542  31]
 [ 16  16]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.946 0.054]
 [0.5   0.5  ]]
Validation f1: 40.51
Validation accuracy: 92.23
Validation recall: 50.00
Validation precision: 34.04
Validation AUC: 0.49161529976457524
Validation class accuracies: [0.9458987783595113, 0.5]
The clause is activated.
The training is defaulting to either class.
Epoch 19/120
151/151 - 216s - loss: 0.0398 - accuracy: 0.9876 - val_loss: 0.9834 - val_accuracy: 0.8198
Confusion matrix: 
 [[465 108]
 [  1  31]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.812 0.188]
 [0.031 0.969]]
Validation f1: 36.26
Validation accuracy: 81.98
Validation recall: 96.88
Validation precision: 22.30
Validation AUC: 0.5754192679966541
Validation class accuracies: [0.8115183246073299, 0.96875]
The clause is activated.
Not defaulting.
The validation tracker metric at 0.5098039215686275 hasn't increased by 0 in 3 epochs
Epoch 20/120
151/151 - 217s - loss: 0.0612 - accuracy: 0.9876 - val_loss: 5.7501 - val_accuracy: 0.1107
Confusion matrix: 
 [[ 35 538]
 [  0  32]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.061 0.939]
 [0.    1.   ]]
Validation f1: 10.63
Validation accuracy: 11.07
Validation recall: 100.00
Validation precision: 5.61
Validation AUC: 0.26432456794900205
Validation class accuracies: [0.06108202443280977, 1.0]
The clause is activated.
The training is defaulting to either class.
Epoch 21/120
151/151 - 218s - loss: 0.0943 - accuracy: 0.9636 - val_loss: 0.8195 - val_accuracy: 0.8810
Confusion matrix: 
 [[509  64]
 [  8  24]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.888 0.112]
 [0.25  0.75 ]]
Validation f1: 40.00
Validation accuracy: 88.10
Validation recall: 75.00
Validation precision: 27.27
Validation AUC: 0.5621032701452455
Validation class accuracies: [0.8883071553228621, 0.75]
The clause is activated.
Not defaulting.
The validation tracker metric at 0.5098039215686275 hasn't increased by 0 in 4 epochs
Epoch 22/120
151/151 - 218s - loss: 0.0319 - accuracy: 0.9950 - val_loss: 0.2679 - val_accuracy: 0.9223
Confusion matrix: 
 [[537  36]
 [ 11  21]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.937 0.063]
 [0.344 0.656]]
Validation f1: 47.19
Validation accuracy: 92.23
Validation recall: 65.62
Validation precision: 36.84
Validation AUC: 0.5729681902696117
Validation class accuracies: [0.93717277486911, 0.65625]
The clause is activated.
The training is defaulting to either class.
Epoch 23/120
151/151 - 218s - loss: 0.0411 - accuracy: 0.9880 - val_loss: 0.4264 - val_accuracy: 0.9041
Confusion matrix: 
 [[529  44]
 [ 14  18]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.923 0.077]
 [0.438 0.562]]
Validation f1: 38.30
Validation accuracy: 90.41
Validation recall: 56.25
Validation precision: 29.03
Validation AUC: 0.4881472997250311
Validation class accuracies: [0.9232111692844677, 0.5625]
The clause is activated.
Not defaulting.
The validation tracker metric at 0.5098039215686275 hasn't increased by 0 in 5 epochs
Epoch 24/120
151/151 - 218s - loss: 0.0196 - accuracy: 0.9979 - val_loss: 0.3719 - val_accuracy: 0.9289
Confusion matrix: 
 [[540  33]
 [ 10  22]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.942 0.058]
 [0.312 0.688]]
Validation f1: 50.57
Validation accuracy: 92.89
Validation recall: 68.75
Validation precision: 40.00
Validation AUC: 0.5711709273900549
Validation class accuracies: [0.9424083769633508, 0.6875]
The clause is activated.
The training is defaulting to either class.
Epoch 25/120
151/151 - 218s - loss: 0.0165 - accuracy: 0.9983 - val_loss: 0.4184 - val_accuracy: 0.9174
Confusion matrix: 
 [[530  43]
 [  7  25]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.925 0.075]
 [0.219 0.781]]
Validation f1: 50.00
Validation accuracy: 91.74
Validation recall: 78.12
Validation precision: 36.76
Validation AUC: 0.5781180257879222
Validation class accuracies: [0.924956369982548, 0.78125]
The clause is activated.
Not defaulting.
The validation tracker metric at 0.5098039215686275 hasn't increased by 0 in 6 epochs
Lr has been adjusted to 7.499999628635123e-05
Epoch 26/120
151/151 - 218s - loss: 0.0240 - accuracy: 0.9954 - val_loss: 2.0942 - val_accuracy: 0.6397
Confusion matrix: 
 [[355 218]
 [  0  32]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.62 0.38]
 [0.   1.  ]]
Validation f1: 22.70
Validation accuracy: 63.97
Validation recall: 100.00
Validation precision: 12.80
Validation AUC: 0.5794498651021112
Validation class accuracies: [0.6195462478184991, 1.0]
The clause is activated.
Not defaulting.
The validation tracker metric at 0.5098039215686275 hasn't increased by 0 in 7 epochs
Epoch 27/120
151/151 - 218s - loss: 0.0376 - accuracy: 0.9880 - val_loss: 0.2967 - val_accuracy: 0.9273
Confusion matrix: 
 [[543  30]
 [ 14  18]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.948 0.052]
 [0.438 0.562]]
Validation f1: 45.00
Validation accuracy: 92.73
Validation recall: 56.25
Validation precision: 37.50
Validation AUC: 0.47969327724819966
Validation class accuracies: [0.9476439790575916, 0.5625]
The clause is activated.
The training is defaulting to either class.
Epoch 28/120
151/151 - 218s - loss: 0.0168 - accuracy: 0.9975 - val_loss: 0.3411 - val_accuracy: 0.9306
Confusion matrix: 
 [[543  30]
 [ 12  20]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.948 0.052]
 [0.375 0.625]]
Validation f1: 48.78
Validation accuracy: 93.06
Validation recall: 62.50
Validation precision: 40.00
Validation AUC: 0.5176257970192294
Validation class accuracies: [0.9476439790575916, 0.625]
The clause is activated.
The training is defaulting to either class.
Epoch 29/120
151/151 - 218s - loss: 0.0195 - accuracy: 0.9967 - val_loss: 0.6180 - val_accuracy: 0.8826
Confusion matrix: 
 [[505  68]
 [  3  29]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.881 0.119]
 [0.094 0.906]]
Validation f1: 44.96
Validation accuracy: 88.26
Validation recall: 90.62
Validation precision: 29.90
Validation AUC: 0.5241619343616244
Validation class accuracies: [0.881326352530541, 0.90625]
The clause is activated.
Not defaulting.
The validation tracker metric at 0.5098039215686275 hasn't increased by 0 in 8 epochs
Epoch 30/120
151/151 - 218s - loss: 0.0137 - accuracy: 0.9979 - val_loss: 0.3528 - val_accuracy: 0.9256
Confusion matrix: 
 [[538  35]
 [ 10  22]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.939 0.061]
 [0.312 0.688]]
Validation f1: 49.44
Validation accuracy: 92.56
Validation recall: 68.75
Validation precision: 38.60
Validation AUC: 0.5633413373741312
Validation class accuracies: [0.9389179755671903, 0.6875]
The clause is activated.
The training is defaulting to either class.
Epoch 31/120
151/151 - 218s - loss: 0.0213 - accuracy: 0.9963 - val_loss: 0.4103 - val_accuracy: 0.9256
Confusion matrix: 
 [[533  40]
 [  5  27]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.93  0.07 ]
 [0.156 0.844]]
Validation f1: 54.55
Validation accuracy: 92.56
Validation recall: 84.38
Validation precision: 40.30
Validation AUC: 0.6662577907319137
Validation class accuracies: [0.9301919720767888, 0.84375]
The clause is activated.
Not defaulting.
Saving model...
Epoch 32/120
151/151 - 218s - loss: 0.0127 - accuracy: 0.9988 - val_loss: 0.3853 - val_accuracy: 0.9190
Confusion matrix: 
 [[534  39]
 [ 10  22]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.932 0.068]
 [0.312 0.688]]
Validation f1: 47.31
Validation accuracy: 91.90
Validation recall: 68.75
Validation precision: 36.07
Validation AUC: 0.5579175860945864
Validation class accuracies: [0.9319371727748691, 0.6875]
The clause is activated.
Not defaulting.
The validation tracker metric at 0.5454545454545454 hasn't increased by 0 in 1 epochs
Epoch 33/120
151/151 - 218s - loss: 0.0092 - accuracy: 0.9996 - val_loss: 0.4941 - val_accuracy: 0.9273
Confusion matrix: 
 [[536  37]
 [  7  25]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.935 0.065]
 [0.219 0.781]]
Validation f1: 53.19
Validation accuracy: 92.73
Validation recall: 78.12
Validation precision: 40.32
Validation AUC: 0.5533534036017383
Validation class accuracies: [0.9354275741710296, 0.78125]
The clause is activated.
Not defaulting.
The validation tracker metric at 0.5454545454545454 hasn't increased by 0 in 2 epochs
Epoch 34/120
151/151 - 218s - loss: 0.0095 - accuracy: 0.9996 - val_loss: 0.4312 - val_accuracy: 0.9289
Confusion matrix: 
 [[539  34]
 [  9  23]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.941 0.059]
 [0.281 0.719]]
Validation f1: 51.69
Validation accuracy: 92.89
Validation recall: 71.88
Validation precision: 40.35
Validation AUC: 0.5456336582414834
Validation class accuracies: [0.9406631762652705, 0.71875]
The clause is activated.
The training is defaulting to either class.
Epoch 35/120
151/151 - 218s - loss: 0.0088 - accuracy: 1.0000 - val_loss: 0.4076 - val_accuracy: 0.9322
Confusion matrix: 
 [[541  32]
 [  9  23]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.944 0.056]
 [0.281 0.719]]
Validation f1: 52.87
Validation accuracy: 93.22
Validation recall: 71.88
Validation precision: 41.82
Validation AUC: 0.5497558936118931
Validation class accuracies: [0.944153577661431, 0.71875]
The clause is activated.
The training is defaulting to either class.
Epoch 36/120
151/151 - 218s - loss: 0.0113 - accuracy: 0.9988 - val_loss: 0.5697 - val_accuracy: 0.9041
Confusion matrix: 
 [[527  46]
 [ 12  20]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.92  0.08 ]
 [0.375 0.625]]
Validation f1: 40.82
Validation accuracy: 90.41
Validation recall: 62.50
Validation precision: 30.30
Validation AUC: 0.45193377307452437
Validation class accuracies: [0.9197207678883071, 0.625]
The clause is activated.
Not defaulting.
The validation tracker metric at 0.5454545454545454 hasn't increased by 0 in 3 epochs
Epoch 37/120
151/151 - 219s - loss: 0.0103 - accuracy: 0.9983 - val_loss: 0.3680 - val_accuracy: 0.9355
Confusion matrix: 
 [[544  29]
 [ 10  22]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.949 0.051]
 [0.312 0.688]]
Validation f1: 53.01
Validation accuracy: 93.55
Validation recall: 68.75
Validation precision: 43.14
Validation AUC: 0.5267832910375538
Validation class accuracies: [0.9493891797556719, 0.6875]
The clause is activated.
The training is defaulting to either class.
Epoch 38/120
151/151 - 218s - loss: 0.0079 - accuracy: 1.0000 - val_loss: 0.4072 - val_accuracy: 0.9339
Confusion matrix: 
 [[543  30]
 [ 10  22]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.948 0.052]
 [0.312 0.688]]
Validation f1: 52.38
Validation accuracy: 93.39
Validation recall: 68.75
Validation precision: 42.31
Validation AUC: 0.5174572285468828
Validation class accuracies: [0.9476439790575916, 0.6875]
The clause is activated.
The training is defaulting to either class.
Epoch 39/120
151/151 - 217s - loss: 0.0074 - accuracy: 1.0000 - val_loss: 0.4336 - val_accuracy: 0.9273
Confusion matrix: 
 [[542  31]
 [ 13  19]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.946 0.054]
 [0.406 0.594]]
Validation f1: 46.34
Validation accuracy: 92.73
Validation recall: 59.38
Validation precision: 38.00
Validation AUC: 0.5391380759436122
Validation class accuracies: [0.9458987783595113, 0.59375]
The clause is activated.
The training is defaulting to either class.
Epoch 40/120
151/151 - 217s - loss: 0.0086 - accuracy: 0.9988 - val_loss: 0.3044 - val_accuracy: 0.9372
Confusion matrix: 
 [[548  25]
 [ 13  19]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.956 0.044]
 [0.406 0.594]]
Validation f1: 50.00
Validation accuracy: 93.72
Validation recall: 59.38
Validation precision: 43.18
Validation AUC: 0.5605402636644731
Validation class accuracies: [0.956369982547993, 0.59375]
The clause is activated.
The training is defaulting to either class.
Epoch 41/120
151/151 - 216s - loss: 0.0065 - accuracy: 1.0000 - val_loss: 0.4252 - val_accuracy: 0.9240
Confusion matrix: 
 [[537  36]
 [ 10  22]]
Normalized Confusion matrix: 
 [[0.937 0.063]
 [0.312 0.688]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 48.89
Validation accuracy: 92.40
Validation recall: 68.75
Validation precision: 37.93
Validation AUC: 0.5549645141277056
Validation class accuracies: [0.93717277486911, 0.6875]
The clause is activated.
The training is defaulting to either class.
Epoch 42/120
151/151 - 217s - loss: 0.0086 - accuracy: 0.9992 - val_loss: 0.5316 - val_accuracy: 0.9124
Confusion matrix: 
 [[533  40]
 [ 13  19]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.93  0.07 ]
 [0.406 0.594]]
Validation f1: 41.76
Validation accuracy: 91.24
Validation recall: 59.38
Validation precision: 32.20
Validation AUC: 0.5049683383880958
Validation class accuracies: [0.9301919720767888, 0.59375]
The clause is activated.
The training is defaulting to either class.
Epoch 43/120
151/151 - 216s - loss: 0.0062 - accuracy: 1.0000 - val_loss: 0.4198 - val_accuracy: 0.9306
Confusion matrix: 
 [[544  29]
 [ 13  19]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.949 0.051]
 [0.406 0.594]]
Validation f1: 47.50
Validation accuracy: 93.06
Validation recall: 59.38
Validation precision: 39.58
Validation AUC: 0.5363849571074661
Validation class accuracies: [0.9493891797556719, 0.59375]
The clause is activated.
The training is defaulting to either class.
Epoch 44/120
151/151 - 217s - loss: 0.0060 - accuracy: 1.0000 - val_loss: 0.6661 - val_accuracy: 0.8579
Confusion matrix: 
 [[495  78]
 [  8  24]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.864 0.136]
 [0.25  0.75 ]]
Validation f1: 35.82
Validation accuracy: 85.79
Validation recall: 75.00
Validation precision: 23.53
Validation AUC: 0.5032202866682566
Validation class accuracies: [0.8638743455497382, 0.75]
The clause is activated.
Not defaulting.
The validation tracker metric at 0.5454545454545454 hasn't increased by 0 in 4 epochs
Epoch 45/120
151/151 - 216s - loss: 0.0223 - accuracy: 0.9930 - val_loss: 0.4739 - val_accuracy: 0.9240
Confusion matrix: 
 [[540  33]
 [ 13  19]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.942 0.058]
 [0.406 0.594]]
Validation f1: 45.24
Validation accuracy: 92.40
Validation recall: 59.38
Validation precision: 36.54
Validation AUC: 0.46066593767016706
Validation class accuracies: [0.9424083769633508, 0.59375]
The clause is activated.
The training is defaulting to either class.
Epoch 46/120
151/151 - 217s - loss: 0.0085 - accuracy: 0.9988 - val_loss: 0.4781 - val_accuracy: 0.9289
Confusion matrix: 
 [[540  33]
 [ 10  22]]
Normalized Confusion matrix: 
 [[0.942 0.058]
 [0.312 0.688]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 50.57
Validation accuracy: 92.89
Validation recall: 68.75
Validation precision: 40.00
Validation AUC: 0.5000719767550346
Validation class accuracies: [0.9424083769633508, 0.6875]
The clause is activated.
The training is defaulting to either class.
Epoch 47/120
151/151 - 217s - loss: 0.0085 - accuracy: 0.9988 - val_loss: 0.3895 - val_accuracy: 0.9372
Confusion matrix: 
 [[546  27]
 [ 11  21]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.953 0.047]
 [0.344 0.656]]
Validation f1: 52.50
Validation accuracy: 93.72
Validation recall: 65.62
Validation precision: 43.75
Validation AUC: 0.4977117361722994
Validation class accuracies: [0.9528795811518325, 0.65625]
The clause is activated.
The training is defaulting to either class.
Epoch 48/120
151/151 - 217s - loss: 0.0101 - accuracy: 0.9971 - val_loss: 0.3197 - val_accuracy: 0.9388
Confusion matrix: 
 [[547  26]
 [ 11  21]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.955 0.045]
 [0.344 0.656]]
Validation f1: 53.16
Validation accuracy: 93.88
Validation recall: 65.62
Validation precision: 44.68
Validation AUC: 0.5561116849835415
Validation class accuracies: [0.9546247818499127, 0.65625]
The clause is activated.
The training is defaulting to either class.
Epoch 49/120
151/151 - 217s - loss: 0.0054 - accuracy: 1.0000 - val_loss: 0.3694 - val_accuracy: 0.9372
Confusion matrix: 
 [[545  28]
 [ 10  22]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.951 0.049]
 [0.312 0.688]]
Validation f1: 53.66
Validation accuracy: 93.72
Validation recall: 68.75
Validation precision: 44.00
Validation AUC: 0.5430602960970385
Validation class accuracies: [0.9511343804537522, 0.6875]
The clause is activated.
The training is defaulting to either class.
Epoch 50/120
151/151 - 217s - loss: 0.0051 - accuracy: 1.0000 - val_loss: 0.2993 - val_accuracy: 0.9421
Confusion matrix: 
 [[549  24]
 [ 11  21]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.958 0.042]
 [0.344 0.656]]
Validation f1: 54.55
Validation accuracy: 94.21
Validation recall: 65.62
Validation precision: 46.67
Validation AUC: 0.5461838784898516
Validation class accuracies: [0.9581151832460733, 0.65625]
The clause is activated.
The training is defaulting to either class.
Epoch 51/120
151/151 - 217s - loss: 0.0077 - accuracy: 0.9988 - val_loss: 0.2960 - val_accuracy: 0.9355
Confusion matrix: 
 [[548  25]
 [ 14  18]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.956 0.044]
 [0.438 0.562]]
Validation f1: 48.00
Validation accuracy: 93.55
Validation recall: 56.25
Validation precision: 41.86
Validation AUC: 0.5038663389855175
Validation class accuracies: [0.956369982547993, 0.5625]
The clause is activated.
The training is defaulting to either class.
Epoch 52/120
151/151 - 217s - loss: 0.0077 - accuracy: 0.9983 - val_loss: 0.6410 - val_accuracy: 0.9091
Confusion matrix: 
 [[527  46]
 [  9  23]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.92  0.08 ]
 [0.281 0.719]]
Validation f1: 45.54
Validation accuracy: 90.91
Validation recall: 71.88
Validation precision: 33.33
Validation AUC: 0.4644850796989661
Validation class accuracies: [0.9197207678883071, 0.71875]
The clause is activated.
Not defaulting.
The validation tracker metric at 0.5454545454545454 hasn't increased by 0 in 5 epochs
Epoch 53/120
151/151 - 217s - loss: 0.0042 - accuracy: 1.0000 - val_loss: 0.4905 - val_accuracy: 0.9174
Confusion matrix: 
 [[534  39]
 [ 11  21]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.932 0.068]
 [0.344 0.656]]
Validation f1: 45.65
Validation accuracy: 91.74
Validation recall: 65.62
Validation precision: 35.00
Validation AUC: 0.48520646075367785
Validation class accuracies: [0.9319371727748691, 0.65625]
The clause is activated.
The training is defaulting to either class.
Epoch 54/120
151/151 - 217s - loss: 0.0044 - accuracy: 1.0000 - val_loss: 0.6165 - val_accuracy: 0.9174
Confusion matrix: 
 [[533  40]
 [ 10  22]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.93  0.07 ]
 [0.312 0.688]]
Validation f1: 46.81
Validation accuracy: 91.74
Validation recall: 68.75
Validation precision: 35.48
Validation AUC: 0.4905868058224063
Validation class accuracies: [0.9301919720767888, 0.6875]
The clause is activated.
Not defaulting.
The validation tracker metric at 0.5454545454545454 hasn't increased by 0 in 6 epochs
Lr has been adjusted to 5.624999903375283e-05
Epoch 55/120
151/151 - 217s - loss: 0.0040 - accuracy: 1.0000 - val_loss: 0.4714 - val_accuracy: 0.9223
Confusion matrix: 
 [[541  32]
 [ 15  17]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.944 0.056]
 [0.469 0.531]]
Validation f1: 41.98
Validation accuracy: 92.23
Validation recall: 53.12
Validation precision: 34.69
Validation AUC: 0.4531466466277443
Validation class accuracies: [0.944153577661431, 0.53125]
The clause is activated.
The training is defaulting to either class.
Epoch 56/120
151/151 - 217s - loss: 0.0035 - accuracy: 1.0000 - val_loss: 0.4917 - val_accuracy: 0.9273
Confusion matrix: 
 [[542  31]
 [ 13  19]]
Normalized Confusion matrix: 
 [[0.946 0.054]
 [0.406 0.594]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 46.34
Validation accuracy: 92.73
Validation recall: 59.38
Validation precision: 38.00
Validation AUC: 0.48429449530868235
Validation class accuracies: [0.9458987783595113, 0.59375]
The clause is activated.
The training is defaulting to either class.
Epoch 57/120
151/151 - 217s - loss: 0.0034 - accuracy: 1.0000 - val_loss: 0.4808 - val_accuracy: 0.9306
Confusion matrix: 
 [[544  29]
 [ 13  19]]
Normalized Confusion matrix: 
 [[0.949 0.051]
 [0.406 0.594]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 47.50
Validation accuracy: 93.06
Validation recall: 59.38
Validation precision: 39.58
Validation AUC: 0.4742460229968697
Validation class accuracies: [0.9493891797556719, 0.59375]
The clause is activated.
The training is defaulting to either class.
Epoch 58/120
151/151 - 217s - loss: 0.0036 - accuracy: 1.0000 - val_loss: 0.4737 - val_accuracy: 0.9306
Confusion matrix: 
 [[547  26]
 [ 16  16]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.955 0.045]
 [0.5   0.5  ]]
Validation f1: 43.24
Validation accuracy: 93.06
Validation recall: 50.00
Validation precision: 38.10
Validation AUC: 0.478298787653445
Validation class accuracies: [0.9546247818499127, 0.5]
The clause is activated.
The training is defaulting to either class.
Epoch 59/120
151/151 - 217s - loss: 0.0037 - accuracy: 1.0000 - val_loss: 0.5149 - val_accuracy: 0.9322
Confusion matrix: 
 [[546  27]
 [ 14  18]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.953 0.047]
 [0.438 0.562]]
Validation f1: 46.75
Validation accuracy: 93.22
Validation recall: 56.25
Validation precision: 40.00
Validation AUC: 0.48602628692064676
Validation class accuracies: [0.9528795811518325, 0.5625]
The clause is activated.
The training is defaulting to either class.
Epoch 60/120
151/151 - 217s - loss: 0.0032 - accuracy: 1.0000 - val_loss: 0.4710 - val_accuracy: 0.9339
Confusion matrix: 
 [[547  26]
 [ 14  18]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.955 0.045]
 [0.438 0.562]]
Validation f1: 47.37
Validation accuracy: 93.39
Validation recall: 56.25
Validation precision: 40.91
Validation AUC: 0.48679909695449697
Validation class accuracies: [0.9546247818499127, 0.5625]
The clause is activated.
The training is defaulting to either class.
Epoch 61/120
151/151 - 217s - loss: 0.0029 - accuracy: 1.0000 - val_loss: 0.4871 - val_accuracy: 0.9339
Confusion matrix: 
 [[547  26]
 [ 14  18]]
Normalized Confusion matrix: 
 [[0.955 0.045]
 [0.438 0.562]]
Validation f1: 47.37
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation accuracy: 93.39
Validation recall: 56.25
Validation precision: 40.91
Validation AUC: 0.5043050201128606
Validation class accuracies: [0.9546247818499127, 0.5625]
The clause is activated.
The training is defaulting to either class.
Epoch 62/120
151/151 - 217s - loss: 0.0034 - accuracy: 1.0000 - val_loss: 0.5270 - val_accuracy: 0.9240
Confusion matrix: 
 [[537  36]
 [ 10  22]]
Normalized Confusion matrix: 
 [[0.937 0.063]
 [0.312 0.688]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 48.89
Validation accuracy: 92.40
Validation recall: 68.75
Validation precision: 37.93
Validation AUC: 0.5209537575522241
Validation class accuracies: [0.93717277486911, 0.6875]
The clause is activated.
The training is defaulting to either class.
Epoch 63/120
151/151 - 216s - loss: 0.0088 - accuracy: 0.9979 - val_loss: 0.5211 - val_accuracy: 0.8777
Confusion matrix: 
 [[513  60]
 [ 14  18]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.895 0.105]
 [0.438 0.562]]
Validation f1: 32.73
Validation accuracy: 87.77
Validation recall: 56.25
Validation precision: 23.08
Validation AUC: 0.43804589319232673
Validation class accuracies: [0.8952879581151832, 0.5625]
The clause is activated.
Not defaulting.
The validation tracker metric at 0.5454545454545454 hasn't increased by 0 in 7 epochs
Epoch 64/120
151/151 - 217s - loss: 0.0034 - accuracy: 1.0000 - val_loss: 0.4780 - val_accuracy: 0.9273
Confusion matrix: 
 [[541  32]
 [ 12  20]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.944 0.056]
 [0.375 0.625]]
Validation f1: 47.62
Validation accuracy: 92.73
Validation recall: 62.50
Validation precision: 38.46
Validation AUC: 0.5165222339855917
Validation class accuracies: [0.944153577661431, 0.625]
The clause is activated.
The training is defaulting to either class.
Epoch 65/120
151/151 - 217s - loss: 0.0030 - accuracy: 1.0000 - val_loss: 0.5253 - val_accuracy: 0.9273
Confusion matrix: 
 [[540  33]
 [ 11  21]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.942 0.058]
 [0.344 0.656]]
Validation f1: 48.84
Validation accuracy: 92.73
Validation recall: 65.62
Validation precision: 38.89
Validation AUC: 0.516161647694654
Validation class accuracies: [0.9424083769633508, 0.65625]
The clause is activated.
The training is defaulting to either class.
Epoch 66/120
151/151 - 216s - loss: 0.0032 - accuracy: 1.0000 - val_loss: 0.5787 - val_accuracy: 0.9273
Confusion matrix: 
 [[540  33]
 [ 11  21]]
Normalized Confusion matrix: 
 [[0.942 0.058]
 [0.344 0.656]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 48.84
Validation accuracy: 92.73
Validation recall: 65.62
Validation precision: 38.89
Validation AUC: 0.5169033691785742
Validation class accuracies: [0.9424083769633508, 0.65625]
local_gc_exec.sh: line 6: 23684 Killed                  python -m models.$MODULE_NAME --train-file $LOCAL_TRAIN_FILE --job-dir $LOCAL_JOB_DIR --params "$PARAMS" --wav-params "$WAV_PARAMS" --spec-params "$SPEC_PARAMS"

 See logs at ../../new_cache/conv__2218__06_1333__v39__icbhi_pneumonia_test/logs//home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/multiprocessing/semaphore_tracker.py:144: UserWarning: semaphore_tracker: There appear to be 6 leaked semaphores to clean up at shutdown
  len(cache))
