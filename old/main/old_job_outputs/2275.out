Category:  coch
Dataset:  all_sw_coch_preprocessed_v2_param_v39_augm_v0_cleaned_8000.pkl
File:  conv.train2275
Description:  mixup
2021-06-30 03:39:30.137730: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcudart.so.11.0
WARNING:tensorflow:From /home/alirachidi/classification_algorithm/trainers/main/models/conv/modules/augmentation.py:19: experimental_run_functions_eagerly (from tensorflow.python.eager.def_function) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.config.run_functions_eagerly` instead of the experimental version.
2021-06-30 03:39:32.308591: I tensorflow/compiler/jit/xla_cpu_device.cc:41] Not creating XLA devices, tf_xla_enable_xla_devices not set
2021-06-30 03:39:32.309579: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcuda.so.1
2021-06-30 03:39:32.355847: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-30 03:39:32.356529: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1720] Found device 0 with properties: 
pciBusID: 0000:00:04.0 name: Tesla T4 computeCapability: 7.5
coreClock: 1.59GHz coreCount: 40 deviceMemorySize: 14.75GiB deviceMemoryBandwidth: 298.08GiB/s
2021-06-30 03:39:32.356557: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcudart.so.11.0
2021-06-30 03:39:32.360068: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcublas.so.11
2021-06-30 03:39:32.360153: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcublasLt.so.11
2021-06-30 03:39:32.361265: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcufft.so.10
2021-06-30 03:39:32.361576: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcurand.so.10
2021-06-30 03:39:32.362578: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcusolver.so.10
2021-06-30 03:39:32.363457: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcusparse.so.11
2021-06-30 03:39:32.363612: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcudnn.so.8
2021-06-30 03:39:32.363713: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-30 03:39:32.364425: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-30 03:39:32.365052: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1862] Adding visible gpu devices: 0
Tensorflow Version: 2.4.0
Num GPUs Available:  1
-----------------------
Using module: nv/train2275.py
Using train_file: ../../data/datasets/all_sw_coch_preprocessed_v2_param_v39_augm_v0_cleaned_8000.pkl
Job directory: ../../new_cache/conv__2275__06_0339__v39__mixup
Parameters: {'N_CLASSES': 1, 'SR': 8000, 'BATCH_SIZE': 16, 'LR': 0.001, 'SHAPE': [128, 1250], 'LL2_REG': 0, 'WEIGHT_DECAY': 0.001, 'N_EPOCHS': 65, 'FACTOR': 0.5, 'PATIENCE': 6, 'MIN_LR': 1e-07, 'LABEL_SMOOTHING': 0, 'EPSILON': 1e-07, 'ES_PATIENCE': 20, 'OVERSAMPLE': 0, 'MIN_DELTA': 0, 'PARAM': 'v39', 'EPOCH_START': 1, 'JORDAN_DATASET': 1, 'PNEUMONIA_ONLY': 1, 'CLAUSE': 0, 'CUBEROOTING': 1, 'NORMALIZING': 1, 'AUGMENTATION': 1, 'TARGET': 1, 'INITIAL_CHANNELS': 1, 'ADAPTIVE_LR': 1, 'CLASS_WEIGHTS': 0, 'SIX': 0, 'CONCAT': 0, 'TESTING': 0}
Augmentation parameters for audio: {'ADD': 1, 'QUANTITY': 1000, 'WAV_PATH': 'v42'}
Augmentation parameters for spectrograms: {'ADD': 0, 'QUANTITY': 158, 'TIME_MASKING': 1, 'FREQUENCY_MASKING': 1, 'LOUDNESS': 0}
-----------------------
Collecting Variables...
All variables have been collected.
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow_addons/utils/ensure_tf_install.py:68: UserWarning: Tensorflow Addons supports using Python ops for all Tensorflow versions above or equal to 2.2.0 and strictly below 2.3.0 (nightly versions are not supported). 
 The versions of TensorFlow you are currently using is 2.4.0 and is not supported. 
Some things might work, some things might not.
If you were to encounter a bug, do not file an issue.
If you want to make sure you're using a tested and supported configuration, either change the TensorFlow version or the TensorFlow Addons's version. 
You can find the compatibility matrix in TensorFlow Addon's readme:
https://github.com/tensorflow/addons
  UserWarning,
wandb: W&B syncing is set to `offline` in this directory.  Run `wandb online` or set WANDB_MODE=online to enable cloud syncing.
2021-06-30 03:39:36.922433: I tensorflow/compiler/jit/xla_gpu_device.cc:99] Not creating XLA devices, tf_xla_enable_xla_devices not set
2021-06-30 03:39:36.922727: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-30 03:39:36.923472: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1720] Found device 0 with properties: 
pciBusID: 0000:00:04.0 name: Tesla T4 computeCapability: 7.5
coreClock: 1.59GHz coreCount: 40 deviceMemorySize: 14.75GiB deviceMemoryBandwidth: 298.08GiB/s
2021-06-30 03:39:36.923520: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcudart.so.11.0
2021-06-30 03:39:36.923591: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcublas.so.11
2021-06-30 03:39:36.923614: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcublasLt.so.11
2021-06-30 03:39:36.923637: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcufft.so.10
2021-06-30 03:39:36.923676: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcurand.so.10
2021-06-30 03:39:36.923698: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcusolver.so.10
2021-06-30 03:39:36.923721: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcusparse.so.11
2021-06-30 03:39:36.923742: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcudnn.so.8
2021-06-30 03:39:36.923841: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-30 03:39:36.924565: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-30 03:39:36.925203: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1862] Adding visible gpu devices: 0
2021-06-30 03:39:36.925263: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcudart.so.11.0
2021-06-30 03:39:37.625832: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1261] Device interconnect StreamExecutor with strength 1 edge matrix:
2021-06-30 03:39:37.625873: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1267]      0 
2021-06-30 03:39:37.625881: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1280] 0:   N 
2021-06-30 03:39:37.626163: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-30 03:39:37.626926: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-30 03:39:37.627607: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-30 03:39:37.628242: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1406] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 13968 MB memory) -> physical GPU (device: 0, name: Tesla T4, pci bus id: 0000:00:04.0, compute capability: 7.5)
2021-06-30 03:39:38.692830: I tensorflow/compiler/mlir/mlir_graph_optimization_pass.cc:116] None of the MLIR optimization passes are enabled (registered 2)
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
2021-06-30 03:39:38.695012: I tensorflow/core/platform/profile_utils/cpu_utils.cc:112] CPU Frequency: 2299995000 Hz
2021-06-30 03:40:39.972983: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 737 of 3616
2021-06-30 03:40:49.966860: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1473 of 3616
2021-06-30 03:40:59.991594: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2225 of 3616
2021-06-30 03:41:10.136080: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2993 of 3616
2021-06-30 03:41:19.900691: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
2021-06-30 03:41:19.911738: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcudnn.so.8
2021-06-30 03:41:21.349292: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcublas.so.11
2021-06-30 03:41:21.792059: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcublasLt.so.11
Pneumonia patients: 148, Non-pneumonia patients: 2873
Pneumonia patients: 51, Non-pneumonia patients: 0
-----------------------
Number of train recordings: 2458 with pneumonia: 158 and non-pneumonia: 2300
Length of training samples after audio augmentation: 2616
-----------------------
Number of train recordings: 2616 with pneumonia: 316 and non-pneumonia: 2300
Length of training samples after audio augmentation: 3216
-----------------------
Number of train recordings: 3216 with pneumonia: 316 and non-pneumonia: 2900
Number of val recordings: 614 with pneumonia: 41 and non-pneumonia: 573
-----------------------
New dataset length after mix-up augmentation: 3616
Model: "conv2d"
______________________________________________________________________________________________________________
Layer (type)                                     Output Shape                                Param #          
==============================================================================================================
input_1 (InputLayer)                             [(None, 128, 1250, 1)]                      0                
______________________________________________________________________________________________________________
conv2d (Conv2D)                                  (None, 128, 1250, 8)                        80               
______________________________________________________________________________________________________________
mix_depth_group_convolution2d (MixDepthGroupConv (None, 128, 1250, 8)                        162              
______________________________________________________________________________________________________________
average_pooling2d (AveragePooling2D)             (None, 64, 625, 8)                          0                
______________________________________________________________________________________________________________
batch_normalization (BatchNormalization)         (None, 64, 625, 8)                          32               
______________________________________________________________________________________________________________
conv2d_1 (Conv2D)                                (None, 64, 625, 16)                         1168             
______________________________________________________________________________________________________________
mix_depth_group_convolution2d_1 (MixDepthGroupCo (None, 64, 625, 16)                         414              
______________________________________________________________________________________________________________
average_pooling2d_1 (AveragePooling2D)           (None, 32, 313, 16)                         0                
______________________________________________________________________________________________________________
batch_normalization_1 (BatchNormalization)       (None, 32, 313, 16)                         64               
______________________________________________________________________________________________________________
conv2d_2 (Conv2D)                                (None, 32, 313, 32)                         4640             
______________________________________________________________________________________________________________
mix_depth_group_convolution2d_2 (MixDepthGroupCo (None, 32, 313, 32)                         828              
______________________________________________________________________________________________________________
average_pooling2d_2 (AveragePooling2D)           (None, 16, 157, 32)                         0                
______________________________________________________________________________________________________________
batch_normalization_2 (BatchNormalization)       (None, 16, 157, 32)                         128              
______________________________________________________________________________________________________________
conv2d_3 (Conv2D)                                (None, 16, 157, 64)                         18496            
______________________________________________________________________________________________________________
mix_depth_group_convolution2d_3 (MixDepthGroupCo (None, 16, 157, 64)                         1656             
______________________________________________________________________________________________________________
average_pooling2d_3 (AveragePooling2D)           (None, 8, 79, 64)                           0                
______________________________________________________________________________________________________________
batch_normalization_3 (BatchNormalization)       (None, 8, 79, 64)                           256              
______________________________________________________________________________________________________________
conv2d_4 (Conv2D)                                (None, 8, 79, 128)                          73856            
______________________________________________________________________________________________________________
mix_depth_group_convolution2d_4 (MixDepthGroupCo (None, 8, 79, 128)                          3402             
______________________________________________________________________________________________________________
average_pooling2d_4 (AveragePooling2D)           (None, 4, 40, 128)                          0                
______________________________________________________________________________________________________________
batch_normalization_4 (BatchNormalization)       (None, 4, 40, 128)                          512              
______________________________________________________________________________________________________________
global_average_pooling2d (GlobalAveragePooling2D (None, 128)                                 0                
______________________________________________________________________________________________________________
dense (Dense)                                    (None, 1)                                   129              
==============================================================================================================
Total params: 105,823
Trainable params: 105,327
Non-trainable params: 496
______________________________________________________________________________________________________________
Epoch 1/65
226/226 - 144s - loss: 0.3160 - accuracy: 0.8825 - val_loss: 0.2458 - val_accuracy: 0.9332
Confusion matrix: 
 [[573   0]
 [ 41   0]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/sklearn/metrics/_classification.py:1272: UndefinedMetricWarning: Precision and F-score are ill-defined and being set to 0.0 due to no predicted samples. Use `zero_division` parameter to control this behavior.
  _warn_prf(average, modifier, msg_start, len(result))
Normalized Confusion matrix: 
 [[1. 0.]
 [1. 0.]]
Validation f1: 0.00
Validation accuracy: 93.32
Validation recall: 0.00
Validation precision: 0.00
Validation AUC: 0.06140202025432316
Validation class accuracies: [1.0, 0.0]
2021-06-30 03:43:16.044387: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 577 of 3616
2021-06-30 03:43:26.046393: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1153 of 3616
2021-06-30 03:43:35.960322: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1729 of 3616
2021-06-30 03:43:45.947490: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2305 of 3616
2021-06-30 03:43:55.839084: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2881 of 3616
2021-06-30 03:44:05.805180: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3381 of 3616
2021-06-30 03:44:12.451310: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0 hasn't increased by 0 in 1 epochs
Epoch 2/65
226/226 - 152s - loss: 0.1682 - accuracy: 0.9314 - val_loss: 0.2427 - val_accuracy: 0.9332
Confusion matrix: 
 [[573   0]
 [ 41   0]]
Normalized Confusion matrix: 
 [[1. 0.]
 [1. 0.]]
Validation f1: 0.00
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/sklearn/metrics/_classification.py:1272: UndefinedMetricWarning: Precision and F-score are ill-defined and being set to 0.0 due to no predicted samples. Use `zero_division` parameter to control this behavior.
  _warn_prf(average, modifier, msg_start, len(result))
Validation accuracy: 93.32
Validation recall: 0.00
Validation precision: 0.00
Validation AUC: 0.5101515041328457
Validation class accuracies: [1.0, 0.0]
2021-06-30 03:45:57.144014: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 673 of 3616
2021-06-30 03:46:07.034343: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1233 of 3616
2021-06-30 03:46:17.179963: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1809 of 3616
2021-06-30 03:46:26.937676: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2369 of 3616
2021-06-30 03:46:37.114195: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2961 of 3616
2021-06-30 03:46:46.929301: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3427 of 3616
2021-06-30 03:46:51.771592: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0 hasn't increased by 0 in 2 epochs
Epoch 3/65
226/226 - 151s - loss: 0.1172 - accuracy: 0.9475 - val_loss: 0.2015 - val_accuracy: 0.9381
Confusion matrix: 
 [[573   0]
 [ 38   3]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[1.    0.   ]
 [0.927 0.073]]
Validation f1: 13.64
Validation accuracy: 93.81
Validation recall: 7.32
Validation precision: 100.00
Validation AUC: 0.6352882969368258
Validation class accuracies: [1.0, 0.07317073170731707]
2021-06-30 03:48:37.033106: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 721 of 3616
2021-06-30 03:48:46.890060: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1425 of 3616
2021-06-30 03:48:56.970747: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2145 of 3616
2021-06-30 03:49:06.984978: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2753 of 3616
2021-06-30 03:49:16.847111: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3280 of 3616
2021-06-30 03:49:25.503736: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
Saving model...
Epoch 4/65
226/226 - 145s - loss: 0.0746 - accuracy: 0.9676 - val_loss: 0.1905 - val_accuracy: 0.9414
Confusion matrix: 
 [[558  15]
 [ 21  20]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.974 0.026]
 [0.512 0.488]]
Validation f1: 52.63
Validation accuracy: 94.14
Validation recall: 48.78
Validation precision: 57.14
Validation AUC: 0.568356152154466
Validation class accuracies: [0.9738219895287958, 0.4878048780487805]
2021-06-30 03:51:10.655753: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 705 of 3616
2021-06-30 03:51:20.674181: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1441 of 3616
2021-06-30 03:51:30.810035: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2161 of 3616
2021-06-30 03:51:40.679269: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2865 of 3616
2021-06-30 03:51:50.621798: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3497 of 3616
2021-06-30 03:51:52.772723: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
Saving model...
Epoch 5/65
226/226 - 142s - loss: 0.0421 - accuracy: 0.9809 - val_loss: 0.3061 - val_accuracy: 0.8925
Confusion matrix: 
 [[521  52]
 [ 14  27]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.909 0.091]
 [0.341 0.659]]
Validation f1: 45.00
Validation accuracy: 89.25
Validation recall: 65.85
Validation precision: 34.18
Validation AUC: 0.5355864399667555
Validation class accuracies: [0.9092495636998255, 0.6585365853658537]
2021-06-30 03:53:42.196190: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 721 of 3616
2021-06-30 03:53:52.074864: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1425 of 3616
2021-06-30 03:54:02.127821: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2145 of 3616
2021-06-30 03:54:11.965015: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2849 of 3616
2021-06-30 03:54:21.971306: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3488 of 3616
2021-06-30 03:54:24.305382: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.5263157894736842 hasn't increased by 0 in 1 epochs
Epoch 6/65
226/226 - 139s - loss: 0.0316 - accuracy: 0.9817 - val_loss: 0.2671 - val_accuracy: 0.9218
Confusion matrix: 
 [[545  28]
 [ 20  21]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.951 0.049]
 [0.488 0.512]]
Validation f1: 46.67
Validation accuracy: 92.18
Validation recall: 51.22
Validation precision: 42.86
Validation AUC: 0.5069632340472227
Validation class accuracies: [0.9511343804537522, 0.5121951219512195]
2021-06-30 03:56:12.724510: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 577 of 3616
2021-06-30 03:56:22.909510: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1057 of 3616
2021-06-30 03:56:32.768750: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1681 of 3616
2021-06-30 03:56:42.691661: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2401 of 3616
2021-06-30 03:56:52.683254: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3121 of 3616
2021-06-30 03:57:01.264784: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.5263157894736842 hasn't increased by 0 in 2 epochs
Epoch 7/65
226/226 - 146s - loss: 0.0210 - accuracy: 0.9856 - val_loss: 0.2052 - val_accuracy: 0.9300
Confusion matrix: 
 [[548  25]
 [ 18  23]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.956 0.044]
 [0.439 0.561]]
Validation f1: 51.69
Validation accuracy: 93.00
Validation recall: 56.10
Validation precision: 47.92
Validation AUC: 0.5603261615154935
Validation class accuracies: [0.956369982547993, 0.5609756097560976]
2021-06-30 03:58:49.506944: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 593 of 3616
2021-06-30 03:58:59.376328: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1169 of 3616
2021-06-30 03:59:09.466403: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1761 of 3616
2021-06-30 03:59:19.320289: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2337 of 3616
2021-06-30 03:59:29.281530: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2833 of 3616
2021-06-30 03:59:39.249488: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3352 of 3616
2021-06-30 03:59:44.099984: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.5263157894736842 hasn't increased by 0 in 3 epochs
Epoch 8/65
226/226 - 150s - loss: 0.0165 - accuracy: 0.9862 - val_loss: 0.2196 - val_accuracy: 0.9267
Confusion matrix: 
 [[543  30]
 [ 15  26]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.948 0.052]
 [0.366 0.634]]
Validation f1: 53.61
Validation accuracy: 92.67
Validation recall: 63.41
Validation precision: 46.43
Validation AUC: 0.5719788857915976
Validation class accuracies: [0.9476439790575916, 0.6341463414634146]
2021-06-30 04:01:30.825592: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 561 of 3616
2021-06-30 04:01:40.703970: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1137 of 3616
2021-06-30 04:01:50.843122: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1729 of 3616
2021-06-30 04:02:01.007463: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2321 of 3616
2021-06-30 04:02:10.847834: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2897 of 3616
2021-06-30 04:02:20.693645: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3389 of 3616
2021-06-30 04:02:26.639389: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
Saving model...
Epoch 9/65
226/226 - 152s - loss: 0.0198 - accuracy: 0.9845 - val_loss: 0.2426 - val_accuracy: 0.9202
Confusion matrix: 
 [[542  31]
 [ 18  23]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.946 0.054]
 [0.439 0.561]]
Validation f1: 48.42
Validation accuracy: 92.02
Validation recall: 56.10
Validation precision: 42.59
Validation AUC: 0.5662529183648338
Validation class accuracies: [0.9458987783595113, 0.5609756097560976]
2021-06-30 04:04:11.850933: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 705 of 3616
2021-06-30 04:04:21.700620: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1345 of 3616
2021-06-30 04:04:31.753683: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1921 of 3616
2021-06-30 04:04:41.812374: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2497 of 3616
2021-06-30 04:04:51.692630: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3073 of 3616
2021-06-30 04:05:01.681041: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3507 of 3616
2021-06-30 04:05:04.478989: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.5360824742268041 hasn't increased by 0 in 1 epochs
Epoch 10/65
226/226 - 148s - loss: 0.0148 - accuracy: 0.9856 - val_loss: 0.2320 - val_accuracy: 0.9544
Confusion matrix: 
 [[572   1]
 [ 27  14]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.998 0.002]
 [0.659 0.341]]
Validation f1: 50.00
Validation accuracy: 95.44
Validation recall: 34.15
Validation precision: 93.33
Validation AUC: 0.6454329133766796
Validation class accuracies: [0.9982547993019197, 0.34146341463414637]
2021-06-30 04:06:49.088004: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 705 of 3616
2021-06-30 04:06:59.082466: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1425 of 3616
2021-06-30 04:07:09.125457: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2161 of 3616
2021-06-30 04:07:19.052313: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2881 of 3616
2021-06-30 04:07:29.057423: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3397 of 3616
2021-06-30 04:07:34.695076: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.5360824742268041 hasn't increased by 0 in 2 epochs
Epoch 11/65
226/226 - 141s - loss: 0.0141 - accuracy: 0.9856 - val_loss: 0.8355 - val_accuracy: 0.7785
Confusion matrix: 
 [[443 130]
 [  6  35]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.773 0.227]
 [0.146 0.854]]
Validation f1: 33.98
Validation accuracy: 77.85
Validation recall: 85.37
Validation precision: 21.21
Validation AUC: 0.5299482992356703
Validation class accuracies: [0.7731239092495636, 0.8536585365853658]
2021-06-30 04:09:19.334385: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 721 of 3616
2021-06-30 04:09:29.311287: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1441 of 3616
2021-06-30 04:09:39.195521: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2145 of 3616
2021-06-30 04:09:49.397368: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2881 of 3616
2021-06-30 04:09:59.236383: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3508 of 3616
2021-06-30 04:10:01.186628: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.5360824742268041 hasn't increased by 0 in 3 epochs
Epoch 12/65
226/226 - 139s - loss: 0.0120 - accuracy: 0.9862 - val_loss: 0.2993 - val_accuracy: 0.9039
Confusion matrix: 
 [[528  45]
 [ 14  27]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.921 0.079]
 [0.341 0.659]]
Validation f1: 47.79
Validation accuracy: 90.39
Validation recall: 65.85
Validation precision: 37.50
Validation AUC: 0.5558389036243838
Validation class accuracies: [0.9214659685863874, 0.6585365853658537]
2021-06-30 04:11:51.317164: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 545 of 3616
2021-06-30 04:12:01.234272: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1249 of 3616
2021-06-30 04:12:11.282380: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1969 of 3616
2021-06-30 04:12:21.356059: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2689 of 3616
2021-06-30 04:12:31.192659: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3354 of 3616
2021-06-30 04:12:35.939378: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.5360824742268041 hasn't increased by 0 in 4 epochs
Epoch 13/65
226/226 - 141s - loss: 0.0151 - accuracy: 0.9862 - val_loss: 0.2902 - val_accuracy: 0.9528
Confusion matrix: 
 [[573   0]
 [ 29  12]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[1.    0.   ]
 [0.707 0.293]]
Validation f1: 45.28
Validation accuracy: 95.28
Validation recall: 29.27
Validation precision: 100.00
Validation AUC: 0.6143702553398012
Validation class accuracies: [1.0, 0.2926829268292683]
2021-06-30 04:14:24.016220: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 577 of 3616
2021-06-30 04:14:34.032855: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1153 of 3616
2021-06-30 04:14:44.215826: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1713 of 3616
2021-06-30 04:14:54.011928: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2177 of 3616
2021-06-30 04:15:04.078098: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2897 of 3616
2021-06-30 04:15:13.883489: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3501 of 3616
2021-06-30 04:15:15.930777: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.5360824742268041 hasn't increased by 0 in 5 epochs
Epoch 14/65
226/226 - 149s - loss: 0.0151 - accuracy: 0.9859 - val_loss: 0.2390 - val_accuracy: 0.9381
Confusion matrix: 
 [[550  23]
 [ 15  26]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.96  0.04 ]
 [0.366 0.634]]
Validation f1: 57.78
Validation accuracy: 93.81
Validation recall: 63.41
Validation precision: 53.06
Validation AUC: 0.6116094151288128
Validation class accuracies: [0.9598603839441536, 0.6341463414634146]
2021-06-30 04:17:05.117529: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 577 of 3616
2021-06-30 04:17:14.908866: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1153 of 3616
2021-06-30 04:17:25.030198: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1745 of 3616
2021-06-30 04:17:34.916281: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2321 of 3616
2021-06-30 04:17:45.020395: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2913 of 3616
2021-06-30 04:17:54.865602: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3392 of 3616
2021-06-30 04:18:02.310812: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
Saving model...
Epoch 15/65
226/226 - 153s - loss: 0.0137 - accuracy: 0.9859 - val_loss: 0.1955 - val_accuracy: 0.9365
Confusion matrix: 
 [[555  18]
 [ 21  20]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.969 0.031]
 [0.512 0.488]]
Validation f1: 50.63
Validation accuracy: 93.65
Validation recall: 48.78
Validation precision: 52.63
Validation AUC: 0.5559912479362976
Validation class accuracies: [0.9685863874345549, 0.4878048780487805]
2021-06-30 04:19:46.545468: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 561 of 3616
2021-06-30 04:19:56.687404: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1121 of 3616
2021-06-30 04:20:06.560661: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1697 of 3616
2021-06-30 04:20:16.639172: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2289 of 3616
2021-06-30 04:20:26.504027: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2865 of 3616
2021-06-30 04:20:36.507650: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3374 of 3616
2021-06-30 04:20:42.681843: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.5777777777777778 hasn't increased by 0 in 1 epochs
Epoch 16/65
226/226 - 152s - loss: 0.0123 - accuracy: 0.9862 - val_loss: 0.2199 - val_accuracy: 0.9332
Confusion matrix: 
 [[551  22]
 [ 19  22]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.962 0.038]
 [0.463 0.537]]
Validation f1: 51.76
Validation accuracy: 93.32
Validation recall: 53.66
Validation precision: 50.00
Validation AUC: 0.577062461276588
Validation class accuracies: [0.9616055846422339, 0.5365853658536586]
2021-06-30 04:22:27.241141: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 721 of 3616
2021-06-30 04:22:37.357675: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1441 of 3616
2021-06-30 04:22:47.312245: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2113 of 3616
2021-06-30 04:22:57.425304: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2689 of 3616
2021-06-30 04:23:07.233373: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3239 of 3616
2021-06-30 04:23:16.884118: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.5777777777777778 hasn't increased by 0 in 2 epochs
Epoch 17/65
226/226 - 145s - loss: 0.0107 - accuracy: 0.9862 - val_loss: 0.2926 - val_accuracy: 0.9300
Confusion matrix: 
 [[549  24]
 [ 19  22]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.958 0.042]
 [0.463 0.537]]
Validation f1: 50.57
Validation accuracy: 93.00
Validation recall: 53.66
Validation precision: 47.83
Validation AUC: 0.5152199411615523
Validation class accuracies: [0.9581151832460733, 0.5365853658536586]
2021-06-30 04:25:01.586960: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 705 of 3616
2021-06-30 04:25:11.514689: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1425 of 3616
2021-06-30 04:25:21.486002: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2145 of 3616
2021-06-30 04:25:31.470895: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2849 of 3616
2021-06-30 04:25:41.470503: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3487 of 3616
2021-06-30 04:25:43.806157: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.5777777777777778 hasn't increased by 0 in 3 epochs
Epoch 18/65
226/226 - 141s - loss: 0.0128 - accuracy: 0.9859 - val_loss: 0.2704 - val_accuracy: 0.9430
Confusion matrix: 
 [[560  13]
 [ 22  19]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.977 0.023]
 [0.537 0.463]]
Validation f1: 52.05
Validation accuracy: 94.30
Validation recall: 46.34
Validation precision: 59.38
Validation AUC: 0.5708490902451702
Validation class accuracies: [0.9773123909249564, 0.4634146341463415]
2021-06-30 04:27:31.688281: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 705 of 3616
2021-06-30 04:27:41.754458: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1441 of 3616
2021-06-30 04:27:51.686136: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2145 of 3616
2021-06-30 04:28:01.764777: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2849 of 3616
2021-06-30 04:28:11.685263: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3485 of 3616
2021-06-30 04:28:14.028025: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.5777777777777778 hasn't increased by 0 in 4 epochs
Epoch 19/65
226/226 - 139s - loss: 0.0102 - accuracy: 0.9862 - val_loss: 0.2982 - val_accuracy: 0.9202
Confusion matrix: 
 [[541  32]
 [ 17  24]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.944 0.056]
 [0.415 0.585]]
Validation f1: 49.48
Validation accuracy: 92.02
Validation recall: 58.54
Validation precision: 42.86
Validation AUC: 0.5066655243576481
Validation class accuracies: [0.944153577661431, 0.5853658536585366]
2021-06-30 04:30:01.929692: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 545 of 3616
2021-06-30 04:30:11.913371: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1010 of 3616
2021-06-30 04:30:22.102458: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1745 of 3616
2021-06-30 04:30:31.934218: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2449 of 3616
2021-06-30 04:30:42.059291: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3169 of 3616
2021-06-30 04:30:49.934032: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.5777777777777778 hasn't increased by 0 in 5 epochs
Epoch 20/65
226/226 - 145s - loss: 0.0103 - accuracy: 0.9862 - val_loss: 0.2275 - val_accuracy: 0.9414
Confusion matrix: 
 [[553  20]
 [ 16  25]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.965 0.035]
 [0.39  0.61 ]]
Validation f1: 58.14
Validation accuracy: 94.14
Validation recall: 60.98
Validation precision: 55.56
Validation AUC: 0.6137722246847112
Validation class accuracies: [0.9650959860383944, 0.6097560975609756]
2021-06-30 04:32:38.280187: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 577 of 3616
2021-06-30 04:32:48.257492: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1169 of 3616
2021-06-30 04:32:58.330278: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1761 of 3616
2021-06-30 04:33:08.502072: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2337 of 3616
2021-06-30 04:33:18.286826: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2769 of 3616
2021-06-30 04:33:28.264976: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3428 of 3616
2021-06-30 04:33:31.632508: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
Saving model...
Epoch 21/65
226/226 - 150s - loss: 0.0098 - accuracy: 0.9862 - val_loss: 0.3092 - val_accuracy: 0.9544
Confusion matrix: 
 [[572   1]
 [ 27  14]]
Normalized Confusion matrix: 
 [[0.998 0.002]
 [0.659 0.341]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 50.00
Validation accuracy: 95.44
Validation recall: 34.15
Validation precision: 93.33
Validation AUC: 0.6118486929428004
Validation class accuracies: [0.9982547993019197, 0.34146341463414637]
2021-06-30 04:35:20.129958: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 577 of 3616
2021-06-30 04:35:30.200224: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1169 of 3616
2021-06-30 04:35:40.093591: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1745 of 3616
2021-06-30 04:35:50.240997: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2337 of 3616
2021-06-30 04:36:00.106104: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2913 of 3616
2021-06-30 04:36:10.083271: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3407 of 3616
2021-06-30 04:36:15.362427: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.5813953488372093 hasn't increased by 0 in 1 epochs
Epoch 22/65
226/226 - 151s - loss: 0.0103 - accuracy: 0.9862 - val_loss: 0.2089 - val_accuracy: 0.9446
Confusion matrix: 
 [[560  13]
 [ 21  20]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.977 0.023]
 [0.512 0.488]]
Validation f1: 54.05
Validation accuracy: 94.46
Validation recall: 48.78
Validation precision: 60.61
Validation AUC: 0.590120002020607
Validation class accuracies: [0.9773123909249564, 0.4878048780487805]
2021-06-30 04:37:59.828427: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 705 of 3616
2021-06-30 04:38:09.929801: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1297 of 3616
2021-06-30 04:38:19.800934: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1857 of 3616
2021-06-30 04:38:29.850805: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2449 of 3616
2021-06-30 04:38:39.927135: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3041 of 3616
2021-06-30 04:38:49.756809: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3487 of 3616
2021-06-30 04:38:52.960955: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.5813953488372093 hasn't increased by 0 in 2 epochs
Epoch 23/65
226/226 - 149s - loss: 0.0096 - accuracy: 0.9859 - val_loss: 0.2366 - val_accuracy: 0.9300
Confusion matrix: 
 [[546  27]
 [ 16  25]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.953 0.047]
 [0.39  0.61 ]]
Validation f1: 53.76
Validation accuracy: 93.00
Validation recall: 60.98
Validation precision: 48.08
Validation AUC: 0.6131726096287201
Validation class accuracies: [0.9528795811518325, 0.6097560975609756]
2021-06-30 04:40:38.062710: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 721 of 3616
2021-06-30 04:40:47.906181: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1425 of 3616
2021-06-30 04:40:58.008568: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2161 of 3616
2021-06-30 04:41:07.854721: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2833 of 3616
2021-06-30 04:41:17.885263: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3351 of 3616
2021-06-30 04:41:24.960246: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.5813953488372093 hasn't increased by 0 in 3 epochs
Epoch 24/65
226/226 - 143s - loss: 0.0095 - accuracy: 0.9859 - val_loss: 0.3509 - val_accuracy: 0.9202
Confusion matrix: 
 [[543  30]
 [ 19  22]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.948 0.052]
 [0.463 0.537]]
Validation f1: 47.31
Validation accuracy: 92.02
Validation recall: 53.66
Validation precision: 42.31
Validation AUC: 0.5584081073671706
Validation class accuracies: [0.9476439790575916, 0.5365853658536586]
2021-06-30 04:43:09.509133: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 721 of 3616
2021-06-30 04:43:19.476226: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1441 of 3616
2021-06-30 04:43:29.368938: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2145 of 3616
2021-06-30 04:43:39.415337: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2881 of 3616
2021-06-30 04:43:49.337693: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3508 of 3616
2021-06-30 04:43:51.270241: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.5813953488372093 hasn't increased by 0 in 4 epochs
Epoch 25/65
226/226 - 139s - loss: 0.0102 - accuracy: 0.9856 - val_loss: 0.2258 - val_accuracy: 0.9544
Confusion matrix: 
 [[568   5]
 [ 23  18]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.991 0.009]
 [0.561 0.439]]
Validation f1: 56.25
Validation accuracy: 95.44
Validation recall: 43.90
Validation precision: 78.26
Validation AUC: 0.5959472455223073
Validation class accuracies: [0.9912739965095986, 0.43902439024390244]
2021-06-30 04:45:41.766250: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 705 of 3616
2021-06-30 04:45:51.802701: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1425 of 3616
2021-06-30 04:46:01.804630: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2145 of 3616
2021-06-30 04:46:11.897455: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2881 of 3616
2021-06-30 04:46:21.724020: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3512 of 3616
2021-06-30 04:46:23.568912: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.5813953488372093 hasn't increased by 0 in 5 epochs
Epoch 26/65
226/226 - 138s - loss: 0.0091 - accuracy: 0.9862 - val_loss: 0.2695 - val_accuracy: 0.9479
Confusion matrix: 
 [[562  11]
 [ 21  20]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.981 0.019]
 [0.512 0.488]]
Validation f1: 55.56
Validation accuracy: 94.79
Validation recall: 48.78
Validation precision: 64.52
Validation AUC: 0.5861180241807251
Validation class accuracies: [0.9808027923211169, 0.4878048780487805]
2021-06-30 04:48:11.363399: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 577 of 3616
2021-06-30 04:48:21.317097: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1169 of 3616
2021-06-30 04:48:31.405757: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1633 of 3616
2021-06-30 04:48:41.371545: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2289 of 3616
2021-06-30 04:48:51.349502: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3009 of 3616
2021-06-30 04:49:01.281096: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3611 of 3616
2021-06-30 04:49:01.331538: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.5813953488372093 hasn't increased by 0 in 6 epochs
Lr has been adjusted to 0.0005000000237487257
Epoch 27/65
226/226 - 147s - loss: 0.0094 - accuracy: 0.9862 - val_loss: 0.2511 - val_accuracy: 0.9381
Confusion matrix: 
 [[557  16]
 [ 22  19]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.972 0.028]
 [0.537 0.463]]
Validation f1: 50.00
Validation accuracy: 93.81
Validation recall: 46.34
Validation precision: 54.29
Validation AUC: 0.5818048326962623
Validation class accuracies: [0.9720767888307156, 0.4634146341463415]
2021-06-30 04:50:49.395188: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 577 of 3616
2021-06-30 04:50:59.376825: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1153 of 3616
2021-06-30 04:51:09.260404: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1729 of 3616
2021-06-30 04:51:19.345938: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2321 of 3616
2021-06-30 04:51:29.274995: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2897 of 3616
2021-06-30 04:51:39.212355: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3352 of 3616
2021-06-30 04:51:47.517074: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.5813953488372093 hasn't increased by 0 in 7 epochs
Epoch 28/65
226/226 - 153s - loss: 0.0085 - accuracy: 0.9859 - val_loss: 0.2660 - val_accuracy: 0.9381
Confusion matrix: 
 [[551  22]
 [ 16  25]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.962 0.038]
 [0.39  0.61 ]]
Validation f1: 56.82
Validation accuracy: 93.81
Validation recall: 60.98
Validation precision: 53.19
Validation AUC: 0.5799803988976271
Validation class accuracies: [0.9616055846422339, 0.6097560975609756]
2021-06-30 04:53:32.093179: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 561 of 3616
2021-06-30 04:53:41.951712: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1121 of 3616
2021-06-30 04:53:52.170846: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1729 of 3616
2021-06-30 04:54:02.196594: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2321 of 3616
2021-06-30 04:54:12.045181: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2897 of 3616
2021-06-30 04:54:21.977624: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3390 of 3616
2021-06-30 04:54:27.769377: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.5813953488372093 hasn't increased by 0 in 8 epochs
Epoch 29/65
226/226 - 152s - loss: 0.0086 - accuracy: 0.9862 - val_loss: 0.2440 - val_accuracy: 0.9349
Confusion matrix: 
 [[551  22]
 [ 18  23]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.962 0.038]
 [0.439 0.561]]
Validation f1: 53.49
Validation accuracy: 93.49
Validation recall: 56.10
Validation precision: 51.11
Validation AUC: 0.5830408364157796
Validation class accuracies: [0.9616055846422339, 0.5609756097560976]
2021-06-30 04:56:12.794755: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 705 of 3616
2021-06-30 04:56:22.772208: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1409 of 3616
2021-06-30 04:56:32.850017: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2049 of 3616
2021-06-30 04:56:42.705845: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2609 of 3616
2021-06-30 04:56:52.866088: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3201 of 3616
2021-06-30 04:57:02.689451: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3587 of 3616
2021-06-30 04:57:03.376097: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.5813953488372093 hasn't increased by 0 in 9 epochs
Epoch 30/65
226/226 - 147s - loss: 0.0082 - accuracy: 0.9862 - val_loss: 0.2656 - val_accuracy: 0.9397
Confusion matrix: 
 [[559  14]
 [ 23  18]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.976 0.024]
 [0.561 0.439]]
Validation f1: 49.32
Validation accuracy: 93.97
Validation recall: 43.90
Validation precision: 56.25
Validation AUC: 0.562614891651614
Validation class accuracies: [0.9755671902268761, 0.43902439024390244]
2021-06-30 04:58:48.528943: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 721 of 3616
2021-06-30 04:58:58.464584: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1441 of 3616
2021-06-30 04:59:08.454706: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2161 of 3616
2021-06-30 04:59:18.527684: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2881 of 3616
2021-06-30 04:59:28.428753: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3512 of 3616
2021-06-30 04:59:30.942650: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.5813953488372093 hasn't increased by 0 in 10 epochs
Epoch 31/65
226/226 - 139s - loss: 0.0083 - accuracy: 0.9862 - val_loss: 0.2502 - val_accuracy: 0.9349
Confusion matrix: 
 [[553  20]
 [ 20  21]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.965 0.035]
 [0.488 0.512]]
Validation f1: 51.22
Validation accuracy: 93.49
Validation recall: 51.22
Validation precision: 51.22
Validation AUC: 0.5665189666422331
Validation class accuracies: [0.9650959860383944, 0.5121951219512195]
2021-06-30 05:01:16.660094: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 721 of 3616
2021-06-30 05:01:26.766173: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1441 of 3616
2021-06-30 05:01:36.691362: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2161 of 3616
2021-06-30 05:01:46.750446: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2897 of 3616
2021-06-30 05:01:56.608060: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3517 of 3616
2021-06-30 05:01:58.385243: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.5813953488372093 hasn't increased by 0 in 11 epochs
Epoch 32/65
226/226 - 138s - loss: 0.0081 - accuracy: 0.9862 - val_loss: 0.2768 - val_accuracy: 0.9365
Confusion matrix: 
 [[556  17]
 [ 22  19]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.97  0.03 ]
 [0.537 0.463]]
Validation f1: 49.35
Validation accuracy: 93.65
Validation recall: 46.34
Validation precision: 52.78
Validation AUC: 0.5568599998211928
Validation class accuracies: [0.9703315881326352, 0.4634146341463415]
2021-06-30 05:03:45.562458: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 507 of 3616
2021-06-30 05:03:55.623777: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1041 of 3616
2021-06-30 05:04:05.723616: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1761 of 3616
2021-06-30 05:04:15.573167: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2465 of 3616
2021-06-30 05:04:25.682768: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3185 of 3616
2021-06-30 05:04:33.282801: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.5813953488372093 hasn't increased by 0 in 12 epochs
Lr has been adjusted to 0.0002500000118743628
Epoch 33/65
226/226 - 144s - loss: 0.0073 - accuracy: 0.9862 - val_loss: 0.2577 - val_accuracy: 0.9446
Confusion matrix: 
 [[561  12]
 [ 22  19]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.979 0.021]
 [0.537 0.463]]
Validation f1: 52.78
Validation accuracy: 94.46
Validation recall: 46.34
Validation precision: 61.29
Validation AUC: 0.5558269968137728
Validation class accuracies: [0.9790575916230366, 0.4634146341463415]
2021-06-30 05:06:21.104574: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 577 of 3616
2021-06-30 05:06:30.986957: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1153 of 3616
2021-06-30 05:06:41.089928: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1745 of 3616
2021-06-30 05:06:51.176280: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2289 of 3616
2021-06-30 05:07:01.125510: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2785 of 3616
2021-06-30 05:07:10.954552: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3444 of 3616
2021-06-30 05:07:14.060133: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.5813953488372093 hasn't increased by 0 in 13 epochs
Epoch 34/65
226/226 - 150s - loss: 0.0071 - accuracy: 0.9862 - val_loss: 0.2625 - val_accuracy: 0.9349
Confusion matrix: 
 [[554  19]
 [ 21  20]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.967 0.033]
 [0.512 0.488]]
Validation f1: 50.00
Validation accuracy: 93.49
Validation recall: 48.78
Validation precision: 51.28
Validation AUC: 0.5630724678154103
Validation class accuracies: [0.9668411867364747, 0.4878048780487805]
2021-06-30 05:09:02.534590: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 593 of 3616
2021-06-30 05:09:12.562557: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1185 of 3616
2021-06-30 05:09:22.557391: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1777 of 3616
2021-06-30 05:09:32.431045: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2353 of 3616
2021-06-30 05:09:42.374689: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2929 of 3616
2021-06-30 05:09:52.319016: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3416 of 3616
2021-06-30 05:09:57.433431: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.5813953488372093 hasn't increased by 0 in 14 epochs
Epoch 35/65
226/226 - 151s - loss: 0.0072 - accuracy: 0.9862 - val_loss: 0.2711 - val_accuracy: 0.9414
Confusion matrix: 
 [[560  13]
 [ 23  18]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.977 0.023]
 [0.561 0.439]]
Validation f1: 50.00
Validation accuracy: 94.14
Validation recall: 43.90
Validation precision: 58.06
Validation AUC: 0.5505035471239504
Validation class accuracies: [0.9773123909249564, 0.43902439024390244]
2021-06-30 05:11:42.066788: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 705 of 3616
2021-06-30 05:11:52.167049: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1281 of 3616
2021-06-30 05:12:02.173135: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1841 of 3616
2021-06-30 05:12:12.086768: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2433 of 3616
2021-06-30 05:12:22.230433: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3025 of 3616
2021-06-30 05:12:31.973229: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3471 of 3616
2021-06-30 05:12:35.648717: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.5813953488372093 hasn't increased by 0 in 15 epochs
Epoch 36/65
226/226 - 149s - loss: 0.0068 - accuracy: 0.9862 - val_loss: 0.2708 - val_accuracy: 0.9349
Confusion matrix: 
 [[554  19]
 [ 21  20]]
Normalized Confusion matrix: 
 [[0.967 0.033]
 [0.512 0.488]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 50.00
Validation accuracy: 93.49
Validation recall: 48.78
Validation precision: 51.28
Validation AUC: 0.5542254183779305
Validation class accuracies: [0.9668411867364747, 0.4878048780487805]
2021-06-30 05:14:20.239477: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 721 of 3616
2021-06-30 05:14:30.253634: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1425 of 3616
2021-06-30 05:14:40.182820: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2145 of 3616
2021-06-30 05:14:50.250274: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2801 of 3616
2021-06-30 05:15:00.076534: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3319 of 3616
2021-06-30 05:15:08.065086: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.5813953488372093 hasn't increased by 0 in 16 epochs
Epoch 37/65
226/226 - 143s - loss: 0.0073 - accuracy: 0.9862 - val_loss: 0.2512 - val_accuracy: 0.9414
Confusion matrix: 
 [[559  14]
 [ 22  19]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.976 0.024]
 [0.537 0.463]]
Validation f1: 51.35
Validation accuracy: 94.14
Validation recall: 46.34
Validation precision: 57.58
Validation AUC: 0.5656857034608848
Validation class accuracies: [0.9755671902268761, 0.4634146341463415]
2021-06-30 05:16:52.353962: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 721 of 3616
2021-06-30 05:17:02.212732: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1441 of 3616
2021-06-30 05:17:12.266818: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2161 of 3616
2021-06-30 05:17:22.293485: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2881 of 3616
2021-06-30 05:17:32.211337: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3510 of 3616
2021-06-30 05:17:34.165494: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.5813953488372093 hasn't increased by 0 in 17 epochs
Epoch 38/65
226/226 - 140s - loss: 0.0067 - accuracy: 0.9862 - val_loss: 0.2598 - val_accuracy: 0.9381
Confusion matrix: 
 [[559  14]
 [ 24  17]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.976 0.024]
 [0.585 0.415]]
Validation f1: 47.22
Validation accuracy: 93.81
Validation recall: 41.46
Validation precision: 54.84
Validation AUC: 0.5690168729137328
Validation class accuracies: [0.9755671902268761, 0.4146341463414634]
2021-06-30 05:19:24.606787: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 721 of 3616
2021-06-30 05:19:34.593940: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1441 of 3616
2021-06-30 05:19:44.431264: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2161 of 3616
2021-06-30 05:19:54.587599: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2897 of 3616
2021-06-30 05:20:04.449190: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3525 of 3616
2021-06-30 05:20:06.132917: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.5813953488372093 hasn't increased by 0 in 18 epochs
Lr has been adjusted to 0.0001250000059371814
Epoch 39/65
226/226 - 138s - loss: 0.0078 - accuracy: 0.9862 - val_loss: 0.2542 - val_accuracy: 0.9414
Confusion matrix: 
 [[558  15]
 [ 21  20]]
Normalized Confusion matrix: 
 [[0.974 0.026]
 [0.512 0.488]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 52.63
Validation accuracy: 94.14
Validation recall: 48.78
Validation precision: 57.14
Validation AUC: 0.5686973920620839
Validation class accuracies: [0.9738219895287958, 0.4878048780487805]
2021-06-30 05:21:54.075334: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 577 of 3616
2021-06-30 05:22:04.036042: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1153 of 3616
2021-06-30 05:22:13.930953: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1585 of 3616
2021-06-30 05:22:24.050595: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2305 of 3616
2021-06-30 05:22:33.972302: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3025 of 3616
2021-06-30 05:22:43.857355: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.5813953488372093 hasn't increased by 0 in 19 epochs
Epoch 40/65
226/226 - 146s - loss: 0.0070 - accuracy: 0.9862 - val_loss: 0.2599 - val_accuracy: 0.9397
Confusion matrix: 
 [[559  14]
 [ 23  18]]
Normalized Confusion matrix: 
 [[0.976 0.024]
 [0.561 0.439]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 49.32
Validation accuracy: 93.97
Validation recall: 43.90
Validation precision: 56.25
Validation AUC: 0.5651912004069259
Validation class accuracies: [0.9755671902268761, 0.43902439024390244]

The metrics for job 0 with the best target metric are: 
Best cm: [[553  20]
 [ 16  25]]
Best normalized cm: [[0.965 0.035]
 [0.39  0.61 ]]
Best f1: 0.58
Best accuracy: 0.94
Best recall: 0.61
Best precision: 0.56
Best AUC: 0.61
Best class accuracies: [0.9650959860383944, 0.6097560975609756]
Best epoch: 20
The number of epochs since last 1% equals the patience
../../new_cache/conv__2275__06_0339__v39__mixup/0/icbhi_213_1p3_Pl_mc_AKGC417L_3_label_0_pred_0.png, [[0.001]]
../../new_cache/conv__2275__06_0339__v39__mixup/0/icbhi_213_1p2_Ar_mc_AKGC417L_2_label_0_pred_0.png, [[6.919e-05]]
../../new_cache/conv__2275__06_0339__v39__mixup/0/icbhi_207_3b2_Al_mc_AKGC417L_0_label_0_pred_0.png, [[7.084e-05]]
../../new_cache/conv__2275__06_0339__v39__mixup/0/icbhi_221_2b3_Pr_mc_LittC2SE_3_label_0_pred_0.png, [[0.247]]
../../new_cache/conv__2275__06_0339__v39__mixup/0/icbhi_213_1p2_Pl_mc_AKGC417L_2_label_0_pred_0.png, [[7.485e-05]]
../../new_cache/conv__2275__06_0339__v39__mixup/0/icbhi_213_1p5_Tc_mc_AKGC417L_3_label_0_pred_0.png, [[0.001]]
../../new_cache/conv__2275__06_0339__v39__mixup/0/icbhi_205_4b2_Al_mc_AKGC417L_1_label_0_pred_0.png, [[0.005]]
../../new_cache/conv__2275__06_0339__v39__mixup/0/icbhi_218_1p1_Pr_sc_Litt3200_0_label_0_pred_0.png, [[0.001]]
../../new_cache/conv__2275__06_0339__v39__mixup/0/icbhi_204_2b5_Al_mc_AKGC417L_3_label_0_pred_0.png, [[0.]]
../../new_cache/conv__2275__06_0339__v39__mixup/0/icbhi_221_2b3_Al_mc_LittC2SE_3_label_0_pred_0.png, [[0.122]]
../../new_cache/conv__2275__06_0339__v39__mixup/0/icbhi_213_1p3_Pr_mc_AKGC417L_3_label_0_pred_0.png, [[9.287e-05]]
../../new_cache/conv__2275__06_0339__v39__mixup/0/icbhi_205_2b3_Ll_mc_AKGC417L_2_label_0_pred_0.png, [[4.892e-06]]
../../new_cache/conv__2275__06_0339__v39__mixup/0/icbhi_207_3b2_Tc_mc_AKGC417L_1_label_0_pred_0.png, [[5.167e-05]]
../../new_cache/conv__2275__06_0339__v39__mixup/0/icbhi_222_1b1_Pr_sc_Meditron_3_label_0_pred_0.png, [[1.376e-06]]
../../new_cache/conv__2275__06_0339__v39__mixup/0/icbhi_216_1b1_Pl_sc_Meditron_3_label_0_pred_0.png, [[4.079e-05]]
../../new_cache/conv__2275__06_0339__v39__mixup/0/icbhi_207_3b2_Ar_mc_AKGC417L_3_label_0_pred_0.png, [[0.006]]
../../new_cache/conv__2275__06_0339__v39__mixup/0/icbhi_221_2b1_Ar_mc_LittC2SE_1_label_0_pred_0.png, [[0.085]]
../../new_cache/conv__2275__06_0339__v39__mixup/0/icbhi_203_2p3_Pr_mc_AKGC417L_2_label_0_pred_0.png, [[3.898e-06]]
../../new_cache/conv__2275__06_0339__v39__mixup/0/icbhi_211_1p2_Pl_mc_AKGC417L_2_label_0_pred_0.png, [[8.183e-05]]
../../new_cache/conv__2275__06_0339__v39__mixup/0/icbhi_211_1p2_Ar_mc_AKGC417L_3_label_0_pred_0.png, [[3.185e-05]]
../../new_cache/conv__2275__06_0339__v39__mixup/0/icbhi_213_2p2_Pl_mc_AKGC417L_1_label_0_pred_0.png, [[0.004]]
../../new_cache/conv__2275__06_0339__v39__mixup/0/icbhi_223_1b1_Pr_sc_Meditron_0_label_0_pred_0.png, [[0.019]]
../../new_cache/conv__2275__06_0339__v39__mixup/0/icbhi_220_1b1_Tc_mc_LittC2SE_0_label_0_pred_0.png, [[9.864e-05]]
../../new_cache/conv__2275__06_0339__v39__mixup/0/icbhi_218_1b1_Pl_sc_Meditron_2_label_0_pred_0.png, [[9.077e-09]]
../../new_cache/conv__2275__06_0339__v39__mixup/0/icbhi_213_1p3_Pr_mc_AKGC417L_1_label_0_pred_0.png, [[0.001]]
../../new_cache/conv__2275__06_0339__v39__mixup/0/icbhi_218_1b1_Al_sc_Meditron_11_label_0_pred_0.png, [[0.]]
../../new_cache/conv__2275__06_0339__v39__mixup/0/icbhi_214_1b1_Ar_sc_Meditron_2_label_0_pred_0.png, [[4.761e-05]]
../../new_cache/conv__2275__06_0339__v39__mixup/0/icbhi_218_1b1_Al_sc_Meditron_5_label_0_pred_0.png, [[6.628e-08]]
../../new_cache/conv__2275__06_0339__v39__mixup/0/icbhi_216_1b1_Pl_sc_Meditron_2_label_0_pred_0.png, [[0.]]
../../new_cache/conv__2275__06_0339__v39__mixup/0/icbhi_222_1b1_Lr_sc_Meditron_12_label_0_pred_0.png, [[1.637e-06]]
../../new_cache/conv__2275__06_0339__v39__mixup/0/icbhi_213_1p2_Pr_mc_AKGC417L_2_label_0_pred_0.png, [[5.914e-06]]
../../new_cache/conv__2275__06_0339__v39__mixup/0/icbhi_204_2b5_Al_mc_AKGC417L_0_label_0_pred_0.png, [[0.001]]
../../new_cache/conv__2275__06_0339__v39__mixup/0/icbhi_205_4b2_Al_mc_AKGC417L_3_label_0_pred_0.png, [[0.003]]
../../new_cache/conv__2275__06_0339__v39__mixup/0/icbhi_215_1b2_Ar_sc_Meditron_2_label_0_pred_0.png, [[8.774e-05]]
../../new_cache/conv__2275__06_0339__v39__mixup/0/icbhi_220_1b1_Tc_mc_LittC2SE_3_label_0_pred_0.png, [[0.]]
../../new_cache/conv__2275__06_0339__v39__mixup/0/icbhi_207_2b4_Ar_mc_AKGC417L_2_label_0_pred_0.png, [[3.147e-06]]
../../new_cache/conv__2275__06_0339__v39__mixup/0/icbhi_207_2b4_Al_mc_AKGC417L_2_label_0_pred_0.png, [[2.61e-05]]
../../new_cache/conv__2275__06_0339__v39__mixup/0/icbhi_213_1p2_Al_mc_AKGC417L_2_label_0_pred_0.png, [[0.]]
../../new_cache/conv__2275__06_0339__v39__mixup/0/icbhi_213_1p5_Pl_mc_AKGC417L_2_label_0_pred_0.png, [[0.]]
../../new_cache/conv__2275__06_0339__v39__mixup/0/icbhi_218_1b1_Pr_sc_Meditron_8_label_0_pred_0.png, [[4.461e-06]]
../../new_cache/conv__2275__06_0339__v39__mixup/0/icbhi_207_2b4_Ar_mc_AKGC417L_3_label_0_pred_0.png, [[0.]]
../../new_cache/conv__2275__06_0339__v39__mixup/0/icbhi_203_2p3_Al_mc_AKGC417L_0_label_0_pred_0.png, [[0.002]]
../../new_cache/conv__2275__06_0339__v39__mixup/0/icbhi_226_1b1_Pl_sc_LittC2SE_1_label_1_pred_0.png, [[8.301e-06]]
../../new_cache/conv__2275__06_0339__v39__mixup/0/icbhi_221_2b3_Lr_mc_LittC2SE_0_label_0_pred_0.png, [[0.321]]
../../new_cache/conv__2275__06_0339__v39__mixup/0/icbhi_221_2b1_Al_mc_LittC2SE_2_label_0_pred_0.png, [[0.009]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
wandb: Waiting for W&B process to finish, PID 6812
wandb: Program ended successfully.
wandb: Find user logs for this run at: /home/alirachidi/classification_algorithm/trainers/main/wandb/offline-run-20210630_033932-2rissycl/logs/debug.log
wandb: Find internal logs for this run at: /home/alirachidi/classification_algorithm/trainers/main/wandb/offline-run-20210630_033932-2rissycl/logs/debug-internal.log
wandb: Run summary:
wandb:       train_accuracy 0.98617
wandb:         val_accuracy 0.93974
wandb:             _runtime 6289
wandb:           _timestamp 1625030661
wandb:                _step 294
wandb:           train_loss 0.00696
wandb:             val_loss 0.25987
wandb:           val_recall 0.43902
wandb:        val_precision 0.5625
wandb:               val_f1 0.49315
wandb:              val_auc 0.56519
wandb:                   lr 0.00013
wandb:          best_val_f1 0.5814
wandb:    best_val_accuracy 0.94137
wandb:   best_val_precision 0.55556
wandb:      best_val_recall 0.60976
wandb:             best_auc 0.61377
wandb:           best_epoch 20
wandb: Run history:
wandb:   train_accuracy 
wandb:     val_accuracy 
wandb:         _runtime 
wandb:       _timestamp 
wandb:            _step 
wandb:       train_loss 
wandb:         val_loss 
wandb:       val_recall 
wandb:    val_precision 
wandb:           val_f1 
wandb:          val_auc 
wandb:               lr 
wandb: 
wandb: You can sync this run to the cloud by running:
wandb: wandb sync /home/alirachidi/classification_algorithm/trainers/main/wandb/offline-run-20210630_033932-2rissycl

-----------------------
Changing augmentation to v43
Audio Augmentation Parameters: {'ADD': 1, 'QUANTITY': 1000, 'WAV_PATH': 'v43'}
Collecting Variables...
All variables have been collected.
wandb: W&B syncing is set to `offline` in this directory.  Run `wandb online` or set WANDB_MODE=online to enable cloud syncing.
2021-06-30 05:26:14.292170: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 705 of 3616
2021-06-30 05:26:24.284329: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1425 of 3616
2021-06-30 05:26:34.478870: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2161 of 3616
2021-06-30 05:26:44.435716: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2881 of 3616
2021-06-30 05:26:54.286020: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3382 of 3616
2021-06-30 05:27:00.467136: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
Pneumonia patients: 148, Non-pneumonia patients: 2873
Pneumonia patients: 51, Non-pneumonia patients: 0
-----------------------
Number of train recordings: 2458 with pneumonia: 158 and non-pneumonia: 2300
Length of training samples after audio augmentation: 2616
-----------------------
Number of train recordings: 2616 with pneumonia: 316 and non-pneumonia: 2300
Length of training samples after audio augmentation: 3216
-----------------------
Number of train recordings: 3216 with pneumonia: 316 and non-pneumonia: 2900
Number of val recordings: 614 with pneumonia: 41 and non-pneumonia: 573
-----------------------
New dataset length after mix-up augmentation: 3616
Model: "conv2d"
______________________________________________________________________________________________________________
Layer (type)                                     Output Shape                                Param #          
==============================================================================================================
input_2 (InputLayer)                             [(None, 128, 1250, 1)]                      0                
______________________________________________________________________________________________________________
conv2d_5 (Conv2D)                                (None, 128, 1250, 8)                        80               
______________________________________________________________________________________________________________
mix_depth_group_convolution2d_5 (MixDepthGroupCo (None, 128, 1250, 8)                        162              
______________________________________________________________________________________________________________
average_pooling2d_5 (AveragePooling2D)           (None, 64, 625, 8)                          0                
______________________________________________________________________________________________________________
batch_normalization_5 (BatchNormalization)       (None, 64, 625, 8)                          32               
______________________________________________________________________________________________________________
conv2d_6 (Conv2D)                                (None, 64, 625, 16)                         1168             
______________________________________________________________________________________________________________
mix_depth_group_convolution2d_6 (MixDepthGroupCo (None, 64, 625, 16)                         414              
______________________________________________________________________________________________________________
average_pooling2d_6 (AveragePooling2D)           (None, 32, 313, 16)                         0                
______________________________________________________________________________________________________________
batch_normalization_6 (BatchNormalization)       (None, 32, 313, 16)                         64               
______________________________________________________________________________________________________________
conv2d_7 (Conv2D)                                (None, 32, 313, 32)                         4640             
______________________________________________________________________________________________________________
mix_depth_group_convolution2d_7 (MixDepthGroupCo (None, 32, 313, 32)                         828              
______________________________________________________________________________________________________________
average_pooling2d_7 (AveragePooling2D)           (None, 16, 157, 32)                         0                
______________________________________________________________________________________________________________
batch_normalization_7 (BatchNormalization)       (None, 16, 157, 32)                         128              
______________________________________________________________________________________________________________
conv2d_8 (Conv2D)                                (None, 16, 157, 64)                         18496            
______________________________________________________________________________________________________________
mix_depth_group_convolution2d_8 (MixDepthGroupCo (None, 16, 157, 64)                         1656             
______________________________________________________________________________________________________________
average_pooling2d_8 (AveragePooling2D)           (None, 8, 79, 64)                           0                
______________________________________________________________________________________________________________
batch_normalization_8 (BatchNormalization)       (None, 8, 79, 64)                           256              
______________________________________________________________________________________________________________
conv2d_9 (Conv2D)                                (None, 8, 79, 128)                          73856            
______________________________________________________________________________________________________________
mix_depth_group_convolution2d_9 (MixDepthGroupCo (None, 8, 79, 128)                          3402             
______________________________________________________________________________________________________________
average_pooling2d_9 (AveragePooling2D)           (None, 4, 40, 128)                          0                
______________________________________________________________________________________________________________
batch_normalization_9 (BatchNormalization)       (None, 4, 40, 128)                          512              
______________________________________________________________________________________________________________
global_average_pooling2d_1 (GlobalAveragePooling (None, 128)                                 0                
______________________________________________________________________________________________________________
dense_1 (Dense)                                  (None, 1)                                   129              
==============================================================================================================
Total params: 105,823
Trainable params: 105,327
Non-trainable params: 496
______________________________________________________________________________________________________________
Epoch 1/65
226/226 - 141s - loss: 0.2749 - accuracy: 0.9038 - val_loss: 0.2454 - val_accuracy: 0.9332
Confusion matrix: 
 [[573   0]
 [ 41   0]]
Normalized Confusion matrix: 
 [[1. 0.]
 [1. 0.]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/sklearn/metrics/_classification.py:1272: UndefinedMetricWarning: Precision and F-score are ill-defined and being set to 0.0 due to no predicted samples. Use `zero_division` parameter to control this behavior.
  _warn_prf(average, modifier, msg_start, len(result))
Validation f1: 0.00
Validation accuracy: 93.32
Validation recall: 0.00
Validation precision: 0.00
Validation AUC: 0.07391560680972883
Validation class accuracies: [1.0, 0.0]
2021-06-30 05:28:44.893878: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 721 of 3616
2021-06-30 05:28:54.894294: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1441 of 3616
2021-06-30 05:29:04.870658: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2161 of 3616
2021-06-30 05:29:14.765897: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2881 of 3616
2021-06-30 05:29:24.790687: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3512 of 3616
2021-06-30 05:29:26.608410: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0 hasn't increased by 0 in 1 epochs
Epoch 2/65
226/226 - 139s - loss: 0.1084 - accuracy: 0.9524 - val_loss: 0.2419 - val_accuracy: 0.9332
Confusion matrix: 
 [[573   0]
 [ 41   0]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/sklearn/metrics/_classification.py:1272: UndefinedMetricWarning: Precision and F-score are ill-defined and being set to 0.0 due to no predicted samples. Use `zero_division` parameter to control this behavior.
  _warn_prf(average, modifier, msg_start, len(result))
Normalized Confusion matrix: 
 [[1. 0.]
 [1. 0.]]
Validation f1: 0.00
Validation accuracy: 93.32
Validation recall: 0.00
Validation precision: 0.00
Validation AUC: 0.2845465044093274
Validation class accuracies: [1.0, 0.0]
2021-06-30 05:31:16.825785: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 625 of 3616
2021-06-30 05:31:26.887824: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1345 of 3616
2021-06-30 05:31:36.792082: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2049 of 3616
2021-06-30 05:31:46.743933: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2769 of 3616
2021-06-30 05:31:56.667286: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3427 of 3616
2021-06-30 05:32:00.142898: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0 hasn't increased by 0 in 2 epochs
Epoch 3/65
226/226 - 140s - loss: 0.0682 - accuracy: 0.9688 - val_loss: 0.2899 - val_accuracy: 0.9251
Confusion matrix: 
 [[544  29]
 [ 17  24]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.949 0.051]
 [0.415 0.585]]
Validation f1: 51.06
Validation accuracy: 92.51
Validation recall: 58.54
Validation precision: 45.28
Validation AUC: 0.5589654331961302
Validation class accuracies: [0.9493891797556719, 0.5853658536585366]
2021-06-30 05:33:48.393868: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 577 of 3616
2021-06-30 05:33:58.488136: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1169 of 3616
2021-06-30 05:34:08.407482: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1681 of 3616
2021-06-30 05:34:18.253810: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2209 of 3616
2021-06-30 05:34:28.288430: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2929 of 3616
2021-06-30 05:34:38.260550: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3550 of 3616
2021-06-30 05:34:39.438555: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
Saving model...
Epoch 4/65
226/226 - 148s - loss: 0.0443 - accuracy: 0.9762 - val_loss: 0.2229 - val_accuracy: 0.9169
Confusion matrix: 
 [[533  40]
 [ 11  30]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.93  0.07 ]
 [0.268 0.732]]
Validation f1: 54.05
Validation accuracy: 91.69
Validation recall: 73.17
Validation precision: 42.86
Validation AUC: 0.6090618414435237
Validation class accuracies: [0.9301919720767888, 0.7317073170731707]
2021-06-30 05:36:28.137743: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 577 of 3616
2021-06-30 05:36:38.261873: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1169 of 3616
2021-06-30 05:36:48.177464: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1745 of 3616
2021-06-30 05:36:58.315124: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2337 of 3616
2021-06-30 05:37:08.153870: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2913 of 3616
2021-06-30 05:37:18.185591: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3383 of 3616
2021-06-30 05:37:25.741601: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
Saving model...
Epoch 5/65
226/226 - 153s - loss: 0.0331 - accuracy: 0.9795 - val_loss: 0.1966 - val_accuracy: 0.9577
Confusion matrix: 
 [[565   8]
 [ 18  23]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.986 0.014]
 [0.439 0.561]]
Validation f1: 63.89
Validation accuracy: 95.77
Validation recall: 56.10
Validation precision: 74.19
Validation AUC: 0.6640022966001955
Validation class accuracies: [0.9860383944153578, 0.5609756097560976]
2021-06-30 05:39:10.932768: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 561 of 3616
2021-06-30 05:39:21.113529: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1137 of 3616
2021-06-30 05:39:30.942676: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1713 of 3616
2021-06-30 05:39:40.971355: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2305 of 3616
2021-06-30 05:39:51.004277: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2897 of 3616
2021-06-30 05:40:00.968289: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3399 of 3616
2021-06-30 05:40:06.416219: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
Saving model...
Epoch 6/65
226/226 - 152s - loss: 0.0211 - accuracy: 0.9834 - val_loss: 0.2162 - val_accuracy: 0.9544
Confusion matrix: 
 [[573   0]
 [ 28  13]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[1.    0.   ]
 [0.683 0.317]]
Validation f1: 48.15
Validation accuracy: 95.44
Validation recall: 31.71
Validation precision: 100.00
Validation AUC: 0.7117214494351504
Validation class accuracies: [1.0, 0.3170731707317073]
2021-06-30 05:41:52.454270: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 721 of 3616
2021-06-30 05:42:02.317069: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1425 of 3616
2021-06-30 05:42:12.429646: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2049 of 3616
2021-06-30 05:42:22.477607: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2625 of 3616
2021-06-30 05:42:32.242866: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3188 of 3616
2021-06-30 05:42:42.254703: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3589 of 3616
2021-06-30 05:42:42.893085: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.638888888888889 hasn't increased by 0 in 1 epochs
Epoch 7/65
226/226 - 147s - loss: 0.0175 - accuracy: 0.9831 - val_loss: 0.2242 - val_accuracy: 0.9560
Confusion matrix: 
 [[565   8]
 [ 19  22]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.986 0.014]
 [0.463 0.537]]
Validation f1: 61.97
Validation accuracy: 95.60
Validation recall: 53.66
Validation precision: 73.33
Validation AUC: 0.6682018275913209
Validation class accuracies: [0.9860383944153578, 0.5365853658536586]
2021-06-30 05:44:28.345647: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 705 of 3616
2021-06-30 05:44:38.503056: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1441 of 3616
2021-06-30 05:44:48.519017: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2161 of 3616
2021-06-30 05:44:58.466827: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2881 of 3616
2021-06-30 05:45:08.340162: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3504 of 3616
2021-06-30 05:45:11.223153: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.638888888888889 hasn't increased by 0 in 2 epochs
Epoch 8/65
226/226 - 139s - loss: 0.0164 - accuracy: 0.9831 - val_loss: 0.2067 - val_accuracy: 0.9593
Confusion matrix: 
 [[566   7]
 [ 18  23]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.988 0.012]
 [0.439 0.561]]
Validation f1: 64.79
Validation accuracy: 95.93
Validation recall: 56.10
Validation precision: 76.67
Validation AUC: 0.6761833971582394
Validation class accuracies: [0.987783595113438, 0.5609756097560976]
2021-06-30 05:46:56.737815: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 705 of 3616
2021-06-30 05:47:06.830702: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1425 of 3616
2021-06-30 05:47:16.771464: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2145 of 3616
2021-06-30 05:47:26.763223: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2865 of 3616
2021-06-30 05:47:36.736335: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3502 of 3616
2021-06-30 05:47:38.831841: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
Saving model...
Epoch 9/65
226/226 - 138s - loss: 0.0156 - accuracy: 0.9834 - val_loss: 0.1871 - val_accuracy: 0.9593
Confusion matrix: 
 [[566   7]
 [ 18  23]]
Normalized Confusion matrix: 
 [[0.988 0.012]
 [0.439 0.561]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 64.79
Validation accuracy: 95.93
Validation recall: 56.10
Validation precision: 76.67
Validation AUC: 0.6979866777896846
Validation class accuracies: [0.987783595113438, 0.5609756097560976]
2021-06-30 05:49:25.917525: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 577 of 3616
2021-06-30 05:49:36.008420: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1169 of 3616
2021-06-30 05:49:45.913330: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1745 of 3616
2021-06-30 05:49:56.050290: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2337 of 3616
2021-06-30 05:50:05.900770: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2913 of 3616
2021-06-30 05:50:15.845658: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3346 of 3616
2021-06-30 05:50:24.046485: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.6478873239436621 hasn't increased by 0 in 1 epochs
Epoch 10/65
226/226 - 155s - loss: 0.0146 - accuracy: 0.9831 - val_loss: 0.2363 - val_accuracy: 0.9609
Confusion matrix: 
 [[569   4]
 [ 20  21]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.993 0.007]
 [0.488 0.512]]
Validation f1: 63.64
Validation accuracy: 96.09
Validation recall: 51.22
Validation precision: 84.00
Validation AUC: 0.6717636568094846
Validation class accuracies: [0.9930191972076788, 0.5121951219512195]
2021-06-30 05:52:09.488673: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 721 of 3616
2021-06-30 05:52:19.518084: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1441 of 3616
2021-06-30 05:52:29.401808: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2153 of 3616
2021-06-30 05:52:39.476388: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2865 of 3616
2021-06-30 05:52:49.431207: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3489 of 3616
2021-06-30 05:52:51.757227: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.6478873239436621 hasn't increased by 0 in 2 epochs
Epoch 11/65
226/226 - 143s - loss: 0.0175 - accuracy: 0.9823 - val_loss: 0.2165 - val_accuracy: 0.9430
Confusion matrix: 
 [[555  18]
 [ 17  24]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.969 0.031]
 [0.415 0.585]]
Validation f1: 57.83
Validation accuracy: 94.30
Validation recall: 58.54
Validation precision: 57.14
Validation AUC: 0.664215109884605
Validation class accuracies: [0.9685863874345549, 0.5853658536585366]
2021-06-30 05:54:41.194929: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 705 of 3616
2021-06-30 05:54:51.226688: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1441 of 3616
2021-06-30 05:55:01.241628: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2177 of 3616
2021-06-30 05:55:11.287661: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2897 of 3616
2021-06-30 05:55:21.147943: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3507 of 3616
2021-06-30 05:55:23.105176: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.6478873239436621 hasn't increased by 0 in 3 epochs
Epoch 12/65
226/226 - 139s - loss: 0.0126 - accuracy: 0.9834 - val_loss: 0.2425 - val_accuracy: 0.9560
Confusion matrix: 
 [[566   7]
 [ 20  21]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.988 0.012]
 [0.488 0.512]]
Validation f1: 60.87
Validation accuracy: 95.60
Validation recall: 51.22
Validation precision: 75.00
Validation AUC: 0.644067921806791
Validation class accuracies: [0.987783595113438, 0.5121951219512195]
2021-06-30 05:57:11.657705: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 577 of 3616
2021-06-30 05:57:21.473497: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1041 of 3616
2021-06-30 05:57:31.616858: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1665 of 3616
2021-06-30 05:57:41.563015: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2385 of 3616
2021-06-30 05:57:51.529268: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3105 of 3616
2021-06-30 05:58:00.284187: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.6478873239436621 hasn't increased by 0 in 4 epochs
Epoch 13/65
226/226 - 146s - loss: 0.0126 - accuracy: 0.9834 - val_loss: 0.2415 - val_accuracy: 0.9544
Confusion matrix: 
 [[563  10]
 [ 18  23]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.983 0.017]
 [0.439 0.561]]
Validation f1: 62.16
Validation accuracy: 95.44
Validation recall: 56.10
Validation precision: 69.70
Validation AUC: 0.6498400723110359
Validation class accuracies: [0.9825479930191972, 0.5609756097560976]
2021-06-30 05:59:48.765183: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 577 of 3616
2021-06-30 05:59:58.747103: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1169 of 3616
2021-06-30 06:00:08.833841: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1761 of 3616
2021-06-30 06:00:18.689121: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2337 of 3616
2021-06-30 06:00:28.895297: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2833 of 3616
2021-06-30 06:00:38.580812: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3375 of 3616
2021-06-30 06:00:42.939779: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.6478873239436621 hasn't increased by 0 in 5 epochs
Epoch 14/65
226/226 - 150s - loss: 0.0124 - accuracy: 0.9834 - val_loss: 0.2140 - val_accuracy: 0.9381
Confusion matrix: 
 [[550  23]
 [ 15  26]]
Normalized Confusion matrix: 
 [[0.96  0.04 ]
 [0.366 0.634]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 57.78
Validation accuracy: 93.81
Validation recall: 63.41
Validation precision: 53.06
Validation AUC: 0.6586575749556488
Validation class accuracies: [0.9598603839441536, 0.6341463414634146]
2021-06-30 06:02:30.112277: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 561 of 3616
2021-06-30 06:02:40.063323: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1137 of 3616
2021-06-30 06:02:50.117311: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1729 of 3616
2021-06-30 06:02:59.946325: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2305 of 3616
2021-06-30 06:03:10.006114: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2897 of 3616
2021-06-30 06:03:19.972581: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3390 of 3616
2021-06-30 06:03:25.787598: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.6478873239436621 hasn't increased by 0 in 6 epochs
Lr has been adjusted to 0.0005000000237487257
Epoch 15/65
226/226 - 151s - loss: 0.0127 - accuracy: 0.9834 - val_loss: 0.3339 - val_accuracy: 0.9137
Confusion matrix: 
 [[532  41]
 [ 12  29]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.928 0.072]
 [0.293 0.707]]
Validation f1: 52.25
Validation accuracy: 91.37
Validation recall: 70.73
Validation precision: 41.43
Validation AUC: 0.6464259309344836
Validation class accuracies: [0.9284467713787086, 0.7073170731707317]
2021-06-30 06:05:10.133204: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 705 of 3616
2021-06-30 06:05:20.101492: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1361 of 3616
2021-06-30 06:05:30.072083: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1937 of 3616
2021-06-30 06:05:40.228167: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2513 of 3616
2021-06-30 06:05:50.102088: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3089 of 3616
2021-06-30 06:06:00.017290: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3518 of 3616
2021-06-30 06:06:02.653442: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.6478873239436621 hasn't increased by 0 in 7 epochs
Epoch 16/65
226/226 - 149s - loss: 0.0104 - accuracy: 0.9834 - val_loss: 0.2337 - val_accuracy: 0.9577
Confusion matrix: 
 [[566   7]
 [ 19  22]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.988 0.012]
 [0.463 0.537]]
Validation f1: 62.86
Validation accuracy: 95.77
Validation recall: 53.66
Validation precision: 75.86
Validation AUC: 0.6663088644440042
Validation class accuracies: [0.987783595113438, 0.5365853658536586]
2021-06-30 06:07:48.139581: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 705 of 3616
2021-06-30 06:07:58.013644: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1425 of 3616
2021-06-30 06:08:08.109835: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2161 of 3616
2021-06-30 06:08:18.026540: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2881 of 3616
2021-06-30 06:08:28.013033: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3410 of 3616
2021-06-30 06:08:33.443393: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.6478873239436621 hasn't increased by 0 in 8 epochs
Epoch 17/65
226/226 - 141s - loss: 0.0102 - accuracy: 0.9834 - val_loss: 0.1953 - val_accuracy: 0.9463
Confusion matrix: 
 [[557  16]
 [ 17  24]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.972 0.028]
 [0.415 0.585]]
Validation f1: 59.26
Validation accuracy: 94.63
Validation recall: 58.54
Validation precision: 60.00
Validation AUC: 0.6810777474515587
Validation class accuracies: [0.9720767888307156, 0.5853658536585366]
2021-06-30 06:10:17.934002: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 705 of 3616
2021-06-30 06:10:27.927864: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1425 of 3616
2021-06-30 06:10:38.033333: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2161 of 3616
2021-06-30 06:10:47.919088: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2881 of 3616
2021-06-30 06:10:57.850477: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3506 of 3616
2021-06-30 06:10:59.774400: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.6478873239436621 hasn't increased by 0 in 9 epochs
Epoch 18/65
226/226 - 139s - loss: 0.0103 - accuracy: 0.9834 - val_loss: 0.1970 - val_accuracy: 0.9511
Confusion matrix: 
 [[560  13]
 [ 17  24]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.977 0.023]
 [0.415 0.585]]
Validation f1: 61.54
Validation accuracy: 95.11
Validation recall: 58.54
Validation precision: 64.86
Validation AUC: 0.689165067187347
Validation class accuracies: [0.9773123909249564, 0.5853658536585366]
2021-06-30 06:12:48.075222: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 417 of 3616
2021-06-30 06:12:58.023612: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1121 of 3616
2021-06-30 06:13:08.041383: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1841 of 3616
2021-06-30 06:13:17.892142: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2561 of 3616
2021-06-30 06:13:27.899412: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3271 of 3616
2021-06-30 06:13:34.236968: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.6478873239436621 hasn't increased by 0 in 10 epochs
Epoch 19/65
226/226 - 143s - loss: 0.0108 - accuracy: 0.9834 - val_loss: 0.2109 - val_accuracy: 0.9560
Confusion matrix: 
 [[563  10]
 [ 17  24]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.983 0.017]
 [0.415 0.585]]
Validation f1: 64.00
Validation accuracy: 95.60
Validation recall: 58.54
Validation precision: 70.59
Validation AUC: 0.6828267936655117
Validation class accuracies: [0.9825479930191972, 0.5853658536585366]
2021-06-30 06:15:21.989527: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 577 of 3616
2021-06-30 06:15:32.045595: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1169 of 3616
2021-06-30 06:15:42.037775: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1745 of 3616
2021-06-30 06:15:51.990291: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2209 of 3616
2021-06-30 06:16:01.958952: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2849 of 3616
2021-06-30 06:16:11.917117: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3476 of 3616
2021-06-30 06:16:14.436432: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.6478873239436621 hasn't increased by 0 in 11 epochs
Epoch 20/65
226/226 - 149s - loss: 0.0095 - accuracy: 0.9834 - val_loss: 0.2274 - val_accuracy: 0.9528
Confusion matrix: 
 [[562  11]
 [ 18  23]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.981 0.019]
 [0.439 0.561]]
Validation f1: 61.33
Validation accuracy: 95.28
Validation recall: 56.10
Validation precision: 67.65
Validation AUC: 0.6646281689678513
Validation class accuracies: [0.9808027923211169, 0.5609756097560976]
2021-06-30 06:18:02.708541: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 577 of 3616
2021-06-30 06:18:12.626837: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1153 of 3616
2021-06-30 06:18:22.589656: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1729 of 3616
2021-06-30 06:18:32.773251: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2321 of 3616
2021-06-30 06:18:42.729133: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2897 of 3616
2021-06-30 06:18:52.558641: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3391 of 3616
2021-06-30 06:18:58.262300: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.6478873239436621 hasn't increased by 0 in 12 epochs
Lr has been adjusted to 0.0002500000118743628
Epoch 21/65
226/226 - 151s - loss: 0.0114 - accuracy: 0.9834 - val_loss: 0.1898 - val_accuracy: 0.9446
Confusion matrix: 
 [[556  17]
 [ 17  24]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.97  0.03 ]
 [0.415 0.585]]
Validation f1: 58.54
Validation accuracy: 94.46
Validation recall: 58.54
Validation precision: 58.54
Validation AUC: 0.6889562892054799
Validation class accuracies: [0.9703315881326352, 0.5853658536585366]
2021-06-30 06:20:42.905791: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 657 of 3616
2021-06-30 06:20:53.046600: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1233 of 3616
2021-06-30 06:21:02.925548: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1793 of 3616
2021-06-30 06:21:12.920411: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2369 of 3616
2021-06-30 06:21:22.853711: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2945 of 3616
2021-06-30 06:21:32.861602: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3427 of 3616
2021-06-30 06:21:37.736639: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.6478873239436621 hasn't increased by 0 in 13 epochs
Epoch 22/65
226/226 - 151s - loss: 0.0099 - accuracy: 0.9834 - val_loss: 0.2123 - val_accuracy: 0.9560
Confusion matrix: 
 [[564   9]
 [ 18  23]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.984 0.016]
 [0.439 0.561]]
Validation f1: 63.01
Validation accuracy: 95.60
Validation recall: 56.10
Validation precision: 71.88
Validation AUC: 0.6828060461166975
Validation class accuracies: [0.9842931937172775, 0.5609756097560976]
2021-06-30 06:23:23.237540: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 689 of 3616
2021-06-30 06:23:33.239007: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1409 of 3616
2021-06-30 06:23:43.312174: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2145 of 3616
2021-06-30 06:23:53.205699: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2753 of 3616
2021-06-30 06:24:03.242466: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3289 of 3616
2021-06-30 06:24:11.596265: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.6478873239436621 hasn't increased by 0 in 14 epochs
Epoch 23/65
226/226 - 145s - loss: 0.0099 - accuracy: 0.9834 - val_loss: 0.1921 - val_accuracy: 0.9544
Confusion matrix: 
 [[562  11]
 [ 17  24]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.981 0.019]
 [0.415 0.585]]
Validation f1: 63.16
Validation accuracy: 95.44
Validation recall: 58.54
Validation precision: 68.57
Validation AUC: 0.6888484480404882
Validation class accuracies: [0.9808027923211169, 0.5853658536585366]
2021-06-30 06:25:57.375672: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 721 of 3616
2021-06-30 06:26:07.307533: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1441 of 3616
2021-06-30 06:26:17.404743: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2161 of 3616
2021-06-30 06:26:27.249156: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2865 of 3616
2021-06-30 06:26:37.197182: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3492 of 3616
2021-06-30 06:26:39.378275: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.6478873239436621 hasn't increased by 0 in 15 epochs
Epoch 24/65
226/226 - 142s - loss: 0.0090 - accuracy: 0.9834 - val_loss: 0.2416 - val_accuracy: 0.9463
Confusion matrix: 
 [[558  15]
 [ 18  23]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.974 0.026]
 [0.439 0.561]]
Validation f1: 58.23
Validation accuracy: 94.63
Validation recall: 56.10
Validation precision: 60.53
Validation AUC: 0.6575812960316607
Validation class accuracies: [0.9738219895287958, 0.5609756097560976]
2021-06-30 06:28:29.165783: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 705 of 3616
2021-06-30 06:28:39.223279: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1425 of 3616
2021-06-30 06:28:49.228026: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2145 of 3616
2021-06-30 06:28:59.127301: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2865 of 3616
2021-06-30 06:29:09.018233: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3500 of 3616
2021-06-30 06:29:11.170919: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.6478873239436621 hasn't increased by 0 in 16 epochs
Epoch 25/65
226/226 - 139s - loss: 0.0098 - accuracy: 0.9834 - val_loss: 0.2170 - val_accuracy: 0.9544
Confusion matrix: 
 [[564   9]
 [ 19  22]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.984 0.016]
 [0.463 0.537]]
Validation f1: 61.11
Validation accuracy: 95.44
Validation recall: 53.66
Validation precision: 70.97
Validation AUC: 0.6737543881332038
Validation class accuracies: [0.9842931937172775, 0.5365853658536586]
2021-06-30 06:30:59.680140: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 577 of 3616
2021-06-30 06:31:09.707178: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1105 of 3616
2021-06-30 06:31:19.659846: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1617 of 3616
2021-06-30 06:31:29.690241: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2337 of 3616
2021-06-30 06:31:39.803963: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3057 of 3616
2021-06-30 06:31:49.173174: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.6478873239436621 hasn't increased by 0 in 17 epochs
Epoch 26/65
226/226 - 147s - loss: 0.0106 - accuracy: 0.9829 - val_loss: 0.2551 - val_accuracy: 0.9495
Confusion matrix: 
 [[559  14]
 [ 17  24]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.976 0.024]
 [0.415 0.585]]
Validation f1: 60.76
Validation accuracy: 94.95
Validation recall: 58.54
Validation precision: 63.16
Validation AUC: 0.6539483232918875
Validation class accuracies: [0.9755671902268761, 0.5853658536585366]
2021-06-30 06:33:37.681888: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 577 of 3616
2021-06-30 06:33:47.785568: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1169 of 3616
2021-06-30 06:33:57.812106: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1761 of 3616
2021-06-30 06:34:07.830193: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2353 of 3616
2021-06-30 06:34:17.727862: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2913 of 3616
2021-06-30 06:34:27.617241: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3309 of 3616
2021-06-30 06:34:33.204001: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.6478873239436621 hasn't increased by 0 in 18 epochs
Lr has been adjusted to 0.0001250000059371814
Epoch 27/65
226/226 - 150s - loss: 0.0094 - accuracy: 0.9834 - val_loss: 0.2155 - val_accuracy: 0.9544
Confusion matrix: 
 [[562  11]
 [ 17  24]]
Normalized Confusion matrix: 
 [[0.981 0.019]
 [0.415 0.585]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 63.16
Validation accuracy: 95.44
Validation recall: 58.54
Validation precision: 68.57
Validation AUC: 0.6747846654021125
Validation class accuracies: [0.9808027923211169, 0.5853658536585366]
2021-06-30 06:36:18.966541: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 545 of 3616
2021-06-30 06:36:29.169070: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1137 of 3616
2021-06-30 06:36:39.008128: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1713 of 3616
2021-06-30 06:36:49.069455: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2305 of 3616
2021-06-30 06:36:59.124686: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2897 of 3616
2021-06-30 06:37:08.940937: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3388 of 3616
2021-06-30 06:37:14.770317: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.6478873239436621 hasn't increased by 0 in 19 epochs
Epoch 28/65
226/226 - 152s - loss: 0.0098 - accuracy: 0.9834 - val_loss: 0.2213 - val_accuracy: 0.9544
Confusion matrix: 
 [[563  10]
 [ 18  23]]
Normalized Confusion matrix: 
 [[0.983 0.017]
 [0.439 0.561]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 62.16
Validation accuracy: 95.44
Validation recall: 56.10
Validation precision: 69.70
Validation AUC: 0.6739230597816549
Validation class accuracies: [0.9825479930191972, 0.5609756097560976]

The metrics for job 1 with the best target metric are: 
Best cm: [[566   7]
 [ 18  23]]
Best normalized cm: [[0.988 0.012]
 [0.439 0.561]]
Best f1: 0.65
Best accuracy: 0.96
Best recall: 0.56
Best precision: 0.77
Best AUC: 0.68
Best class accuracies: [0.987783595113438, 0.5609756097560976]
Best epoch: 8
The number of epochs since last 1% equals the patience
../../new_cache/conv__2275__06_0339__v39__mixup/1/icbhi_204_7p5_Al_mc_AKGC417L_0_label_0_pred_0.png, [[9.24e-05]]
../../new_cache/conv__2275__06_0339__v39__mixup/1/icbhi_218_1b1_Al_sc_Meditron_3_label_0_pred_0.png, [[2.792e-06]]
../../new_cache/conv__2275__06_0339__v39__mixup/1/icbhi_213_2p2_Pl_mc_AKGC417L_2_label_0_pred_0.png, [[2.659e-07]]
../../new_cache/conv__2275__06_0339__v39__mixup/1/icbhi_207_2b2_Al_mc_AKGC417L_0_label_0_pred_0.png, [[2.387e-05]]
../../new_cache/conv__2275__06_0339__v39__mixup/1/icbhi_211_1p2_Ar_mc_AKGC417L_3_label_0_pred_0.png, [[0.]]
../../new_cache/conv__2275__06_0339__v39__mixup/1/icbhi_205_3b4_Al_mc_AKGC417L_0_label_0_pred_0.png, [[0.001]]
../../new_cache/conv__2275__06_0339__v39__mixup/1/icbhi_221_2b2_Ar_mc_LittC2SE_0_label_0_pred_1.png, [[0.559]]
../../new_cache/conv__2275__06_0339__v39__mixup/1/icbhi_223_1b1_Al_sc_Meditron_3_label_0_pred_0.png, [[1.732e-05]]
../../new_cache/conv__2275__06_0339__v39__mixup/1/icbhi_216_1b1_Pl_sc_Meditron_0_label_0_pred_0.png, [[0.]]
../../new_cache/conv__2275__06_0339__v39__mixup/1/icbhi_218_1b1_Al_sc_Meditron_6_label_0_pred_0.png, [[1.249e-06]]
../../new_cache/conv__2275__06_0339__v39__mixup/1/icbhi_211_1p3_Ar_mc_AKGC417L_2_label_0_pred_0.png, [[1.433e-05]]
../../new_cache/conv__2275__06_0339__v39__mixup/1/icbhi_226_1b1_Al_sc_Meditron_3_label_1_pred_0.png, [[0.]]
../../new_cache/conv__2275__06_0339__v39__mixup/1/icbhi_210_1b1_Al_sc_Meditron_1_label_0_pred_0.png, [[5.933e-05]]
../../new_cache/conv__2275__06_0339__v39__mixup/1/icbhi_218_1b1_Pr_sc_Meditron_7_label_0_pred_0.png, [[0.001]]
../../new_cache/conv__2275__06_0339__v39__mixup/1/icbhi_207_2b3_Pr_mc_AKGC417L_1_label_0_pred_0.png, [[0.]]
../../new_cache/conv__2275__06_0339__v39__mixup/1/icbhi_217_1b1_Tc_sc_Meditron_2_label_0_pred_0.png, [[0.042]]
../../new_cache/conv__2275__06_0339__v39__mixup/1/icbhi_225_1b1_Pl_sc_Meditron_3_label_0_pred_0.png, [[0.045]]
../../new_cache/conv__2275__06_0339__v39__mixup/1/icbhi_223_1b1_Pr_sc_Meditron_2_label_0_pred_0.png, [[2.467e-05]]
../../new_cache/conv__2275__06_0339__v39__mixup/1/icbhi_213_1p5_Tc_mc_AKGC417L_0_label_0_pred_0.png, [[0.002]]
../../new_cache/conv__2275__06_0339__v39__mixup/1/icbhi_224_1b1_Tc_sc_Meditron_2_label_0_pred_0.png, [[0.008]]
../../new_cache/conv__2275__06_0339__v39__mixup/1/icbhi_211_1p3_Ar_mc_AKGC417L_0_label_0_pred_0.png, [[1.133e-06]]
../../new_cache/conv__2275__06_0339__v39__mixup/1/icbhi_218_1b1_Pr_sc_Meditron_3_label_0_pred_0.png, [[0.]]
../../new_cache/conv__2275__06_0339__v39__mixup/1/icbhi_207_3b2_Pr_mc_AKGC417L_1_label_0_pred_0.png, [[0.004]]
../../new_cache/conv__2275__06_0339__v39__mixup/1/icbhi_218_1b1_Pr_sc_Meditron_6_label_0_pred_0.png, [[0.002]]
../../new_cache/conv__2275__06_0339__v39__mixup/1/icbhi_215_1b2_Ar_sc_Meditron_3_label_0_pred_0.png, [[0.]]
../../new_cache/conv__2275__06_0339__v39__mixup/1/icbhi_213_1p3_Ar_mc_AKGC417L_3_label_0_pred_0.png, [[6.267e-05]]
../../new_cache/conv__2275__06_0339__v39__mixup/1/icbhi_218_1b1_Ar_sc_Meditron_4_label_0_pred_0.png, [[0.]]
../../new_cache/conv__2275__06_0339__v39__mixup/1/icbhi_204_7p5_Ll_mc_AKGC417L_2_label_0_pred_0.png, [[1.314e-06]]
../../new_cache/conv__2275__06_0339__v39__mixup/1/icbhi_205_1b3_Pl_mc_AKGC417L_0_label_0_pred_0.png, [[7.674e-06]]
../../new_cache/conv__2275__06_0339__v39__mixup/1/jordan_EP36_pneumonia,Crep,P R M,36,F_5_label_1_pred_0.png, [[0.018]]
../../new_cache/conv__2275__06_0339__v39__mixup/1/icbhi_211_2p3_Tc_mc_AKGC417L_2_label_0_pred_0.png, [[0.003]]
../../new_cache/conv__2275__06_0339__v39__mixup/1/icbhi_211_1p2_Pr_mc_AKGC417L_3_label_0_pred_0.png, [[0.]]
../../new_cache/conv__2275__06_0339__v39__mixup/1/icbhi_207_2b3_Tc_mc_AKGC417L_3_label_0_pred_0.png, [[0.001]]
../../new_cache/conv__2275__06_0339__v39__mixup/1/icbhi_223_1b1_Ll_sc_Meditron_3_label_0_pred_0.png, [[0.]]
../../new_cache/conv__2275__06_0339__v39__mixup/1/icbhi_207_3b2_Ar_mc_AKGC417L_1_label_0_pred_0.png, [[0.]]
../../new_cache/conv__2275__06_0339__v39__mixup/1/icbhi_222_1b1_Lr_sc_Meditron_7_label_0_pred_0.png, [[2.111e-05]]
../../new_cache/conv__2275__06_0339__v39__mixup/1/icbhi_220_1b1_Tc_mc_LittC2SE_3_label_0_pred_0.png, [[4.472e-05]]
../../new_cache/conv__2275__06_0339__v39__mixup/1/icbhi_207_2b3_Al_mc_AKGC417L_1_label_0_pred_0.png, [[4.904e-05]]
../../new_cache/conv__2275__06_0339__v39__mixup/1/icbhi_224_1b2_Al_sc_Meditron_3_label_0_pred_0.png, [[0.004]]
../../new_cache/conv__2275__06_0339__v39__mixup/1/icbhi_205_3b4_Ar_mc_AKGC417L_0_label_0_pred_0.png, [[7.969e-06]]
../../new_cache/conv__2275__06_0339__v39__mixup/1/icbhi_211_1p2_Pl_mc_AKGC417L_0_label_0_pred_0.png, [[3.741e-07]]
../../new_cache/conv__2275__06_0339__v39__mixup/1/icbhi_215_1b3_Tc_sc_Meditron_2_label_0_pred_0.png, [[4.724e-06]]
../../new_cache/conv__2275__06_0339__v39__mixup/1/icbhi_219_2b3_Tc_mc_LittC2SE_3_label_1_pred_1.png, [[0.977]]
../../new_cache/conv__2275__06_0339__v39__mixup/1/icbhi_204_7p5_Tc_mc_AKGC417L_3_label_0_pred_0.png, [[0.]]
../../new_cache/conv__2275__06_0339__v39__mixup/1/icbhi_213_1p2_Pl_mc_AKGC417L_0_label_0_pred_0.png, [[9.791e-05]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
wandb: Waiting for W&B process to finish, PID 25005
wandb: Program ended successfully.
wandb: Find user logs for this run at: /home/alirachidi/classification_algorithm/trainers/main/wandb/offline-run-20210630_052503-3bq1sm46/logs/debug.log
wandb: Find internal logs for this run at: /home/alirachidi/classification_algorithm/trainers/main/wandb/offline-run-20210630_052503-3bq1sm46/logs/debug-internal.log
wandb: Run summary:
wandb:       train_accuracy 0.98341
wandb:         val_accuracy 0.9544
wandb:             _runtime 4426
wandb:           _timestamp 1625035129
wandb:                _step 207
wandb:           train_loss 0.00982
wandb:             val_loss 0.22126
wandb:           val_recall 0.56098
wandb:        val_precision 0.69697
wandb:               val_f1 0.62162
wandb:              val_auc 0.67392
wandb:                   lr 0.00013
wandb:          best_val_f1 0.64789
wandb:    best_val_accuracy 0.95928
wandb:   best_val_precision 0.76667
wandb:      best_val_recall 0.56098
wandb:             best_auc 0.67618
wandb:           best_epoch 8
wandb: Run history:
wandb:   train_accuracy 
wandb:     val_accuracy 
wandb:         _runtime 
wandb:       _timestamp 
wandb:            _step 
wandb:       train_loss 
wandb:         val_loss 
wandb:       val_recall 
wandb:    val_precision 
wandb:           val_f1 
wandb:          val_auc 
wandb:               lr 
wandb: 
wandb: You can sync this run to the cloud by running:
wandb: wandb sync /home/alirachidi/classification_algorithm/trainers/main/wandb/offline-run-20210630_052503-3bq1sm46

-----------------------
Changing augmentation to v48
Audio Augmentation Parameters: {'ADD': 1, 'QUANTITY': 1000, 'WAV_PATH': 'v48'}
Collecting Variables...
All variables have been collected.
wandb: W&B syncing is set to `offline` in this directory.  Run `wandb online` or set WANDB_MODE=online to enable cloud syncing.
2021-06-30 06:40:49.955314: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 449 of 3616
2021-06-30 06:40:59.951440: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1169 of 3616
2021-06-30 06:41:10.100081: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1905 of 3616
2021-06-30 06:41:20.080024: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2625 of 3616
2021-06-30 06:41:29.944064: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3303 of 3616
2021-06-30 06:41:35.706237: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
Pneumonia patients: 148, Non-pneumonia patients: 2873
Pneumonia patients: 51, Non-pneumonia patients: 0
-----------------------
Number of train recordings: 2458 with pneumonia: 158 and non-pneumonia: 2300
Length of training samples after audio augmentation: 2616
-----------------------
Number of train recordings: 2616 with pneumonia: 316 and non-pneumonia: 2300
Length of training samples after audio augmentation: 3216
-----------------------
Number of train recordings: 3216 with pneumonia: 316 and non-pneumonia: 2900
Number of val recordings: 614 with pneumonia: 41 and non-pneumonia: 573
-----------------------
New dataset length after mix-up augmentation: 3616
Model: "conv2d"
______________________________________________________________________________________________________________
Layer (type)                                     Output Shape                                Param #          
==============================================================================================================
input_3 (InputLayer)                             [(None, 128, 1250, 1)]                      0                
______________________________________________________________________________________________________________
conv2d_10 (Conv2D)                               (None, 128, 1250, 8)                        80               
______________________________________________________________________________________________________________
mix_depth_group_convolution2d_10 (MixDepthGroupC (None, 128, 1250, 8)                        162              
______________________________________________________________________________________________________________
average_pooling2d_10 (AveragePooling2D)          (None, 64, 625, 8)                          0                
______________________________________________________________________________________________________________
batch_normalization_10 (BatchNormalization)      (None, 64, 625, 8)                          32               
______________________________________________________________________________________________________________
conv2d_11 (Conv2D)                               (None, 64, 625, 16)                         1168             
______________________________________________________________________________________________________________
mix_depth_group_convolution2d_11 (MixDepthGroupC (None, 64, 625, 16)                         414              
______________________________________________________________________________________________________________
average_pooling2d_11 (AveragePooling2D)          (None, 32, 313, 16)                         0                
______________________________________________________________________________________________________________
batch_normalization_11 (BatchNormalization)      (None, 32, 313, 16)                         64               
______________________________________________________________________________________________________________
conv2d_12 (Conv2D)                               (None, 32, 313, 32)                         4640             
______________________________________________________________________________________________________________
mix_depth_group_convolution2d_12 (MixDepthGroupC (None, 32, 313, 32)                         828              
______________________________________________________________________________________________________________
average_pooling2d_12 (AveragePooling2D)          (None, 16, 157, 32)                         0                
______________________________________________________________________________________________________________
batch_normalization_12 (BatchNormalization)      (None, 16, 157, 32)                         128              
______________________________________________________________________________________________________________
conv2d_13 (Conv2D)                               (None, 16, 157, 64)                         18496            
______________________________________________________________________________________________________________
mix_depth_group_convolution2d_13 (MixDepthGroupC (None, 16, 157, 64)                         1656             
______________________________________________________________________________________________________________
average_pooling2d_13 (AveragePooling2D)          (None, 8, 79, 64)                           0                
______________________________________________________________________________________________________________
batch_normalization_13 (BatchNormalization)      (None, 8, 79, 64)                           256              
______________________________________________________________________________________________________________
conv2d_14 (Conv2D)                               (None, 8, 79, 128)                          73856            
______________________________________________________________________________________________________________
mix_depth_group_convolution2d_14 (MixDepthGroupC (None, 8, 79, 128)                          3402             
______________________________________________________________________________________________________________
average_pooling2d_14 (AveragePooling2D)          (None, 4, 40, 128)                          0                
______________________________________________________________________________________________________________
batch_normalization_14 (BatchNormalization)      (None, 4, 40, 128)                          512              
______________________________________________________________________________________________________________
global_average_pooling2d_2 (GlobalAveragePooling (None, 128)                                 0                
______________________________________________________________________________________________________________
dense_2 (Dense)                                  (None, 1)                                   129              
==============================================================================================================
Total params: 105,823
Trainable params: 105,327
Non-trainable params: 496
______________________________________________________________________________________________________________
Epoch 1/65
226/226 - 143s - loss: 0.3052 - accuracy: 0.8827 - val_loss: 0.2454 - val_accuracy: 0.9332
Confusion matrix: 
 [[573   0]
 [ 41   0]]
Normalized Confusion matrix: 
 [[1. 0.]
 [1. 0.]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/sklearn/metrics/_classification.py:1272: UndefinedMetricWarning: Precision and F-score are ill-defined and being set to 0.0 due to no predicted samples. Use `zero_division` parameter to control this behavior.
  _warn_prf(average, modifier, msg_start, len(result))
Validation f1: 0.00
Validation accuracy: 93.32
Validation recall: 0.00
Validation precision: 0.00
Validation AUC: 0.06424887959741954
Validation class accuracies: [1.0, 0.0]
2021-06-30 06:43:24.078610: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 577 of 3616
2021-06-30 06:43:34.246469: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1169 of 3616
2021-06-30 06:43:44.231909: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1761 of 3616
2021-06-30 06:43:54.361278: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2209 of 3616
2021-06-30 06:44:04.038013: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2865 of 3616
2021-06-30 06:44:14.029596: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3501 of 3616
2021-06-30 06:44:16.121499: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0 hasn't increased by 0 in 1 epochs
Epoch 2/65
226/226 - 149s - loss: 0.1562 - accuracy: 0.9281 - val_loss: 0.2648 - val_accuracy: 0.9332
Confusion matrix: 
 [[573   0]
 [ 41   0]]
Normalized Confusion matrix: 
 [[1. 0.]
 [1. 0.]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/sklearn/metrics/_classification.py:1272: UndefinedMetricWarning: Precision and F-score are ill-defined and being set to 0.0 due to no predicted samples. Use `zero_division` parameter to control this behavior.
  _warn_prf(average, modifier, msg_start, len(result))
Validation f1: 0.00
Validation accuracy: 93.32
Validation recall: 0.00
Validation precision: 0.00
Validation AUC: 0.06703381785117388
Validation class accuracies: [1.0, 0.0]
2021-06-30 06:46:04.452370: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 577 of 3616
2021-06-30 06:46:14.518578: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1169 of 3616
2021-06-30 06:46:24.364167: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1745 of 3616
2021-06-30 06:46:34.493961: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2337 of 3616
2021-06-30 06:46:44.290658: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2913 of 3616
2021-06-30 06:46:54.293542: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3405 of 3616
2021-06-30 06:46:59.713468: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0 hasn't increased by 0 in 2 epochs
Epoch 3/65
226/226 - 152s - loss: 0.1026 - accuracy: 0.9524 - val_loss: 0.2889 - val_accuracy: 0.9332
Confusion matrix: 
 [[573   0]
 [ 41   0]]
Normalized Confusion matrix: 
 [[1. 0.]
 [1. 0.]]
Validation f1: 0.00
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/sklearn/metrics/_classification.py:1272: UndefinedMetricWarning: Precision and F-score are ill-defined and being set to 0.0 due to no predicted samples. Use `zero_division` parameter to control this behavior.
  _warn_prf(average, modifier, msg_start, len(result))
Validation accuracy: 93.32
Validation recall: 0.00
Validation precision: 0.00
Validation AUC: 0.5385055892755779
Validation class accuracies: [1.0, 0.0]
2021-06-30 06:48:45.112950: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 657 of 3616
2021-06-30 06:48:55.133115: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1233 of 3616
2021-06-30 06:49:05.177767: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1809 of 3616
2021-06-30 06:49:15.148298: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2385 of 3616
2021-06-30 06:49:24.975170: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2961 of 3616
2021-06-30 06:49:34.974933: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3436 of 3616
2021-06-30 06:49:39.534881: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0 hasn't increased by 0 in 3 epochs
Epoch 4/65
226/226 - 151s - loss: 0.0655 - accuracy: 0.9688 - val_loss: 0.3222 - val_accuracy: 0.9446
Confusion matrix: 
 [[573   0]
 [ 34   7]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[1.    0.   ]
 [0.829 0.171]]
Validation f1: 29.17
Validation accuracy: 94.46
Validation recall: 17.07
Validation precision: 100.00
Validation AUC: 0.5029013000761053
Validation class accuracies: [1.0, 0.17073170731707318]
2021-06-30 06:51:25.291106: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 705 of 3616
2021-06-30 06:51:35.281743: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1425 of 3616
2021-06-30 06:51:45.226100: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2145 of 3616
2021-06-30 06:51:55.356864: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2785 of 3616
2021-06-30 06:52:05.140929: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3305 of 3616
2021-06-30 06:52:13.421523: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
Saving model...
Epoch 5/65
226/226 - 144s - loss: 0.0422 - accuracy: 0.9795 - val_loss: 0.1644 - val_accuracy: 0.9625
Confusion matrix: 
 [[566   7]
 [ 16  25]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.988 0.012]
 [0.39  0.61 ]]
Validation f1: 68.49
Validation accuracy: 96.25
Validation recall: 60.98
Validation precision: 78.12
Validation AUC: 0.6868958371071807
Validation class accuracies: [0.987783595113438, 0.6097560975609756]
2021-06-30 06:53:58.880537: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 705 of 3616
2021-06-30 06:54:08.776081: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1409 of 3616
2021-06-30 06:54:18.755525: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2113 of 3616
2021-06-30 06:54:28.756851: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2833 of 3616
2021-06-30 06:54:38.752829: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3475 of 3616
2021-06-30 06:54:41.265531: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
Saving model...
Epoch 6/65
226/226 - 142s - loss: 0.0259 - accuracy: 0.9845 - val_loss: 0.1699 - val_accuracy: 0.9625
Confusion matrix: 
 [[570   3]
 [ 20  21]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.995 0.005]
 [0.488 0.512]]
Validation f1: 64.62
Validation accuracy: 96.25
Validation recall: 51.22
Validation precision: 87.50
Validation AUC: 0.6940435051618157
Validation class accuracies: [0.9947643979057592, 0.5121951219512195]
2021-06-30 06:56:31.506134: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 705 of 3616
2021-06-30 06:56:41.566700: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1441 of 3616
2021-06-30 06:56:51.634585: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2177 of 3616
2021-06-30 06:57:01.635187: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2897 of 3616
2021-06-30 06:57:11.467035: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3514 of 3616
2021-06-30 06:57:13.324866: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.684931506849315 hasn't increased by 0 in 1 epochs
Epoch 7/65
226/226 - 140s - loss: 0.0213 - accuracy: 0.9856 - val_loss: 0.2307 - val_accuracy: 0.9186
Confusion matrix: 
 [[534  39]
 [ 11  30]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.932 0.068]
 [0.268 0.732]]
Validation f1: 54.55
Validation accuracy: 91.86
Validation recall: 73.17
Validation precision: 43.48
Validation AUC: 0.6727050704077993
Validation class accuracies: [0.9319371727748691, 0.7317073170731707]
2021-06-30 06:59:02.808803: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 577 of 3616
2021-06-30 06:59:12.703934: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1089 of 3616
2021-06-30 06:59:22.733554: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1633 of 3616
2021-06-30 06:59:32.720810: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2353 of 3616
2021-06-30 06:59:42.651544: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3073 of 3616
2021-06-30 06:59:51.795246: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.684931506849315 hasn't increased by 0 in 2 epochs
Epoch 8/65
226/226 - 147s - loss: 0.0176 - accuracy: 0.9867 - val_loss: 0.1816 - val_accuracy: 0.9593
Confusion matrix: 
 [[566   7]
 [ 18  23]]
Normalized Confusion matrix: 
 [[0.988 0.012]
 [0.439 0.561]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 64.79
Validation accuracy: 95.93
Validation recall: 56.10
Validation precision: 76.67
Validation AUC: 0.6849282315302612
Validation class accuracies: [0.987783595113438, 0.5609756097560976]
2021-06-30 07:01:40.706890: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 577 of 3616
2021-06-30 07:01:50.754407: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1169 of 3616
2021-06-30 07:02:00.539524: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1745 of 3616
2021-06-30 07:02:10.756403: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2353 of 3616
2021-06-30 07:02:20.747644: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2913 of 3616
2021-06-30 07:02:30.537640: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3314 of 3616
2021-06-30 07:02:35.964371: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.684931506849315 hasn't increased by 0 in 3 epochs
Epoch 9/65
226/226 - 151s - loss: 0.0147 - accuracy: 0.9867 - val_loss: 0.2151 - val_accuracy: 0.9495
Confusion matrix: 
 [[565   8]
 [ 23  18]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.986 0.014]
 [0.561 0.439]]
Validation f1: 53.73
Validation accuracy: 94.95
Validation recall: 43.90
Validation precision: 69.23
Validation AUC: 0.5894164785390374
Validation class accuracies: [0.9860383944153578, 0.43902439024390244]
2021-06-30 07:04:22.821684: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 545 of 3616
2021-06-30 07:04:32.902039: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1137 of 3616
2021-06-30 07:04:42.847251: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1713 of 3616
2021-06-30 07:04:52.874127: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2305 of 3616
2021-06-30 07:05:02.902703: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2897 of 3616
2021-06-30 07:05:12.689312: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3389 of 3616
2021-06-30 07:05:18.481181: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.684931506849315 hasn't increased by 0 in 4 epochs
Epoch 10/65
226/226 - 152s - loss: 0.0124 - accuracy: 0.9867 - val_loss: 0.1735 - val_accuracy: 0.9544
Confusion matrix: 
 [[563  10]
 [ 18  23]]
Normalized Confusion matrix: 
 [[0.983 0.017]
 [0.439 0.561]]
Validation f1: 62.16
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation accuracy: 95.44
Validation recall: 56.10
Validation precision: 69.70
Validation AUC: 0.671035899145227
Validation class accuracies: [0.9825479930191972, 0.5609756097560976]
2021-06-30 07:07:03.957297: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 705 of 3616
2021-06-30 07:07:13.918759: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1409 of 3616
2021-06-30 07:07:23.974748: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1985 of 3616
2021-06-30 07:07:33.934159: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2545 of 3616
2021-06-30 07:07:44.066122: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3137 of 3616
2021-06-30 07:07:53.861262: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3545 of 3616
2021-06-30 07:07:55.638195: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.684931506849315 hasn't increased by 0 in 5 epochs
Epoch 11/65
226/226 - 148s - loss: 0.0136 - accuracy: 0.9867 - val_loss: 0.4221 - val_accuracy: 0.8534
Confusion matrix: 
 [[496  77]
 [ 13  28]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.866 0.134]
 [0.317 0.683]]
Validation f1: 38.36
Validation accuracy: 85.34
Validation recall: 68.29
Validation precision: 26.67
Validation AUC: 0.5598696781770124
Validation class accuracies: [0.8656195462478184, 0.6829268292682927]
2021-06-30 07:09:41.293707: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 705 of 3616
2021-06-30 07:09:51.195680: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1425 of 3616
2021-06-30 07:10:01.334738: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2161 of 3616
2021-06-30 07:10:11.187612: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2849 of 3616
2021-06-30 07:10:21.235246: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3421 of 3616
2021-06-30 07:10:26.321327: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.684931506849315 hasn't increased by 0 in 6 epochs
Lr has been adjusted to 0.0005000000237487257
Epoch 12/65
226/226 - 142s - loss: 0.0111 - accuracy: 0.9873 - val_loss: 0.2148 - val_accuracy: 0.9544
Confusion matrix: 
 [[568   5]
 [ 23  18]]
Normalized Confusion matrix: 
 [[0.991 0.009]
 [0.561 0.439]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 56.25
Validation accuracy: 95.44
Validation recall: 43.90
Validation precision: 78.26
Validation AUC: 0.6399725833591347
Validation class accuracies: [0.9912739965095986, 0.43902439024390244]
2021-06-30 07:12:12.452385: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 705 of 3616
2021-06-30 07:12:22.528149: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1425 of 3616
2021-06-30 07:12:32.574370: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2145 of 3616
2021-06-30 07:12:42.589526: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2865 of 3616
2021-06-30 07:12:52.446711: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3494 of 3616
2021-06-30 07:12:54.629436: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.684931506849315 hasn't increased by 0 in 7 epochs
Epoch 13/65
226/226 - 139s - loss: 0.0099 - accuracy: 0.9873 - val_loss: 0.1957 - val_accuracy: 0.9479
Confusion matrix: 
 [[566   7]
 [ 25  16]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.988 0.012]
 [0.61  0.39 ]]
Validation f1: 50.00
Validation accuracy: 94.79
Validation recall: 39.02
Validation precision: 69.57
Validation AUC: 0.6208689160236939
Validation class accuracies: [0.987783595113438, 0.3902439024390244]
2021-06-30 07:14:42.598691: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 561 of 3616
2021-06-30 07:14:52.711477: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1153 of 3616
2021-06-30 07:15:02.688181: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1729 of 3616
2021-06-30 07:15:12.630840: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2305 of 3616
2021-06-30 07:15:22.819805: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2897 of 3616
2021-06-30 07:15:32.577966: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3385 of 3616
2021-06-30 07:15:38.621675: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.684931506849315 hasn't increased by 0 in 8 epochs
Epoch 14/65
226/226 - 155s - loss: 0.0103 - accuracy: 0.9873 - val_loss: 0.2042 - val_accuracy: 0.9544
Confusion matrix: 
 [[566   7]
 [ 21  20]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.988 0.012]
 [0.512 0.488]]
Validation f1: 58.82
Validation accuracy: 95.44
Validation recall: 48.78
Validation precision: 74.07
Validation AUC: 0.640309986039286
Validation class accuracies: [0.987783595113438, 0.4878048780487805]
2021-06-30 07:17:26.665810: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 705 of 3616
2021-06-30 07:17:36.669025: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1425 of 3616
2021-06-30 07:17:46.823810: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2145 of 3616
2021-06-30 07:17:56.688483: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2849 of 3616
2021-06-30 07:18:06.670608: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3485 of 3616
2021-06-30 07:18:09.060586: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.684931506849315 hasn't increased by 0 in 9 epochs
Epoch 15/65
226/226 - 141s - loss: 0.0091 - accuracy: 0.9873 - val_loss: 0.1909 - val_accuracy: 0.9577
Confusion matrix: 
 [[566   7]
 [ 19  22]]
Normalized Confusion matrix: 
 [[0.988 0.012]
 [0.463 0.537]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 62.86
Validation accuracy: 95.77
Validation recall: 53.66
Validation precision: 75.86
Validation AUC: 0.6677226799506274
Validation class accuracies: [0.987783595113438, 0.5365853658536586]
2021-06-30 07:19:58.947830: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 577 of 3616
2021-06-30 07:20:08.820182: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1153 of 3616
2021-06-30 07:20:18.911706: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1745 of 3616
2021-06-30 07:20:28.916440: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2321 of 3616
2021-06-30 07:20:38.977848: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2753 of 3616
2021-06-30 07:20:48.806054: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3410 of 3616
2021-06-30 07:20:52.533747: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.684931506849315 hasn't increased by 0 in 10 epochs
Epoch 16/65
226/226 - 150s - loss: 0.0106 - accuracy: 0.9873 - val_loss: 0.2382 - val_accuracy: 0.9544
Confusion matrix: 
 [[571   2]
 [ 26  15]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.997 0.003]
 [0.634 0.366]]
Validation f1: 51.72
Validation accuracy: 95.44
Validation recall: 36.59
Validation precision: 88.24
Validation AUC: 0.6444585300080152
Validation class accuracies: [0.9965095986038395, 0.36585365853658536]
2021-06-30 07:22:37.777588: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 577 of 3616
2021-06-30 07:22:47.635332: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1137 of 3616
2021-06-30 07:22:57.834149: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1729 of 3616
2021-06-30 07:23:07.669451: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2305 of 3616
2021-06-30 07:23:17.764444: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2881 of 3616
2021-06-30 07:23:27.664221: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3382 of 3616
2021-06-30 07:23:33.640825: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.684931506849315 hasn't increased by 0 in 11 epochs
Epoch 17/65
226/226 - 153s - loss: 0.0093 - accuracy: 0.9873 - val_loss: 0.1856 - val_accuracy: 0.9560
Confusion matrix: 
 [[564   9]
 [ 18  23]]
Normalized Confusion matrix: 
 [[0.984 0.016]
 [0.439 0.561]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 63.01
Validation accuracy: 95.60
Validation recall: 56.10
Validation precision: 71.88
Validation AUC: 0.6853722938627432
Validation class accuracies: [0.9842931937172775, 0.5609756097560976]
2021-06-30 07:25:19.851708: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 721 of 3616
2021-06-30 07:25:29.726391: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1432 of 3616
2021-06-30 07:25:39.772654: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2145 of 3616
2021-06-30 07:25:49.866432: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2881 of 3616
2021-06-30 07:25:59.738697: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3495 of 3616
2021-06-30 07:26:01.914854: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.684931506849315 hasn't increased by 0 in 12 epochs
Lr has been adjusted to 0.0002500000118743628
Epoch 18/65
226/226 - 141s - loss: 0.0081 - accuracy: 0.9870 - val_loss: 0.1980 - val_accuracy: 0.9511
Confusion matrix: 
 [[567   6]
 [ 24  17]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.99  0.01 ]
 [0.585 0.415]]
Validation f1: 53.12
Validation accuracy: 95.11
Validation recall: 41.46
Validation precision: 73.91
Validation AUC: 0.6637070208261815
Validation class accuracies: [0.9895287958115183, 0.4146341463414634]
2021-06-30 07:27:52.576074: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 721 of 3616
2021-06-30 07:28:02.655050: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1441 of 3616
2021-06-30 07:28:12.627809: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2161 of 3616
2021-06-30 07:28:22.628542: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2881 of 3616
2021-06-30 07:28:32.478161: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3501 of 3616
2021-06-30 07:28:34.545300: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.684931506849315 hasn't increased by 0 in 13 epochs
Epoch 19/65
226/226 - 140s - loss: 0.0079 - accuracy: 0.9873 - val_loss: 0.1903 - val_accuracy: 0.9577
Confusion matrix: 
 [[565   8]
 [ 18  23]]
Normalized Confusion matrix: 
 [[0.986 0.014]
 [0.439 0.561]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 63.89
Validation accuracy: 95.77
Validation recall: 56.10
Validation precision: 74.19
Validation AUC: 0.6744464156579606
Validation class accuracies: [0.9860383944153578, 0.5609756097560976]
2021-06-30 07:30:23.488853: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 577 of 3616
2021-06-30 07:30:33.440551: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1153 of 3616
2021-06-30 07:30:43.528461: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1745 of 3616
2021-06-30 07:30:53.622800: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2337 of 3616
2021-06-30 07:31:03.525493: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2913 of 3616
2021-06-30 07:31:13.376103: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3299 of 3616
2021-06-30 07:31:19.478093: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.684931506849315 hasn't increased by 0 in 14 epochs
Epoch 20/65
226/226 - 152s - loss: 0.0081 - accuracy: 0.9873 - val_loss: 0.2155 - val_accuracy: 0.9528
Confusion matrix: 
 [[567   6]
 [ 23  18]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.99  0.01 ]
 [0.561 0.439]]
Validation f1: 55.38
Validation accuracy: 95.28
Validation recall: 43.90
Validation precision: 75.00
Validation AUC: 0.6557291777495795
Validation class accuracies: [0.9895287958115183, 0.43902439024390244]
2021-06-30 07:33:04.446554: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 689 of 3616
2021-06-30 07:33:14.426338: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1265 of 3616
2021-06-30 07:33:24.362479: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1825 of 3616
2021-06-30 07:33:34.397724: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2417 of 3616
2021-06-30 07:33:44.476184: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3009 of 3616
2021-06-30 07:33:54.287413: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3466 of 3616
2021-06-30 07:33:58.176949: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.684931506849315 hasn't increased by 0 in 15 epochs
Epoch 21/65
226/226 - 150s - loss: 0.0078 - accuracy: 0.9870 - val_loss: 0.2139 - val_accuracy: 0.9511
Confusion matrix: 
 [[563  10]
 [ 20  21]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.983 0.017]
 [0.488 0.512]]
Validation f1: 58.33
Validation accuracy: 95.11
Validation recall: 51.22
Validation precision: 67.74
Validation AUC: 0.606123174282626
Validation class accuracies: [0.9825479930191972, 0.5121951219512195]
2021-06-30 07:35:43.436749: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 721 of 3616
2021-06-30 07:35:53.473452: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1441 of 3616
2021-06-30 07:36:03.511069: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2161 of 3616
2021-06-30 07:36:13.359423: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2881 of 3616
2021-06-30 07:36:23.317374: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3514 of 3616
2021-06-30 07:36:25.216416: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.684931506849315 hasn't increased by 0 in 16 epochs
Epoch 22/65
226/226 - 140s - loss: 0.0082 - accuracy: 0.9873 - val_loss: 0.2237 - val_accuracy: 0.9544
Confusion matrix: 
 [[569   4]
 [ 24  17]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.993 0.007]
 [0.585 0.415]]
Validation f1: 54.84
Validation accuracy: 95.44
Validation recall: 41.46
Validation precision: 80.95
Validation AUC: 0.6484312674846638
Validation class accuracies: [0.9930191972076788, 0.4146341463414634]
2021-06-30 07:38:15.040804: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 481 of 3616
2021-06-30 07:38:25.121378: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1201 of 3616
2021-06-30 07:38:35.094661: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1905 of 3616
2021-06-30 07:38:44.981095: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2609 of 3616
2021-06-30 07:38:55.004270: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3310 of 3616
2021-06-30 07:39:00.564582: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.684931506849315 hasn't increased by 0 in 17 epochs
Epoch 23/65
226/226 - 143s - loss: 0.0080 - accuracy: 0.9873 - val_loss: 0.2212 - val_accuracy: 0.9544
Confusion matrix: 
 [[569   4]
 [ 24  17]]
Normalized Confusion matrix: 
 [[0.993 0.007]
 [0.585 0.415]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 54.84
Validation accuracy: 95.44
Validation recall: 41.46
Validation precision: 80.95
Validation AUC: 0.6738788293883617
Validation class accuracies: [0.9930191972076788, 0.4146341463414634]
2021-06-30 07:40:49.402473: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 577 of 3616
2021-06-30 07:40:59.320838: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1153 of 3616
2021-06-30 07:41:09.368317: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1745 of 3616
2021-06-30 07:41:19.206358: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2321 of 3616
2021-06-30 07:41:29.289944: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2913 of 3616
2021-06-30 07:41:39.190646: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3405 of 3616
2021-06-30 07:41:45.072027: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.684931506849315 hasn't increased by 0 in 18 epochs
Lr has been adjusted to 0.0001250000059371814
Epoch 24/65
226/226 - 152s - loss: 0.0087 - accuracy: 0.9873 - val_loss: 0.1913 - val_accuracy: 0.9577
Confusion matrix: 
 [[567   6]
 [ 20  21]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.99  0.01 ]
 [0.488 0.512]]
Validation f1: 61.76
Validation accuracy: 95.77
Validation recall: 51.22
Validation precision: 77.78
Validation AUC: 0.6595512309088535
Validation class accuracies: [0.9895287958115183, 0.5121951219512195]
2021-06-30 07:43:30.075175: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 705 of 3616
2021-06-30 07:43:40.151548: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1409 of 3616
2021-06-30 07:43:50.084478: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1985 of 3616
2021-06-30 07:44:00.288991: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2561 of 3616
2021-06-30 07:44:10.260221: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3153 of 3616
2021-06-30 07:44:20.037273: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3557 of 3616
2021-06-30 07:44:21.508183: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.684931506849315 hasn't increased by 0 in 19 epochs
Epoch 25/65
226/226 - 148s - loss: 0.0078 - accuracy: 0.9873 - val_loss: 0.2070 - val_accuracy: 0.9528
Confusion matrix: 
 [[568   5]
 [ 24  17]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.991 0.009]
 [0.585 0.415]]
Validation f1: 53.97
Validation accuracy: 95.28
Validation recall: 41.46
Validation precision: 77.27
Validation AUC: 0.6599949747478632
Validation class accuracies: [0.9912739965095986, 0.4146341463414634]

The metrics for job 2 with the best target metric are: 
Best cm: [[566   7]
 [ 16  25]]
Best normalized cm: [[0.988 0.012]
 [0.39  0.61 ]]
Best f1: 0.68
Best accuracy: 0.96
Best recall: 0.61
Best precision: 0.78
Best AUC: 0.69
Best class accuracies: [0.987783595113438, 0.6097560975609756]
Best epoch: 5
The number of epochs since last 1% equals the patience
../../new_cache/conv__2275__06_0339__v39__mixup/2/icbhi_218_1b1_Pr_sc_Meditron_9_label_0_pred_0.png, [[0.]]
../../new_cache/conv__2275__06_0339__v39__mixup/2/icbhi_221_2b3_Lr_mc_LittC2SE_3_label_0_pred_0.png, [[0.022]]
../../new_cache/conv__2275__06_0339__v39__mixup/2/icbhi_203_2p3_Tc_mc_AKGC417L_0_label_0_pred_0.png, [[1.068e-06]]
../../new_cache/conv__2275__06_0339__v39__mixup/2/icbhi_213_1p2_Pr_mc_AKGC417L_1_label_0_pred_0.png, [[0.001]]
../../new_cache/conv__2275__06_0339__v39__mixup/2/icbhi_205_4b2_Lr_mc_AKGC417L_3_label_0_pred_0.png, [[0.]]
../../new_cache/conv__2275__06_0339__v39__mixup/2/icbhi_207_2b3_Tc_mc_AKGC417L_0_label_0_pred_0.png, [[5.762e-05]]
../../new_cache/conv__2275__06_0339__v39__mixup/2/icbhi_221_2b2_Al_mc_LittC2SE_3_label_0_pred_0.png, [[0.012]]
../../new_cache/conv__2275__06_0339__v39__mixup/2/icbhi_213_1p2_Tc_mc_AKGC417L_0_label_0_pred_0.png, [[9.789e-06]]
../../new_cache/conv__2275__06_0339__v39__mixup/2/icbhi_218_1b1_Ar_sc_Meditron_3_label_0_pred_0.png, [[1.085e-05]]
../../new_cache/conv__2275__06_0339__v39__mixup/2/icbhi_204_7p5_Ar_mc_AKGC417L_2_label_0_pred_0.png, [[1.694e-06]]
../../new_cache/conv__2275__06_0339__v39__mixup/2/icbhi_218_1b1_Al_sc_Meditron_11_label_0_pred_0.png, [[0.022]]
../../new_cache/conv__2275__06_0339__v39__mixup/2/icbhi_216_1b1_Pl_sc_Meditron_2_label_0_pred_0.png, [[6.113e-07]]
../../new_cache/conv__2275__06_0339__v39__mixup/2/icbhi_218_1b1_Pr_sc_Meditron_7_label_0_pred_0.png, [[3.932e-05]]
../../new_cache/conv__2275__06_0339__v39__mixup/2/icbhi_222_1b1_Pr_sc_Meditron_12_label_0_pred_0.png, [[0.]]
../../new_cache/conv__2275__06_0339__v39__mixup/2/icbhi_218_1b1_Ar_sc_Meditron_7_label_0_pred_0.png, [[2.538e-05]]
../../new_cache/conv__2275__06_0339__v39__mixup/2/icbhi_219_2b3_Tc_mc_LittC2SE_0_label_1_pred_0.png, [[0.098]]
../../new_cache/conv__2275__06_0339__v39__mixup/2/icbhi_218_1p1_Pl_sc_Litt3200_3_label_0_pred_0.png, [[0.]]
../../new_cache/conv__2275__06_0339__v39__mixup/2/icbhi_205_4b2_Pr_mc_AKGC417L_0_label_0_pred_0.png, [[8.52e-07]]
../../new_cache/conv__2275__06_0339__v39__mixup/2/icbhi_204_2b5_Al_mc_AKGC417L_2_label_0_pred_0.png, [[2.807e-05]]
../../new_cache/conv__2275__06_0339__v39__mixup/2/icbhi_205_4b2_Al_mc_AKGC417L_2_label_0_pred_0.png, [[0.]]
../../new_cache/conv__2275__06_0339__v39__mixup/2/icbhi_207_2b3_Al_mc_AKGC417L_2_label_0_pred_0.png, [[0.001]]
../../new_cache/conv__2275__06_0339__v39__mixup/2/icbhi_205_4b2_Pr_mc_AKGC417L_1_label_0_pred_0.png, [[1.41e-05]]
../../new_cache/conv__2275__06_0339__v39__mixup/2/icbhi_207_3b2_Pl_mc_AKGC417L_3_label_0_pred_0.png, [[0.006]]
../../new_cache/conv__2275__06_0339__v39__mixup/2/icbhi_217_1b1_Tc_sc_Meditron_0_label_0_pred_0.png, [[0.002]]
../../new_cache/conv__2275__06_0339__v39__mixup/2/jordan_EP37_pneumonia,Crep,A R L,70,F_1_label_1_pred_1.png, [[0.754]]
../../new_cache/conv__2275__06_0339__v39__mixup/2/icbhi_222_1b1_Ar_sc_Meditron_6_label_0_pred_0.png, [[0.]]
../../new_cache/conv__2275__06_0339__v39__mixup/2/icbhi_205_1b3_Ar_mc_AKGC417L_3_label_0_pred_0.png, [[0.]]
../../new_cache/conv__2275__06_0339__v39__mixup/2/icbhi_213_2p2_Al_mc_AKGC417L_2_label_0_pred_0.png, [[2.846e-06]]
../../new_cache/conv__2275__06_0339__v39__mixup/2/icbhi_222_1b1_Pr_sc_Meditron_7_label_0_pred_0.png, [[4.488e-05]]
../../new_cache/conv__2275__06_0339__v39__mixup/2/icbhi_207_2b4_Ar_mc_AKGC417L_1_label_0_pred_0.png, [[3.332e-05]]
../../new_cache/conv__2275__06_0339__v39__mixup/2/icbhi_204_7p5_Lr_mc_AKGC417L_2_label_0_pred_0.png, [[2.922e-06]]
../../new_cache/conv__2275__06_0339__v39__mixup/2/icbhi_215_1b2_Ar_sc_Meditron_2_label_0_pred_0.png, [[1.129e-05]]
../../new_cache/conv__2275__06_0339__v39__mixup/2/icbhi_217_1b1_Tc_sc_Meditron_2_label_0_pred_0.png, [[0.018]]
../../new_cache/conv__2275__06_0339__v39__mixup/2/icbhi_203_2p3_Pr_mc_AKGC417L_0_label_0_pred_0.png, [[0.013]]
../../new_cache/conv__2275__06_0339__v39__mixup/2/icbhi_219_2b2_Tc_mc_LittC2SE_2_label_1_pred_1.png, [[0.999]]
../../new_cache/conv__2275__06_0339__v39__mixup/2/icbhi_205_3b4_Ar_mc_AKGC417L_1_label_0_pred_0.png, [[2.462e-06]]
../../new_cache/conv__2275__06_0339__v39__mixup/2/icbhi_211_1p2_Pl_mc_AKGC417L_1_label_0_pred_0.png, [[5.65e-05]]
../../new_cache/conv__2275__06_0339__v39__mixup/2/icbhi_221_2b3_Al_mc_LittC2SE_1_label_0_pred_0.png, [[0.014]]
../../new_cache/conv__2275__06_0339__v39__mixup/2/icbhi_221_2b1_Ar_mc_LittC2SE_2_label_0_pred_0.png, [[0.16]]
../../new_cache/conv__2275__06_0339__v39__mixup/2/icbhi_218_1b1_Pr_sc_Meditron_11_label_0_pred_0.png, [[2.747e-05]]
../../new_cache/conv__2275__06_0339__v39__mixup/2/icbhi_213_1p5_Ar_mc_AKGC417L_0_label_0_pred_0.png, [[1.146e-06]]
../../new_cache/conv__2275__06_0339__v39__mixup/2/icbhi_221_2b2_Al_mc_LittC2SE_1_label_0_pred_0.png, [[0.07]]
../../new_cache/conv__2275__06_0339__v39__mixup/2/icbhi_203_2p3_Ar_mc_AKGC417L_0_label_0_pred_0.png, [[4.434e-07]]
../../new_cache/conv__2275__06_0339__v39__mixup/2/icbhi_205_1b3_Al_mc_AKGC417L_0_label_0_pred_0.png, [[0.]]
../../new_cache/conv__2275__06_0339__v39__mixup/2/icbhi_223_1b1_Ll_sc_Meditron_4_label_0_pred_0.png, [[3.938e-05]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
wandb: Waiting for W&B process to finish, PID 32265
wandb: Program ended successfully.
wandb: Find user logs for this run at: /home/alirachidi/classification_algorithm/trainers/main/wandb/offline-run-20210630_063925-2zr6xv5a/logs/debug.log
wandb: Find internal logs for this run at: /home/alirachidi/classification_algorithm/trainers/main/wandb/offline-run-20210630_063925-2zr6xv5a/logs/debug-internal.log
wandb: Run summary:
wandb:       train_accuracy 0.98728
wandb:         val_accuracy 0.95277
wandb:             _runtime 3990
wandb:           _timestamp 1625039157
wandb:                _step 180
wandb:           train_loss 0.00779
wandb:             val_loss 0.20699
wandb:           val_recall 0.41463
wandb:        val_precision 0.77273
wandb:               val_f1 0.53968
wandb:              val_auc 0.65999
wandb:                   lr 0.00013
wandb:          best_val_f1 0.68493
wandb:    best_val_accuracy 0.96254
wandb:   best_val_precision 0.78125
wandb:      best_val_recall 0.60976
wandb:             best_auc 0.6869
wandb:           best_epoch 5
wandb: Run history:
wandb:   train_accuracy 
wandb:     val_accuracy 
wandb:         _runtime 
wandb:       _timestamp 
wandb:            _step 
wandb:       train_loss 
wandb:         val_loss 
wandb:       val_recall 
wandb:    val_precision 
wandb:           val_f1 
wandb:          val_auc 
wandb:               lr 
wandb: 
wandb: You can sync this run to the cloud by running:
wandb: wandb sync /home/alirachidi/classification_algorithm/trainers/main/wandb/offline-run-20210630_063925-2zr6xv5a

-----------------------
Changing augmentation to v42, v43
Audio Augmentation Parameters: {'ADD': 1, 'QUANTITY': 1000, 'WAV_PATH': 'v42,v43'}
Collecting Variables...
All variables have been collected.
wandb: W&B syncing is set to `offline` in this directory.  Run `wandb online` or set WANDB_MODE=online to enable cloud syncing.
2021-06-30 07:47:59.944758: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 577 of 4374
2021-06-30 07:48:10.074024: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1169 of 4374
2021-06-30 07:48:20.060900: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1761 of 4374
2021-06-30 07:48:30.086233: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2353 of 4374
2021-06-30 07:48:39.981415: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2929 of 4374
2021-06-30 07:48:49.952027: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3505 of 4374
2021-06-30 07:48:59.993563: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3975 of 4374
2021-06-30 07:49:09.060377: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
Pneumonia patients: 148, Non-pneumonia patients: 2873
Pneumonia patients: 51, Non-pneumonia patients: 0
-----------------------
Number of train recordings: 2458 with pneumonia: 158 and non-pneumonia: 2300
Length of training samples after audio augmentation: 2774
-----------------------
Number of train recordings: 2774 with pneumonia: 474 and non-pneumonia: 2300
Length of training samples after audio augmentation: 3974
-----------------------
Number of train recordings: 3974 with pneumonia: 474 and non-pneumonia: 3500
Number of val recordings: 614 with pneumonia: 41 and non-pneumonia: 573
-----------------------
New dataset length after mix-up augmentation: 4374
Model: "conv2d"
______________________________________________________________________________________________________________
Layer (type)                                     Output Shape                                Param #          
==============================================================================================================
input_4 (InputLayer)                             [(None, 128, 1250, 1)]                      0                
______________________________________________________________________________________________________________
conv2d_15 (Conv2D)                               (None, 128, 1250, 8)                        80               
______________________________________________________________________________________________________________
mix_depth_group_convolution2d_15 (MixDepthGroupC (None, 128, 1250, 8)                        162              
______________________________________________________________________________________________________________
average_pooling2d_15 (AveragePooling2D)          (None, 64, 625, 8)                          0                
______________________________________________________________________________________________________________
batch_normalization_15 (BatchNormalization)      (None, 64, 625, 8)                          32               
______________________________________________________________________________________________________________
conv2d_16 (Conv2D)                               (None, 64, 625, 16)                         1168             
______________________________________________________________________________________________________________
mix_depth_group_convolution2d_16 (MixDepthGroupC (None, 64, 625, 16)                         414              
______________________________________________________________________________________________________________
average_pooling2d_16 (AveragePooling2D)          (None, 32, 313, 16)                         0                
______________________________________________________________________________________________________________
batch_normalization_16 (BatchNormalization)      (None, 32, 313, 16)                         64               
______________________________________________________________________________________________________________
conv2d_17 (Conv2D)                               (None, 32, 313, 32)                         4640             
______________________________________________________________________________________________________________
mix_depth_group_convolution2d_17 (MixDepthGroupC (None, 32, 313, 32)                         828              
______________________________________________________________________________________________________________
average_pooling2d_17 (AveragePooling2D)          (None, 16, 157, 32)                         0                
______________________________________________________________________________________________________________
batch_normalization_17 (BatchNormalization)      (None, 16, 157, 32)                         128              
______________________________________________________________________________________________________________
conv2d_18 (Conv2D)                               (None, 16, 157, 64)                         18496            
______________________________________________________________________________________________________________
mix_depth_group_convolution2d_18 (MixDepthGroupC (None, 16, 157, 64)                         1656             
______________________________________________________________________________________________________________
average_pooling2d_18 (AveragePooling2D)          (None, 8, 79, 64)                           0                
______________________________________________________________________________________________________________
batch_normalization_18 (BatchNormalization)      (None, 8, 79, 64)                           256              
______________________________________________________________________________________________________________
conv2d_19 (Conv2D)                               (None, 8, 79, 128)                          73856            
______________________________________________________________________________________________________________
mix_depth_group_convolution2d_19 (MixDepthGroupC (None, 8, 79, 128)                          3402             
______________________________________________________________________________________________________________
average_pooling2d_19 (AveragePooling2D)          (None, 4, 40, 128)                          0                
______________________________________________________________________________________________________________
batch_normalization_19 (BatchNormalization)      (None, 4, 40, 128)                          512              
______________________________________________________________________________________________________________
global_average_pooling2d_3 (GlobalAveragePooling (None, 128)                                 0                
______________________________________________________________________________________________________________
dense_3 (Dense)                                  (None, 1)                                   129              
==============================================================================================================
Total params: 105,823
Trainable params: 105,327
Non-trainable params: 496
______________________________________________________________________________________________________________
Epoch 1/65
274/274 - 181s - loss: 0.3032 - accuracy: 0.8813 - val_loss: 0.2671 - val_accuracy: 0.9332
Confusion matrix: 
 [[573   0]
 [ 41   0]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/sklearn/metrics/_classification.py:1272: UndefinedMetricWarning: Precision and F-score are ill-defined and being set to 0.0 due to no predicted samples. Use `zero_division` parameter to control this behavior.
  _warn_prf(average, modifier, msg_start, len(result))
Normalized Confusion matrix: 
 [[1. 0.]
 [1. 0.]]
Validation f1: 0.00
Validation accuracy: 93.32
Validation recall: 0.00
Validation precision: 0.00
Validation AUC: 0.13620256153059754
Validation class accuracies: [1.0, 0.0]
2021-06-30 07:51:11.855872: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 561 of 4374
2021-06-30 07:51:21.724948: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1137 of 4374
2021-06-30 07:51:31.658161: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1713 of 4374
2021-06-30 07:51:41.817781: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2305 of 4374
2021-06-30 07:51:51.609473: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2881 of 4374
2021-06-30 07:52:01.634195: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3473 of 4374
2021-06-30 07:52:11.618058: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 4027 of 4374
2021-06-30 07:52:20.497817: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0 hasn't increased by 0 in 1 epochs
Epoch 2/65
274/274 - 181s - loss: 0.1442 - accuracy: 0.9355 - val_loss: 0.4395 - val_accuracy: 0.9332
Confusion matrix: 
 [[573   0]
 [ 41   0]]
Normalized Confusion matrix: 
 [[1. 0.]
 [1. 0.]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/sklearn/metrics/_classification.py:1272: UndefinedMetricWarning: Precision and F-score are ill-defined and being set to 0.0 due to no predicted samples. Use `zero_division` parameter to control this behavior.
  _warn_prf(average, modifier, msg_start, len(result))
Validation f1: 0.00
Validation accuracy: 93.32
Validation recall: 0.00
Validation precision: 0.00
Validation AUC: 0.22338916765838274
Validation class accuracies: [1.0, 0.0]
2021-06-30 07:54:21.892295: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 721 of 4374
2021-06-30 07:54:31.725100: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1393 of 4374
2021-06-30 07:54:41.805892: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1969 of 4374
2021-06-30 07:54:51.951757: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2545 of 4374
2021-06-30 07:55:01.787063: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3121 of 4374
2021-06-30 07:55:11.878827: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3713 of 4374
2021-06-30 07:55:21.759102: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 4183 of 4374
2021-06-30 07:55:26.666675: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0 hasn't increased by 0 in 2 epochs
Epoch 3/65
274/274 - 178s - loss: 0.0729 - accuracy: 0.9668 - val_loss: 0.2600 - val_accuracy: 0.9430
Confusion matrix: 
 [[573   0]
 [ 35   6]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[1.    0.   ]
 [0.854 0.146]]
Validation f1: 25.53
Validation accuracy: 94.30
Validation recall: 14.63
Validation precision: 100.00
Validation AUC: 0.7085783691335857
Validation class accuracies: [1.0, 0.14634146341463414]
2021-06-30 07:57:28.585154: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 705 of 4374
2021-06-30 07:57:38.732414: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1441 of 4374
2021-06-30 07:57:48.742502: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2161 of 4374
2021-06-30 07:57:58.630855: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2865 of 4374
2021-06-30 07:58:08.733899: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3473 of 4374
2021-06-30 07:58:18.576499: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 4008 of 4374
2021-06-30 07:58:27.972167: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
Saving model...
Epoch 4/65
274/274 - 172s - loss: 0.0409 - accuracy: 0.9774 - val_loss: 0.1814 - val_accuracy: 0.9463
Confusion matrix: 
 [[556  17]
 [ 16  25]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.97 0.03]
 [0.39 0.61]]
Validation f1: 60.24
Validation accuracy: 94.63
Validation recall: 60.98
Validation precision: 59.52
Validation AUC: 0.6712128970010827
Validation class accuracies: [0.9703315881326352, 0.6097560975609756]
2021-06-30 08:00:29.868371: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 705 of 4374
2021-06-30 08:00:39.879082: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1425 of 4374
2021-06-30 08:00:49.842128: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2145 of 4374
2021-06-30 08:00:59.936510: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2865 of 4374
2021-06-30 08:01:09.816372: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3569 of 4374
2021-06-30 08:01:19.749108: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 4211 of 4374
2021-06-30 08:01:22.677963: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
Saving model...
Epoch 5/65
274/274 - 166s - loss: 0.0279 - accuracy: 0.9819 - val_loss: 0.2739 - val_accuracy: 0.9381
Confusion matrix: 
 [[547  26]
 [ 12  29]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.955 0.045]
 [0.293 0.707]]
Validation f1: 60.42
Validation accuracy: 93.81
Validation recall: 70.73
Validation precision: 52.73
Validation AUC: 0.6970321266363008
Validation class accuracies: [0.9546247818499127, 0.7073170731707317]
2021-06-30 08:03:24.772620: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 705 of 4374
2021-06-30 08:03:34.664427: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1419 of 4374
2021-06-30 08:03:44.712479: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2129 of 4374
2021-06-30 08:03:54.736857: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2849 of 4374
2021-06-30 08:04:04.682859: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3569 of 4374
2021-06-30 08:04:14.719335: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 4220 of 4374
2021-06-30 08:04:17.449125: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
Saving model...
Epoch 6/65
274/274 - 167s - loss: 0.0213 - accuracy: 0.9851 - val_loss: 0.2604 - val_accuracy: 0.9153
Confusion matrix: 
 [[535  38]
 [ 14  27]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.934 0.066]
 [0.341 0.659]]
Validation f1: 50.94
Validation accuracy: 91.53
Validation recall: 65.85
Validation precision: 41.54
Validation AUC: 0.6120671318582761
Validation class accuracies: [0.9336823734729494, 0.6585365853658537]
2021-06-30 08:06:23.289440: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 449 of 4374
2021-06-30 08:06:33.095501: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1089 of 4374
2021-06-30 08:06:42.952755: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1809 of 4374
2021-06-30 08:06:53.098867: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2545 of 4374
2021-06-30 08:07:03.096807: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3265 of 4374
2021-06-30 08:07:12.953705: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3981 of 4374
2021-06-30 08:07:20.180531: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.6041666666666666 hasn't increased by 0 in 1 epochs
Epoch 7/65
274/274 - 170s - loss: 0.0161 - accuracy: 0.9854 - val_loss: 0.2249 - val_accuracy: 0.9642
Confusion matrix: 
 [[567   6]
 [ 16  25]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.99 0.01]
 [0.39 0.61]]
Validation f1: 69.44
Validation accuracy: 96.42
Validation recall: 60.98
Validation precision: 80.65
Validation AUC: 0.6977289377017414
Validation class accuracies: [0.9895287958115183, 0.6097560975609756]
2021-06-30 08:09:24.682237: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 577 of 4374
2021-06-30 08:09:34.610345: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1153 of 4374
2021-06-30 08:09:44.552553: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1729 of 4374
2021-06-30 08:09:54.742304: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2225 of 4374
2021-06-30 08:10:04.488924: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2801 of 4374
2021-06-30 08:10:14.656937: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3537 of 4374
2021-06-30 08:10:24.519149: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 4186 of 4374
2021-06-30 08:10:27.908482: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
Saving model...
Epoch 8/65
274/274 - 176s - loss: 0.0151 - accuracy: 0.9856 - val_loss: 0.4702 - val_accuracy: 0.8958
Confusion matrix: 
 [[520  53]
 [ 11  30]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.908 0.092]
 [0.268 0.732]]
Validation f1: 48.39
Validation accuracy: 89.58
Validation recall: 73.17
Validation precision: 36.14
Validation AUC: 0.6092723205182434
Validation class accuracies: [0.9075043630017452, 0.7317073170731707]
2021-06-30 08:12:31.639244: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 577 of 4374
2021-06-30 08:12:41.679608: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1169 of 4374
2021-06-30 08:12:51.541768: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1745 of 4374
2021-06-30 08:13:01.670065: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2337 of 4374
2021-06-30 08:13:11.517493: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2913 of 4374
2021-06-30 08:13:21.745804: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3521 of 4374
2021-06-30 08:13:31.522171: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3996 of 4374
2021-06-30 08:13:41.349535: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.6944444444444445 hasn't increased by 0 in 1 epochs
Epoch 9/65
274/274 - 181s - loss: 0.0139 - accuracy: 0.9845 - val_loss: 0.2577 - val_accuracy: 0.9658
Confusion matrix: 
 [[573   0]
 [ 21  20]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[1.    0.   ]
 [0.512 0.488]]
Validation f1: 65.57
Validation accuracy: 96.58
Validation recall: 48.78
Validation precision: 100.00
Validation AUC: 0.7173534677010809
Validation class accuracies: [1.0, 0.4878048780487805]
2021-06-30 08:15:42.525319: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 545 of 4374
2021-06-30 08:15:52.515800: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1121 of 4374
2021-06-30 08:16:02.611513: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1713 of 4374
2021-06-30 08:16:12.763255: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2305 of 4374
2021-06-30 08:16:22.540982: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2881 of 4374
2021-06-30 08:16:32.662933: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3473 of 4374
2021-06-30 08:16:42.543167: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 4031 of 4374
2021-06-30 08:16:51.347941: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.6944444444444445 hasn't increased by 0 in 2 epochs
Epoch 10/65
274/274 - 180s - loss: 0.0113 - accuracy: 0.9861 - val_loss: 0.2216 - val_accuracy: 0.9511
Confusion matrix: 
 [[559  14]
 [ 16  25]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.976 0.024]
 [0.39  0.61 ]]
Validation f1: 62.50
Validation accuracy: 95.11
Validation recall: 60.98
Validation precision: 64.10
Validation AUC: 0.6591341797129904
Validation class accuracies: [0.9755671902268761, 0.6097560975609756]
2021-06-30 08:18:52.060173: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 705 of 4374
2021-06-30 08:19:01.993668: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1425 of 4374
2021-06-30 08:19:12.067788: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2017 of 4374
2021-06-30 08:19:22.186919: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2593 of 4374
2021-06-30 08:19:32.049758: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3169 of 4374
2021-06-30 08:19:42.118648: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3761 of 4374
2021-06-30 08:19:51.946752: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 4212 of 4374
2021-06-30 08:19:56.099208: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.6944444444444445 hasn't increased by 0 in 3 epochs
Epoch 11/65
274/274 - 176s - loss: 0.0102 - accuracy: 0.9858 - val_loss: 0.3568 - val_accuracy: 0.9023
Confusion matrix: 
 [[527  46]
 [ 14  27]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.92  0.08 ]
 [0.341 0.659]]
Validation f1: 47.37
Validation accuracy: 90.23
Validation recall: 65.85
Validation precision: 36.99
Validation AUC: 0.6158993321328768
Validation class accuracies: [0.9197207678883071, 0.6585365853658537]
2021-06-30 08:21:57.560021: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 705 of 4374
2021-06-30 08:22:07.547324: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1425 of 4374
2021-06-30 08:22:17.554709: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2145 of 4374
2021-06-30 08:22:27.669969: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2881 of 4374
2021-06-30 08:22:37.526527: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3521 of 4374
2021-06-30 08:22:47.477071: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 4054 of 4374
2021-06-30 08:22:55.934236: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.6944444444444445 hasn't increased by 0 in 4 epochs
Epoch 12/65
274/274 - 170s - loss: 0.0138 - accuracy: 0.9851 - val_loss: 0.2388 - val_accuracy: 0.9560
Confusion matrix: 
 [[572   1]
 [ 26  15]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.998 0.002]
 [0.634 0.366]]
Validation f1: 52.63
Validation accuracy: 95.60
Validation recall: 36.59
Validation precision: 93.75
Validation AUC: 0.6982025651983418
Validation class accuracies: [0.9982547993019197, 0.36585365853658536]
2021-06-30 08:24:56.823353: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 721 of 4374
2021-06-30 08:25:06.850718: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1441 of 4374
2021-06-30 08:25:16.822613: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2161 of 4374
2021-06-30 08:25:26.801767: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2881 of 4374
2021-06-30 08:25:36.647108: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3585 of 4374
2021-06-30 08:25:46.629606: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 4231 of 4374
2021-06-30 08:25:49.201372: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.6944444444444445 hasn't increased by 0 in 5 epochs
Epoch 13/65
274/274 - 169s - loss: 0.0126 - accuracy: 0.9858 - val_loss: 0.2699 - val_accuracy: 0.9609
Confusion matrix: 
 [[568   5]
 [ 19  22]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.991 0.009]
 [0.463 0.537]]
Validation f1: 64.71
Validation accuracy: 96.09
Validation recall: 53.66
Validation precision: 81.48
Validation AUC: 0.6578838352908483
Validation class accuracies: [0.9912739965095986, 0.5365853658536586]
2021-06-30 08:27:54.216149: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 705 of 4374
2021-06-30 08:28:04.245716: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1425 of 4374
2021-06-30 08:28:14.314483: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2145 of 4374
2021-06-30 08:28:24.217270: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2865 of 4374
2021-06-30 08:28:34.343161: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3601 of 4374
2021-06-30 08:28:44.193148: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 4232 of 4374
2021-06-30 08:28:46.717028: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.6944444444444445 hasn't increased by 0 in 6 epochs
Lr has been adjusted to 0.0005000000237487257
Epoch 14/65
274/274 - 165s - loss: 0.0103 - accuracy: 0.9858 - val_loss: 0.2968 - val_accuracy: 0.9186
Confusion matrix: 
 [[536  37]
 [ 13  28]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.935 0.065]
 [0.317 0.683]]
Validation f1: 52.83
Validation accuracy: 91.86
Validation recall: 68.29
Validation precision: 43.08
Validation AUC: 0.6334879834774174
Validation class accuracies: [0.9354275741710296, 0.6829268292682927]
2021-06-30 08:30:51.136123: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 577 of 4374
2021-06-30 08:31:01.275640: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1025 of 4374
2021-06-30 08:31:11.159592: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1729 of 4374
2021-06-30 08:31:21.072285: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2449 of 4374
2021-06-30 08:31:31.050622: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3169 of 4374
2021-06-30 08:31:41.025564: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3889 of 4374
2021-06-30 08:31:49.423383: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.6944444444444445 hasn't increased by 0 in 7 epochs
Epoch 15/65
274/274 - 171s - loss: 0.0091 - accuracy: 0.9861 - val_loss: 0.2369 - val_accuracy: 0.9414
Confusion matrix: 
 [[551  22]
 [ 14  27]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.962 0.038]
 [0.341 0.659]]
Validation f1: 60.00
Validation accuracy: 94.14
Validation recall: 65.85
Validation precision: 55.10
Validation AUC: 0.6641285086579097
Validation class accuracies: [0.9616055846422339, 0.6585365853658537]
2021-06-30 08:33:53.753753: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 577 of 4374
2021-06-30 08:34:03.735015: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1169 of 4374
2021-06-30 08:34:13.820804: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1761 of 4374
2021-06-30 08:34:23.792615: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2337 of 4374
2021-06-30 08:34:33.704171: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2785 of 4374
2021-06-30 08:34:43.826596: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3457 of 4374
2021-06-30 08:34:53.700267: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 4125 of 4374
2021-06-30 08:34:58.233965: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.6944444444444445 hasn't increased by 0 in 8 epochs
Epoch 16/65
274/274 - 178s - loss: 0.0097 - accuracy: 0.9861 - val_loss: 0.2328 - val_accuracy: 0.9560
Confusion matrix: 
 [[563  10]
 [ 17  24]]
Normalized Confusion matrix: 
 [[0.983 0.017]
 [0.415 0.585]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 64.00
Validation accuracy: 95.60
Validation recall: 58.54
Validation precision: 70.59
Validation AUC: 0.6790509613617293
Validation class accuracies: [0.9825479930191972, 0.5853658536585366]
2021-06-30 08:37:02.824054: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 577 of 4374
2021-06-30 08:37:12.974039: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1169 of 4374
2021-06-30 08:37:22.864143: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1745 of 4374
2021-06-30 08:37:32.784008: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2321 of 4374
2021-06-30 08:37:42.911284: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2913 of 4374
2021-06-30 08:37:52.730733: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3489 of 4374
2021-06-30 08:38:02.729587: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 4048 of 4374
2021-06-30 08:38:11.906051: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.6944444444444445 hasn't increased by 0 in 9 epochs
Epoch 17/65
274/274 - 181s - loss: 0.0092 - accuracy: 0.9856 - val_loss: 0.2627 - val_accuracy: 0.9560
Confusion matrix: 
 [[560  13]
 [ 14  27]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.977 0.023]
 [0.341 0.659]]
Validation f1: 66.67
Validation accuracy: 95.60
Validation recall: 65.85
Validation precision: 67.50
Validation AUC: 0.6544417648973717
Validation class accuracies: [0.9773123909249564, 0.6585365853658537]
2021-06-30 08:40:12.359306: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 593 of 4374
2021-06-30 08:40:22.533192: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1169 of 4374
2021-06-30 08:40:32.533438: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1745 of 4374
2021-06-30 08:40:42.318722: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2321 of 4374
2021-06-30 08:40:52.301094: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2913 of 4374
2021-06-30 08:41:02.480493: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3505 of 4374
2021-06-30 08:41:12.334222: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 4051 of 4374
2021-06-30 08:41:20.458547: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.6944444444444445 hasn't increased by 0 in 10 epochs
Epoch 18/65
274/274 - 180s - loss: 0.0099 - accuracy: 0.9858 - val_loss: 0.2387 - val_accuracy: 0.9381
Confusion matrix: 
 [[550  23]
 [ 15  26]]
Normalized Confusion matrix: 
 [[0.96  0.04 ]
 [0.366 0.634]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 57.78
Validation accuracy: 93.81
Validation recall: 63.41
Validation precision: 53.06
Validation AUC: 0.627155871300525
Validation class accuracies: [0.9598603839441536, 0.6341463414634146]
2021-06-30 08:43:21.400974: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 721 of 4374
2021-06-30 08:43:31.283567: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1441 of 4374
2021-06-30 08:43:41.313939: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2145 of 4374
2021-06-30 08:43:51.330484: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2721 of 4374
2021-06-30 08:44:01.310918: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3281 of 4374
2021-06-30 08:44:11.463750: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3873 of 4374
2021-06-30 08:44:21.264642: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 4291 of 4374
2021-06-30 08:44:23.333573: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.6944444444444445 hasn't increased by 0 in 11 epochs
Epoch 19/65
274/274 - 173s - loss: 0.0083 - accuracy: 0.9861 - val_loss: 0.2224 - val_accuracy: 0.9560
Confusion matrix: 
 [[563  10]
 [ 17  24]]
Normalized Confusion matrix: 
 [[0.983 0.017]
 [0.415 0.585]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 64.00
Validation accuracy: 95.60
Validation recall: 58.54
Validation precision: 70.59
Validation AUC: 0.6720523299722437
Validation class accuracies: [0.9825479930191972, 0.5853658536585366]
2021-06-30 08:46:23.446236: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 705 of 4374
2021-06-30 08:46:33.498725: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1409 of 4374
2021-06-30 08:46:43.428740: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2129 of 4374
2021-06-30 08:46:53.470310: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2849 of 4374
2021-06-30 08:47:03.337831: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3553 of 4374
2021-06-30 08:47:13.304355: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 4159 of 4374
2021-06-30 08:47:18.839012: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.6944444444444445 hasn't increased by 0 in 12 epochs
Lr has been adjusted to 0.0002500000118743628
Epoch 20/65
274/274 - 168s - loss: 0.0081 - accuracy: 0.9861 - val_loss: 0.2213 - val_accuracy: 0.9593
Confusion matrix: 
 [[564   9]
 [ 16  25]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.984 0.016]
 [0.39  0.61 ]]
Validation f1: 66.67
Validation accuracy: 95.93
Validation recall: 60.98
Validation precision: 73.53
Validation AUC: 0.6717314572867777
Validation class accuracies: [0.9842931937172775, 0.6097560975609756]
2021-06-30 08:49:20.000802: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 705 of 4374
2021-06-30 08:49:30.017800: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1425 of 4374
2021-06-30 08:49:40.167800: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2145 of 4374
2021-06-30 08:49:49.999162: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2849 of 4374
2021-06-30 08:50:00.075536: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3569 of 4374
2021-06-30 08:50:09.986734: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 4219 of 4374
2021-06-30 08:50:12.801597: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.6944444444444445 hasn't increased by 0 in 13 epochs
Epoch 21/65
274/274 - 167s - loss: 0.0073 - accuracy: 0.9861 - val_loss: 0.2279 - val_accuracy: 0.9544
Confusion matrix: 
 [[560  13]
 [ 15  26]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.977 0.023]
 [0.366 0.634]]
Validation f1: 65.00
Validation accuracy: 95.44
Validation recall: 63.41
Validation precision: 66.67
Validation AUC: 0.6648974646520918
Validation class accuracies: [0.9773123909249564, 0.6341463414634146]
2021-06-30 08:52:20.639859: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 465 of 4374
2021-06-30 08:52:30.878035: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1153 of 4374
2021-06-30 08:52:40.730681: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1825 of 4374
2021-06-30 08:52:50.761029: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2465 of 4374
2021-06-30 08:53:00.641075: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3105 of 4374
2021-06-30 08:53:10.794799: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3761 of 4374
2021-06-30 08:53:20.635702: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 4304 of 4374
2021-06-30 08:53:22.058372: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.6944444444444445 hasn't increased by 0 in 14 epochs
Epoch 22/65
274/274 - 177s - loss: 0.0084 - accuracy: 0.9861 - val_loss: 0.2356 - val_accuracy: 0.9577
Confusion matrix: 
 [[563  10]
 [ 16  25]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.983 0.017]
 [0.39  0.61 ]]
Validation f1: 65.79
Validation accuracy: 95.77
Validation recall: 60.98
Validation precision: 71.43
Validation AUC: 0.6667355734871591
Validation class accuracies: [0.9825479930191972, 0.6097560975609756]
2021-06-30 08:55:30.429712: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 529 of 4374
2021-06-30 08:55:40.429069: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1057 of 4374
2021-06-30 08:55:50.424379: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1569 of 4374
2021-06-30 08:56:00.451050: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1969 of 4374
2021-06-30 08:56:10.454039: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2673 of 4374
2021-06-30 08:56:20.418974: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3345 of 4374
2021-06-30 08:56:30.370970: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3994 of 4374
2021-06-30 08:56:38.021631: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.6944444444444445 hasn't increased by 0 in 15 epochs
Epoch 23/65
274/274 - 183s - loss: 0.0079 - accuracy: 0.9861 - val_loss: 0.2417 - val_accuracy: 0.9446
Confusion matrix: 
 [[553  20]
 [ 14  27]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.965 0.035]
 [0.341 0.659]]
Validation f1: 61.36
Validation accuracy: 94.46
Validation recall: 65.85
Validation precision: 57.45
Validation AUC: 0.6522207612599924
Validation class accuracies: [0.9650959860383944, 0.6585365853658537]
2021-06-30 08:58:46.485697: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 513 of 4374
2021-06-30 08:58:56.418018: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1041 of 4374
2021-06-30 08:59:06.352844: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1553 of 4374
2021-06-30 08:59:16.515573: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2081 of 4374
2021-06-30 08:59:26.521366: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2593 of 4374
2021-06-30 08:59:36.362037: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3105 of 4374
2021-06-30 08:59:46.646185: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3521 of 4374
2021-06-30 08:59:56.331091: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 4031 of 4374
2021-06-30 09:00:03.357565: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.6944444444444445 hasn't increased by 0 in 16 epochs
Epoch 24/65
274/274 - 191s - loss: 0.0072 - accuracy: 0.9861 - val_loss: 0.2254 - val_accuracy: 0.9593
Confusion matrix: 
 [[566   7]
 [ 18  23]]
Normalized Confusion matrix: 
 [[0.988 0.012]
 [0.439 0.561]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 64.79
Validation accuracy: 95.93
Validation recall: 56.10
Validation precision: 76.67
Validation AUC: 0.6815106096184439
Validation class accuracies: [0.987783595113438, 0.5609756097560976]
2021-06-30 09:02:09.565767: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 513 of 4374
2021-06-30 09:02:19.780927: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1057 of 4374
2021-06-30 09:02:29.509051: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1569 of 4374
2021-06-30 09:02:39.749360: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2113 of 4374
2021-06-30 09:02:49.763568: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2641 of 4374
2021-06-30 09:02:59.767280: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3153 of 4374
2021-06-30 09:03:09.760204: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3665 of 4374
2021-06-30 09:03:19.559874: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 4120 of 4374
2021-06-30 09:03:26.726842: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.6944444444444445 hasn't increased by 0 in 17 epochs
Epoch 25/65
274/274 - 190s - loss: 0.0089 - accuracy: 0.9861 - val_loss: 0.2306 - val_accuracy: 0.9446
Confusion matrix: 
 [[554  19]
 [ 15  26]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.967 0.033]
 [0.366 0.634]]
Validation f1: 60.47
Validation accuracy: 94.46
Validation recall: 63.41
Validation precision: 57.78
Validation AUC: 0.6611422809500209
Validation class accuracies: [0.9668411867364747, 0.6341463414634146]
2021-06-30 09:05:30.312329: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 641 of 4374
2021-06-30 09:05:40.161612: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1185 of 4374
2021-06-30 09:05:50.349691: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1713 of 4374
2021-06-30 09:06:00.379930: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2241 of 4374
2021-06-30 09:06:10.239207: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2769 of 4374
2021-06-30 09:06:20.163984: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3297 of 4374
2021-06-30 09:06:30.334963: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3841 of 4374
2021-06-30 09:06:40.148555: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 4243 of 4374
2021-06-30 09:06:43.696111: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.6944444444444445 hasn't increased by 0 in 18 epochs
Lr has been adjusted to 0.0001250000059371814
Epoch 26/65
274/274 - 188s - loss: 0.0081 - accuracy: 0.9861 - val_loss: 0.2316 - val_accuracy: 0.9560
Confusion matrix: 
 [[560  13]
 [ 14  27]]
Normalized Confusion matrix: 
 [[0.977 0.023]
 [0.341 0.659]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 66.67
Validation accuracy: 95.60
Validation recall: 65.85
Validation precision: 67.50
Validation AUC: 0.6846883328005712
Validation class accuracies: [0.9773123909249564, 0.6585365853658537]
2021-06-30 09:08:47.642998: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 657 of 4374
2021-06-30 09:08:57.772599: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1345 of 4374
2021-06-30 09:09:07.766397: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2017 of 4374
2021-06-30 09:09:17.699559: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2673 of 4374
2021-06-30 09:09:27.809439: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3217 of 4374
2021-06-30 09:09:37.697431: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3729 of 4374
2021-06-30 09:09:47.644121: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 4182 of 4374
2021-06-30 09:09:52.816605: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.6944444444444445 hasn't increased by 0 in 19 epochs
Epoch 27/65
274/274 - 177s - loss: 0.0084 - accuracy: 0.9861 - val_loss: 0.2574 - val_accuracy: 0.9381
Confusion matrix: 
 [[549  24]
 [ 14  27]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.958 0.042]
 [0.341 0.659]]
Validation f1: 58.70
Validation accuracy: 93.81
Validation recall: 65.85
Validation precision: 52.94
Validation AUC: 0.6638441799596849
Validation class accuracies: [0.9581151832460733, 0.6585365853658537]

The metrics for job 3 with the best target metric are: 
Best cm: [[567   6]
 [ 16  25]]
Best normalized cm: [[0.99 0.01]
 [0.39 0.61]]
Best f1: 0.69
Best accuracy: 0.96
Best recall: 0.61
Best precision: 0.81
Best AUC: 0.70
Best class accuracies: [0.9895287958115183, 0.6097560975609756]
Best epoch: 7
The number of epochs since last 1% equals the patience
../../new_cache/conv__2275__06_0339__v39__mixup/3/icbhi_213_1p5_Tc_mc_AKGC417L_0_label_0_pred_0.png, [[0.001]]
../../new_cache/conv__2275__06_0339__v39__mixup/3/icbhi_213_1p2_Pr_mc_AKGC417L_2_label_0_pred_0.png, [[1.64e-05]]
../../new_cache/conv__2275__06_0339__v39__mixup/3/icbhi_218_1b1_Ar_sc_Meditron_9_label_0_pred_0.png, [[0.]]
../../new_cache/conv__2275__06_0339__v39__mixup/3/icbhi_218_1b1_Pl_sc_Meditron_7_label_0_pred_0.png, [[2.708e-06]]
../../new_cache/conv__2275__06_0339__v39__mixup/3/icbhi_207_2b4_Pr_mc_AKGC417L_1_label_0_pred_0.png, [[0.001]]
../../new_cache/conv__2275__06_0339__v39__mixup/3/icbhi_215_1b3_Tc_sc_Meditron_0_label_0_pred_0.png, [[0.001]]
../../new_cache/conv__2275__06_0339__v39__mixup/3/icbhi_221_2b3_Ar_mc_LittC2SE_2_label_0_pred_1.png, [[0.998]]
../../new_cache/conv__2275__06_0339__v39__mixup/3/icbhi_219_2b3_Tc_mc_LittC2SE_0_label_1_pred_1.png, [[0.842]]
../../new_cache/conv__2275__06_0339__v39__mixup/3/icbhi_221_2b1_Al_mc_LittC2SE_2_label_0_pred_0.png, [[0.019]]
../../new_cache/conv__2275__06_0339__v39__mixup/3/icbhi_222_1b1_Pr_sc_Meditron_3_label_0_pred_0.png, [[0.004]]
../../new_cache/conv__2275__06_0339__v39__mixup/3/icbhi_226_1b1_Ll_sc_Meditron_1_label_1_pred_0.png, [[0.]]
../../new_cache/conv__2275__06_0339__v39__mixup/3/icbhi_218_1b1_Pl_sc_Meditron_5_label_0_pred_0.png, [[4.053e-06]]
../../new_cache/conv__2275__06_0339__v39__mixup/3/jordan_EP37_pneumonia,Crep,A R L,70,F_0_label_1_pred_1.png, [[1.]]
../../new_cache/conv__2275__06_0339__v39__mixup/3/icbhi_207_2b4_Ar_mc_AKGC417L_2_label_0_pred_0.png, [[0.012]]
../../new_cache/conv__2275__06_0339__v39__mixup/3/icbhi_207_3b2_Pr_mc_AKGC417L_2_label_0_pred_0.png, [[1.226e-06]]
../../new_cache/conv__2275__06_0339__v39__mixup/3/icbhi_219_2b2_Ar_mc_LittC2SE_3_label_1_pred_0.png, [[0.144]]
../../new_cache/conv__2275__06_0339__v39__mixup/3/icbhi_211_1p5_Ar_mc_AKGC417L_3_label_0_pred_0.png, [[0.]]
../../new_cache/conv__2275__06_0339__v39__mixup/3/icbhi_218_1b1_Pr_sc_Meditron_8_label_0_pred_0.png, [[0.001]]
../../new_cache/conv__2275__06_0339__v39__mixup/3/icbhi_212_2b2_Tc_mc_LittC2SE_2_label_0_pred_1.png, [[0.663]]
../../new_cache/conv__2275__06_0339__v39__mixup/3/icbhi_205_1b3_Ar_mc_AKGC417L_1_label_0_pred_0.png, [[0.001]]
../../new_cache/conv__2275__06_0339__v39__mixup/3/icbhi_218_1p1_Pr_sc_Litt3200_0_label_0_pred_0.png, [[0.002]]
../../new_cache/conv__2275__06_0339__v39__mixup/3/icbhi_213_1p2_Pl_mc_AKGC417L_3_label_0_pred_0.png, [[0.]]
../../new_cache/conv__2275__06_0339__v39__mixup/3/icbhi_221_2b1_Al_mc_LittC2SE_3_label_0_pred_0.png, [[0.003]]
../../new_cache/conv__2275__06_0339__v39__mixup/3/icbhi_223_1b1_Ar_sc_Meditron_2_label_0_pred_0.png, [[0.002]]
../../new_cache/conv__2275__06_0339__v39__mixup/3/jordan_EP69_pneumonia,Bronchial,P R L ,64,M_0_label_1_pred_1.png, [[0.725]]
../../new_cache/conv__2275__06_0339__v39__mixup/3/icbhi_219_2b1_Tc_mc_LittC2SE_1_label_1_pred_1.png, [[1.]]
../../new_cache/conv__2275__06_0339__v39__mixup/3/icbhi_205_4b2_Pr_mc_AKGC417L_2_label_0_pred_0.png, [[3.208e-05]]
../../new_cache/conv__2275__06_0339__v39__mixup/3/icbhi_222_1b1_Lr_sc_Meditron_1_label_0_pred_0.png, [[0.]]
../../new_cache/conv__2275__06_0339__v39__mixup/3/icbhi_218_1b1_Al_sc_Meditron_0_label_0_pred_0.png, [[4.313e-05]]
../../new_cache/conv__2275__06_0339__v39__mixup/3/icbhi_221_2b3_Al_mc_LittC2SE_3_label_0_pred_0.png, [[0.184]]
../../new_cache/conv__2275__06_0339__v39__mixup/3/icbhi_207_2b4_Pr_mc_AKGC417L_2_label_0_pred_0.png, [[0.]]
../../new_cache/conv__2275__06_0339__v39__mixup/3/icbhi_226_1b1_Ll_sc_Meditron_0_label_1_pred_0.png, [[3.574e-05]]
../../new_cache/conv__2275__06_0339__v39__mixup/3/icbhi_213_1p2_Ar_mc_AKGC417L_3_label_0_pred_0.png, [[0.002]]
../../new_cache/conv__2275__06_0339__v39__mixup/3/icbhi_207_2b3_Ar_mc_AKGC417L_3_label_0_pred_0.png, [[0.]]
../../new_cache/conv__2275__06_0339__v39__mixup/3/icbhi_204_7p5_Lr_mc_AKGC417L_0_label_0_pred_0.png, [[3.906e-08]]
../../new_cache/conv__2275__06_0339__v39__mixup/3/icbhi_219_2b1_Ar_mc_LittC2SE_1_label_1_pred_1.png, [[1.]]
../../new_cache/conv__2275__06_0339__v39__mixup/3/icbhi_226_1b1_Al_sc_Meditron_1_label_1_pred_0.png, [[1.471e-05]]
../../new_cache/conv__2275__06_0339__v39__mixup/3/icbhi_207_3b2_Pl_mc_AKGC417L_2_label_0_pred_0.png, [[9.196e-05]]
../../new_cache/conv__2275__06_0339__v39__mixup/3/icbhi_225_1b1_Pl_sc_Meditron_0_label_0_pred_0.png, [[0.009]]
../../new_cache/conv__2275__06_0339__v39__mixup/3/icbhi_226_1b1_Al_sc_Meditron_2_label_1_pred_0.png, [[3.412e-05]]
../../new_cache/conv__2275__06_0339__v39__mixup/3/icbhi_203_2p3_Tc_mc_AKGC417L_0_label_0_pred_0.png, [[5.56e-06]]
../../new_cache/conv__2275__06_0339__v39__mixup/3/icbhi_207_2b3_Pr_mc_AKGC417L_1_label_0_pred_0.png, [[2.369e-05]]
../../new_cache/conv__2275__06_0339__v39__mixup/3/icbhi_204_7p5_Ar_mc_AKGC417L_2_label_0_pred_0.png, [[6.965e-08]]
../../new_cache/conv__2275__06_0339__v39__mixup/3/icbhi_214_1b1_Ar_sc_Meditron_2_label_0_pred_0.png, [[9.133e-06]]
../../new_cache/conv__2275__06_0339__v39__mixup/3/icbhi_213_1p2_Ar_mc_AKGC417L_0_label_0_pred_0.png, [[7.287e-05]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
wandb: Waiting for W&B process to finish, PID 5999
wandb: Program ended successfully.
wandb: Find user logs for this run at: /home/alirachidi/classification_algorithm/trainers/main/wandb/offline-run-20210630_074630-2u62aqup/logs/debug.log
wandb: Find internal logs for this run at: /home/alirachidi/classification_algorithm/trainers/main/wandb/offline-run-20210630_074630-2u62aqup/logs/debug-internal.log
wandb: Run summary:
wandb:       train_accuracy 0.98605
wandb:         val_accuracy 0.93811
wandb:             _runtime 5113
wandb:           _timestamp 1625044304
wandb:                _step 200
wandb:           train_loss 0.00844
wandb:             val_loss 0.2574
wandb:           val_recall 0.65854
wandb:        val_precision 0.52941
wandb:               val_f1 0.58696
wandb:              val_auc 0.66384
wandb:                   lr 0.00013
wandb:          best_val_f1 0.69444
wandb:    best_val_accuracy 0.96417
wandb:   best_val_precision 0.80645
wandb:      best_val_recall 0.60976
wandb:             best_auc 0.69773
wandb:           best_epoch 7
wandb: Run history:
wandb:   train_accuracy 
wandb:     val_accuracy 
wandb:         _runtime 
wandb:       _timestamp 
wandb:            _step 
wandb:       train_loss 
wandb:         val_loss 
wandb:       val_recall 
wandb:    val_precision 
wandb:           val_f1 
wandb:          val_auc 
wandb:               lr 
wandb: 
wandb: You can sync this run to the cloud by running:
wandb: wandb sync /home/alirachidi/classification_algorithm/trainers/main/wandb/offline-run-20210630_074630-2u62aqup

-----------------------
Model 9 with new params
Changing augmentation to time/frequency masking
Audio Augmentation Parameters: {'ADD': 0, 'QUANTITY': 1000, 'WAV_PATH': 'v42,v43'}
Spec Augmentation Parameters: {'ADD': 1, 'QUANTITY': 158, 'TIME_MASKING': 1, 'FREQUENCY_MASKING': 1, 'LOUDNESS': 0}
Collecting Variables...
All variables have been collected.
wandb: W&B syncing is set to `offline` in this directory.  Run `wandb online` or set WANDB_MODE=online to enable cloud syncing.
2021-06-30 09:18:03.465823: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 401 of 3616
2021-06-30 09:18:13.278793: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1089 of 3616
2021-06-30 09:18:23.294182: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1793 of 3616
2021-06-30 09:18:33.369069: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2497 of 3616
2021-06-30 09:18:43.229473: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3169 of 3616
2021-06-30 09:18:51.392219: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
Pneumonia patients: 148, Non-pneumonia patients: 2873
Pneumonia patients: 51, Non-pneumonia patients: 0
-----------------------
Number of train recordings: 2458 with pneumonia: 158 and non-pneumonia: 2300
The path used for spec augmentations is ../../data/txt_datasets/all_sw_coch_preprocessed_v2_param_v39_augm_v0_cleaned_8000/augmented_18
Length of training samples after spec augmentation: 2616
-----------------------
Number of train recordings: 2616 with pneumonia: 316 and non-pneumonia: 2300
The path used for spec augmentations is ../../data/txt_datasets/all_sw_coch_preprocessed_v2_param_v39_augm_v0_cleaned_8000/augmented_19
Length of training samples after spec augmentation: 3216
-----------------------
Number of train recordings: 3216 with pneumonia: 316 and non-pneumonia: 2900
Number of val recordings: 614 with pneumonia: 41 and non-pneumonia: 573
-----------------------
New dataset length after mix-up augmentation: 3616
Model: "conv2d"
______________________________________________________________________________________________________________
Layer (type)                                     Output Shape                                Param #          
==============================================================================================================
input_5 (InputLayer)                             [(None, 128, 1250, 1)]                      0                
______________________________________________________________________________________________________________
conv2d_20 (Conv2D)                               (None, 128, 1250, 8)                        80               
______________________________________________________________________________________________________________
mix_depth_group_convolution2d_20 (MixDepthGroupC (None, 128, 1250, 8)                        162              
______________________________________________________________________________________________________________
average_pooling2d_20 (AveragePooling2D)          (None, 64, 625, 8)                          0                
______________________________________________________________________________________________________________
batch_normalization_20 (BatchNormalization)      (None, 64, 625, 8)                          32               
______________________________________________________________________________________________________________
conv2d_21 (Conv2D)                               (None, 64, 625, 16)                         1168             
______________________________________________________________________________________________________________
mix_depth_group_convolution2d_21 (MixDepthGroupC (None, 64, 625, 16)                         414              
______________________________________________________________________________________________________________
average_pooling2d_21 (AveragePooling2D)          (None, 32, 313, 16)                         0                
______________________________________________________________________________________________________________
batch_normalization_21 (BatchNormalization)      (None, 32, 313, 16)                         64               
______________________________________________________________________________________________________________
conv2d_22 (Conv2D)                               (None, 32, 313, 32)                         4640             
______________________________________________________________________________________________________________
mix_depth_group_convolution2d_22 (MixDepthGroupC (None, 32, 313, 32)                         828              
______________________________________________________________________________________________________________
average_pooling2d_22 (AveragePooling2D)          (None, 16, 157, 32)                         0                
______________________________________________________________________________________________________________
batch_normalization_22 (BatchNormalization)      (None, 16, 157, 32)                         128              
______________________________________________________________________________________________________________
conv2d_23 (Conv2D)                               (None, 16, 157, 64)                         18496            
______________________________________________________________________________________________________________
mix_depth_group_convolution2d_23 (MixDepthGroupC (None, 16, 157, 64)                         1656             
______________________________________________________________________________________________________________
average_pooling2d_23 (AveragePooling2D)          (None, 8, 79, 64)                           0                
______________________________________________________________________________________________________________
batch_normalization_23 (BatchNormalization)      (None, 8, 79, 64)                           256              
______________________________________________________________________________________________________________
conv2d_24 (Conv2D)                               (None, 8, 79, 128)                          73856            
______________________________________________________________________________________________________________
mix_depth_group_convolution2d_24 (MixDepthGroupC (None, 8, 79, 128)                          3402             
______________________________________________________________________________________________________________
average_pooling2d_24 (AveragePooling2D)          (None, 4, 40, 128)                          0                
______________________________________________________________________________________________________________
batch_normalization_24 (BatchNormalization)      (None, 4, 40, 128)                          512              
______________________________________________________________________________________________________________
global_average_pooling2d_4 (GlobalAveragePooling (None, 128)                                 0                
______________________________________________________________________________________________________________
dense_4 (Dense)                                  (None, 1)                                   129              
==============================================================================================================
Total params: 105,823
Trainable params: 105,327
Non-trainable params: 496
______________________________________________________________________________________________________________
Epoch 1/65
226/226 - 144s - loss: 0.2918 - accuracy: 0.8899 - val_loss: 0.2474 - val_accuracy: 0.9332
Confusion matrix: 
 [[573   0]
 [ 41   0]]
Normalized Confusion matrix: 
 [[1. 0.]
 [1. 0.]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/sklearn/metrics/_classification.py:1272: UndefinedMetricWarning: Precision and F-score are ill-defined and being set to 0.0 due to no predicted samples. Use `zero_division` parameter to control this behavior.
  _warn_prf(average, modifier, msg_start, len(result))
Validation f1: 0.00
Validation accuracy: 93.32
Validation recall: 0.00
Validation precision: 0.00
Validation AUC: 0.06979327390876201
Validation class accuracies: [1.0, 0.0]
2021-06-30 09:20:39.589599: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 561 of 3616
2021-06-30 09:20:49.556580: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1137 of 3616
2021-06-30 09:20:59.538025: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1713 of 3616
2021-06-30 09:21:09.424496: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2273 of 3616
2021-06-30 09:21:19.500441: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2849 of 3616
2021-06-30 09:21:29.346174: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3353 of 3616
2021-06-30 09:21:36.254879: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0 hasn't increased by 0 in 1 epochs
Epoch 2/65
226/226 - 154s - loss: 0.1216 - accuracy: 0.9511 - val_loss: 0.2829 - val_accuracy: 0.9332
Confusion matrix: 
 [[573   0]
 [ 41   0]]
Normalized Confusion matrix: 
 [[1. 0.]
 [1. 0.]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/sklearn/metrics/_classification.py:1272: UndefinedMetricWarning: Precision and F-score are ill-defined and being set to 0.0 due to no predicted samples. Use `zero_division` parameter to control this behavior.
  _warn_prf(average, modifier, msg_start, len(result))
Validation f1: 0.00
Validation accuracy: 93.32
Validation recall: 0.00
Validation precision: 0.00
Validation AUC: 0.1808527650654177
Validation class accuracies: [1.0, 0.0]
2021-06-30 09:23:22.388965: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 705 of 3616
2021-06-30 09:23:32.239719: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1409 of 3616
2021-06-30 09:23:42.158211: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2001 of 3616
2021-06-30 09:23:52.214178: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2561 of 3616
2021-06-30 09:24:02.107319: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3122 of 3616
2021-06-30 09:24:12.117855: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3539 of 3616
2021-06-30 09:24:14.043414: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0 hasn't increased by 0 in 2 epochs
Epoch 3/65
226/226 - 149s - loss: 0.0719 - accuracy: 0.9679 - val_loss: 0.1535 - val_accuracy: 0.9560
Confusion matrix: 
 [[573   0]
 [ 27  14]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[1.    0.   ]
 [0.659 0.341]]
Validation f1: 50.91
Validation accuracy: 95.60
Validation recall: 34.15
Validation precision: 100.00
Validation AUC: 0.7161857098635469
Validation class accuracies: [1.0, 0.34146341463414637]
2021-06-30 09:26:00.664126: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 705 of 3616
2021-06-30 09:26:10.705744: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1425 of 3616
2021-06-30 09:26:20.548432: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2129 of 3616
2021-06-30 09:26:30.644786: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2849 of 3616
2021-06-30 09:26:40.531745: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3475 of 3616
2021-06-30 09:26:43.115850: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
Saving model...
Epoch 4/65
226/226 - 141s - loss: 0.0418 - accuracy: 0.9793 - val_loss: 0.2070 - val_accuracy: 0.9577
Confusion matrix: 
 [[569   4]
 [ 22  19]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.993 0.007]
 [0.537 0.463]]
Validation f1: 59.38
Validation accuracy: 95.77
Validation recall: 46.34
Validation precision: 82.61
Validation AUC: 0.6514661318372857
Validation class accuracies: [0.9930191972076788, 0.4634146341463415]
2021-06-30 09:28:32.741349: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 561 of 3616
2021-06-30 09:28:42.799324: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1057 of 3616
2021-06-30 09:28:52.755757: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1617 of 3616
2021-06-30 09:29:02.807996: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2337 of 3616
2021-06-30 09:29:12.845844: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3041 of 3616
2021-06-30 09:29:22.674444: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
Saving model...
Epoch 5/65
226/226 - 148s - loss: 0.0352 - accuracy: 0.9804 - val_loss: 0.2815 - val_accuracy: 0.9121
Confusion matrix: 
 [[529  44]
 [ 10  31]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.923 0.077]
 [0.244 0.756]]
Validation f1: 53.45
Validation accuracy: 91.21
Validation recall: 75.61
Validation precision: 41.33
Validation AUC: 0.5789423276503455
Validation class accuracies: [0.9232111692844677, 0.7560975609756098]
2021-06-30 09:31:11.279318: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 689 of 3616
2021-06-30 09:31:21.221497: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1377 of 3616
2021-06-30 09:31:31.398900: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2097 of 3616
2021-06-30 09:31:41.394181: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2817 of 3616
2021-06-30 09:31:51.244496: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3421 of 3616
2021-06-30 09:31:54.911424: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.59375 hasn't increased by 0 in 1 epochs
Epoch 6/65
226/226 - 141s - loss: 0.0222 - accuracy: 0.9853 - val_loss: 0.2001 - val_accuracy: 0.9479
Confusion matrix: 
 [[557  16]
 [ 16  25]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.972 0.028]
 [0.39  0.61 ]]
Validation f1: 60.98
Validation accuracy: 94.79
Validation recall: 60.98
Validation precision: 60.98
Validation AUC: 0.6538154543724455
Validation class accuracies: [0.9720767888307156, 0.6097560975609756]
2021-06-30 09:33:41.295132: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 705 of 3616
2021-06-30 09:33:51.309422: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1425 of 3616
2021-06-30 09:34:01.164629: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2113 of 3616
2021-06-30 09:34:11.155195: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2817 of 3616
2021-06-30 09:34:21.148222: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3442 of 3616
2021-06-30 09:34:24.477873: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
Saving model...
Epoch 7/65
226/226 - 140s - loss: 0.0167 - accuracy: 0.9862 - val_loss: 0.1819 - val_accuracy: 0.9560
Confusion matrix: 
 [[562  11]
 [ 16  25]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.981 0.019]
 [0.39  0.61 ]]
Validation f1: 64.94
Validation accuracy: 95.60
Validation recall: 60.98
Validation precision: 69.44
Validation AUC: 0.6828291810665696
Validation class accuracies: [0.9808027923211169, 0.6097560975609756]
2021-06-30 09:36:11.980885: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 561 of 3616
2021-06-30 09:36:21.962463: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1137 of 3616
2021-06-30 09:36:31.943392: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1713 of 3616
2021-06-30 09:36:41.945927: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2289 of 3616
2021-06-30 09:36:51.949556: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2849 of 3616
2021-06-30 09:37:01.889216: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3268 of 3616
2021-06-30 09:37:10.945971: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
Saving model...
Epoch 8/65
226/226 - 156s - loss: 0.0167 - accuracy: 0.9856 - val_loss: 0.2650 - val_accuracy: 0.9153
Confusion matrix: 
 [[530  43]
 [  9  32]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.925 0.075]
 [0.22  0.78 ]]
Validation f1: 55.17
Validation accuracy: 91.53
Validation recall: 78.05
Validation precision: 42.67
Validation AUC: 0.697753339338703
Validation class accuracies: [0.924956369982548, 0.7804878048780488]
2021-06-30 09:38:57.015590: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 711 of 3616
2021-06-30 09:39:07.154445: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1425 of 3616
2021-06-30 09:39:17.155877: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2097 of 3616
2021-06-30 09:39:27.022962: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2657 of 3616
2021-06-30 09:39:37.048492: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3223 of 3616
2021-06-30 09:39:47.021988: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3611 of 3616
2021-06-30 09:39:47.129862: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.6493506493506495 hasn't increased by 0 in 1 epochs
Epoch 9/65
226/226 - 147s - loss: 0.0150 - accuracy: 0.9859 - val_loss: 0.2182 - val_accuracy: 0.9381
Confusion matrix: 
 [[549  24]
 [ 14  27]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.958 0.042]
 [0.341 0.659]]
Validation f1: 58.70
Validation accuracy: 93.81
Validation recall: 65.85
Validation precision: 52.94
Validation AUC: 0.6342175888881124
Validation class accuracies: [0.9581151832460733, 0.6585365853658537]
2021-06-30 09:41:33.048377: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 705 of 3616
2021-06-30 09:41:43.021672: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1425 of 3616
2021-06-30 09:41:53.102098: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2097 of 3616
2021-06-30 09:42:03.217548: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2673 of 3616
2021-06-30 09:42:13.020833: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3227 of 3616
2021-06-30 09:42:23.008820: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3610 of 3616
2021-06-30 09:42:23.101676: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.6493506493506495 hasn't increased by 0 in 2 epochs
Epoch 10/65
226/226 - 147s - loss: 0.0143 - accuracy: 0.9864 - val_loss: 0.1940 - val_accuracy: 0.9511
Confusion matrix: 
 [[558  15]
 [ 15  26]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.974 0.026]
 [0.366 0.634]]
Validation f1: 63.41
Validation accuracy: 95.11
Validation recall: 63.41
Validation precision: 63.41
Validation AUC: 0.7018869634526932
Validation class accuracies: [0.9738219895287958, 0.6341463414634146]
2021-06-30 09:44:09.470264: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 689 of 3616
2021-06-30 09:44:19.621661: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1393 of 3616
2021-06-30 09:44:29.678235: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2049 of 3616
2021-06-30 09:44:39.649445: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2609 of 3616
2021-06-30 09:44:49.581628: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3169 of 3616
2021-06-30 09:44:59.477578: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3567 of 3616
2021-06-30 09:45:00.704493: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.6493506493506495 hasn't increased by 0 in 3 epochs
Epoch 11/65
226/226 - 149s - loss: 0.0137 - accuracy: 0.9862 - val_loss: 0.2041 - val_accuracy: 0.9349
Confusion matrix: 
 [[545  28]
 [ 12  29]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.951 0.049]
 [0.293 0.707]]
Validation f1: 59.18
Validation accuracy: 93.49
Validation recall: 70.73
Validation precision: 50.88
Validation AUC: 0.7411245662415009
Validation class accuracies: [0.9511343804537522, 0.7073170731707317]
2021-06-30 09:46:47.341903: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 721 of 3616
2021-06-30 09:46:57.329730: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1441 of 3616
2021-06-30 09:47:07.389496: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2081 of 3616
2021-06-30 09:47:17.509515: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2657 of 3616
2021-06-30 09:47:27.252136: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3225 of 3616
2021-06-30 09:47:37.282284: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3611 of 3616
2021-06-30 09:47:37.347293: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.6493506493506495 hasn't increased by 0 in 4 epochs
Epoch 12/65
226/226 - 147s - loss: 0.0111 - accuracy: 0.9864 - val_loss: 0.2354 - val_accuracy: 0.9625
Confusion matrix: 
 [[567   6]
 [ 17  24]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.99  0.01 ]
 [0.415 0.585]]
Validation f1: 67.61
Validation accuracy: 96.25
Validation recall: 58.54
Validation precision: 80.00
Validation AUC: 0.6989334241629217
Validation class accuracies: [0.9895287958115183, 0.5853658536585366]
2021-06-30 09:49:23.835411: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 721 of 3616
2021-06-30 09:49:33.708957: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1425 of 3616
2021-06-30 09:49:43.797877: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2049 of 3616
2021-06-30 09:49:53.902135: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2609 of 3616
2021-06-30 09:50:03.820644: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3169 of 3616
2021-06-30 09:50:13.667028: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3569 of 3616
2021-06-30 09:50:14.793486: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
Saving model...
Epoch 13/65
226/226 - 148s - loss: 0.0201 - accuracy: 0.9831 - val_loss: 0.1849 - val_accuracy: 0.9609
Confusion matrix: 
 [[567   6]
 [ 18  23]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.99  0.01 ]
 [0.439 0.561]]
Validation f1: 65.71
Validation accuracy: 96.09
Validation recall: 56.10
Validation precision: 79.31
Validation AUC: 0.6803782634269624
Validation class accuracies: [0.9895287958115183, 0.5609756097560976]
2021-06-30 09:52:01.186115: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 705 of 3616
2021-06-30 09:52:11.221936: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1425 of 3616
2021-06-30 09:52:21.055469: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2001 of 3616
2021-06-30 09:52:31.095779: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2561 of 3616
2021-06-30 09:52:41.201618: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3153 of 3616
2021-06-30 09:52:51.049865: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3554 of 3616
2021-06-30 09:52:52.638142: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.676056338028169 hasn't increased by 0 in 1 epochs
Epoch 14/65
226/226 - 149s - loss: 0.0111 - accuracy: 0.9864 - val_loss: 0.4582 - val_accuracy: 0.8893
Confusion matrix: 
 [[512  61]
 [  7  34]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.894 0.106]
 [0.171 0.829]]
Validation f1: 50.00
Validation accuracy: 88.93
Validation recall: 82.93
Validation precision: 35.79
Validation AUC: 0.6383381095873063
Validation class accuracies: [0.893542757417103, 0.8292682926829268]
2021-06-30 09:54:38.913299: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 705 of 3616
2021-06-30 09:54:49.140736: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1441 of 3616
2021-06-30 09:54:58.989532: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2001 of 3616
2021-06-30 09:55:08.899902: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2561 of 3616
2021-06-30 09:55:19.102163: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3153 of 3616
2021-06-30 09:55:28.894393: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3556 of 3616
2021-06-30 09:55:30.455700: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.676056338028169 hasn't increased by 0 in 2 epochs
Epoch 15/65
226/226 - 149s - loss: 0.0099 - accuracy: 0.9864 - val_loss: 0.2205 - val_accuracy: 0.9463
Confusion matrix: 
 [[555  18]
 [ 15  26]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.969 0.031]
 [0.366 0.634]]
Validation f1: 61.18
Validation accuracy: 94.63
Validation recall: 63.41
Validation precision: 59.09
Validation AUC: 0.6680717153652458
Validation class accuracies: [0.9685863874345549, 0.6341463414634146]
2021-06-30 09:57:16.861916: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 705 of 3616
2021-06-30 09:57:26.955306: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1409 of 3616
2021-06-30 09:57:36.977533: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1985 of 3616
2021-06-30 09:57:46.955814: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2545 of 3616
2021-06-30 09:57:56.717585: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3121 of 3616
2021-06-30 09:58:06.756771: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3545 of 3616
2021-06-30 09:58:08.578004: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.676056338028169 hasn't increased by 0 in 3 epochs
Epoch 16/65
226/226 - 149s - loss: 0.0106 - accuracy: 0.9864 - val_loss: 0.2114 - val_accuracy: 0.9349
Confusion matrix: 
 [[547  26]
 [ 14  27]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.955 0.045]
 [0.341 0.659]]
Validation f1: 57.45
Validation accuracy: 93.49
Validation recall: 65.85
Validation precision: 50.94
Validation AUC: 0.6769402597001508
Validation class accuracies: [0.9546247818499127, 0.6585365853658537]
2021-06-30 09:59:55.013827: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 705 of 3616
2021-06-30 10:00:05.192937: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1377 of 3616
2021-06-30 10:00:15.143950: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1937 of 3616
2021-06-30 10:00:24.981848: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2497 of 3616
2021-06-30 10:00:35.017730: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3089 of 3616
2021-06-30 10:00:45.026642: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3519 of 3616
2021-06-30 10:00:47.525153: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.676056338028169 hasn't increased by 0 in 4 epochs
Epoch 17/65
226/226 - 150s - loss: 0.0115 - accuracy: 0.9864 - val_loss: 0.3344 - val_accuracy: 0.9169
Confusion matrix: 
 [[535  38]
 [ 13  28]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.934 0.066]
 [0.317 0.683]]
Validation f1: 52.34
Validation accuracy: 91.69
Validation recall: 68.29
Validation precision: 42.42
Validation AUC: 0.6254877702865663
Validation class accuracies: [0.9336823734729494, 0.6829268292682927]
2021-06-30 10:02:33.791669: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 705 of 3616
2021-06-30 10:02:43.766914: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1361 of 3616
2021-06-30 10:02:53.869703: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1937 of 3616
2021-06-30 10:03:03.949725: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2513 of 3616
2021-06-30 10:03:13.823257: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3089 of 3616
2021-06-30 10:03:23.785588: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3516 of 3616
2021-06-30 10:03:26.349175: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.676056338028169 hasn't increased by 0 in 5 epochs
Epoch 18/65
226/226 - 150s - loss: 0.0110 - accuracy: 0.9859 - val_loss: 0.2430 - val_accuracy: 0.9446
Confusion matrix: 
 [[557  16]
 [ 18  23]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.972 0.028]
 [0.439 0.561]]
Validation f1: 57.50
Validation accuracy: 94.46
Validation recall: 56.10
Validation precision: 58.97
Validation AUC: 0.6324863251080441
Validation class accuracies: [0.9720767888307156, 0.5609756097560976]
2021-06-30 10:05:12.426032: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 705 of 3616
2021-06-30 10:05:22.487254: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1345 of 3616
2021-06-30 10:05:32.623557: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1921 of 3616
2021-06-30 10:05:42.628445: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2497 of 3616
2021-06-30 10:05:52.532810: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3073 of 3616
2021-06-30 10:06:02.437574: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3508 of 3616
2021-06-30 10:06:05.163758: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.676056338028169 hasn't increased by 0 in 6 epochs
Lr has been adjusted to 0.0005000000237487257
Epoch 19/65
226/226 - 149s - loss: 0.0085 - accuracy: 0.9864 - val_loss: 0.2206 - val_accuracy: 0.9349
Confusion matrix: 
 [[548  25]
 [ 15  26]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.956 0.044]
 [0.366 0.634]]
Validation f1: 56.52
Validation accuracy: 93.49
Validation recall: 63.41
Validation precision: 50.98
Validation AUC: 0.667644544651016
Validation class accuracies: [0.956369982547993, 0.6341463414634146]
2021-06-30 10:07:50.263470: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 705 of 3616
2021-06-30 10:08:00.236129: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1329 of 3616
2021-06-30 10:08:10.105495: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1889 of 3616
2021-06-30 10:08:20.115048: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2465 of 3616
2021-06-30 10:08:30.130422: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3057 of 3616
2021-06-30 10:08:40.069588: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3501 of 3616
2021-06-30 10:08:42.949622: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.676056338028169 hasn't increased by 0 in 7 epochs
Epoch 20/65
226/226 - 149s - loss: 0.0095 - accuracy: 0.9864 - val_loss: 0.2518 - val_accuracy: 0.9349
Confusion matrix: 
 [[545  28]
 [ 12  29]]
Normalized Confusion matrix: 
 [[0.951 0.049]
 [0.293 0.707]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 59.18
Validation accuracy: 93.49
Validation recall: 70.73
Validation precision: 50.88
Validation AUC: 0.6680268311291775
Validation class accuracies: [0.9511343804537522, 0.7073170731707317]
2021-06-30 10:10:28.001422: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 721 of 3616
2021-06-30 10:10:37.810946: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1329 of 3616
2021-06-30 10:10:47.890881: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1905 of 3616
2021-06-30 10:10:58.032511: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2497 of 3616
2021-06-30 10:11:07.811301: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3073 of 3616
2021-06-30 10:11:17.816460: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3510 of 3616
2021-06-30 10:11:20.466780: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.676056338028169 hasn't increased by 0 in 8 epochs
Epoch 21/65
226/226 - 148s - loss: 0.0097 - accuracy: 0.9864 - val_loss: 0.2410 - val_accuracy: 0.9300
Confusion matrix: 
 [[544  29]
 [ 14  27]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.949 0.051]
 [0.341 0.659]]
Validation f1: 55.67
Validation accuracy: 93.00
Validation recall: 65.85
Validation precision: 48.21
Validation AUC: 0.6651374995792785
Validation class accuracies: [0.9493891797556719, 0.6585365853658537]
2021-06-30 10:13:05.412235: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 705 of 3616
2021-06-30 10:13:15.506761: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1345 of 3616
2021-06-30 10:13:25.358927: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1913 of 3616
2021-06-30 10:13:35.399763: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2481 of 3616
2021-06-30 10:13:45.441653: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3073 of 3616
2021-06-30 10:13:55.378126: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3510 of 3616
2021-06-30 10:13:58.017669: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.676056338028169 hasn't increased by 0 in 9 epochs
Epoch 22/65
226/226 - 149s - loss: 0.0087 - accuracy: 0.9864 - val_loss: 0.1830 - val_accuracy: 0.9511
Confusion matrix: 
 [[557  16]
 [ 14  27]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.972 0.028]
 [0.341 0.659]]
Validation f1: 64.29
Validation accuracy: 95.11
Validation recall: 65.85
Validation precision: 62.79
Validation AUC: 0.7059705462630802
Validation class accuracies: [0.9720767888307156, 0.6585365853658537]
2021-06-30 10:15:43.649296: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 705 of 3616
2021-06-30 10:15:53.622691: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1313 of 3616
2021-06-30 10:16:03.737498: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1889 of 3616
2021-06-30 10:16:13.616630: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2465 of 3616
2021-06-30 10:16:23.595970: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3041 of 3616
2021-06-30 10:16:33.576167: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3490 of 3616
2021-06-30 10:16:36.795131: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.676056338028169 hasn't increased by 0 in 10 epochs
Epoch 23/65
226/226 - 149s - loss: 0.0074 - accuracy: 0.9864 - val_loss: 0.2319 - val_accuracy: 0.9349
Confusion matrix: 
 [[545  28]
 [ 12  29]]
Normalized Confusion matrix: 
 [[0.951 0.049]
 [0.293 0.707]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 59.18
Validation accuracy: 93.49
Validation recall: 70.73
Validation precision: 50.88
Validation AUC: 0.6944174298924753
Validation class accuracies: [0.9511343804537522, 0.7073170731707317]
2021-06-30 10:18:22.154341: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 705 of 3616
2021-06-30 10:18:32.149513: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1297 of 3616
2021-06-30 10:18:42.272224: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1873 of 3616
2021-06-30 10:18:52.165439: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2449 of 3616
2021-06-30 10:19:02.268332: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3041 of 3616
2021-06-30 10:19:12.004075: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3482 of 3616
2021-06-30 10:19:15.445260: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.676056338028169 hasn't increased by 0 in 11 epochs
Epoch 24/65
226/226 - 149s - loss: 0.0082 - accuracy: 0.9864 - val_loss: 0.2093 - val_accuracy: 0.9397
Confusion matrix: 
 [[550  23]
 [ 14  27]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.96  0.04 ]
 [0.341 0.659]]
Validation f1: 59.34
Validation accuracy: 93.97
Validation recall: 65.85
Validation precision: 54.00
Validation AUC: 0.6974136156124653
Validation class accuracies: [0.9598603839441536, 0.6585365853658537]
2021-06-30 10:21:00.841797: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 689 of 3616
2021-06-30 10:21:10.761722: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1265 of 3616
2021-06-30 10:21:20.951799: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1841 of 3616
2021-06-30 10:21:30.866163: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2417 of 3616
2021-06-30 10:21:41.010081: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3009 of 3616
2021-06-30 10:21:50.805297: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3463 of 3616
2021-06-30 10:21:54.711088: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.676056338028169 hasn't increased by 0 in 12 epochs
Lr has been adjusted to 0.0002500000118743628
Epoch 25/65
226/226 - 150s - loss: 0.0084 - accuracy: 0.9864 - val_loss: 0.2152 - val_accuracy: 0.9397
Confusion matrix: 
 [[550  23]
 [ 14  27]]
Normalized Confusion matrix: 
 [[0.96  0.04 ]
 [0.341 0.659]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 59.34
Validation accuracy: 93.97
Validation recall: 65.85
Validation precision: 54.00
Validation AUC: 0.6908772957117937
Validation class accuracies: [0.9598603839441536, 0.6585365853658537]
2021-06-30 10:23:39.934872: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 705 of 3616
2021-06-30 10:23:49.944850: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1281 of 3616
2021-06-30 10:23:59.967108: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1841 of 3616
2021-06-30 10:24:09.861985: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2417 of 3616
2021-06-30 10:24:19.921591: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3009 of 3616
2021-06-30 10:24:29.850760: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3467 of 3616
2021-06-30 10:24:33.716783: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.676056338028169 hasn't increased by 0 in 13 epochs
Epoch 26/65
226/226 - 150s - loss: 0.0091 - accuracy: 0.9862 - val_loss: 0.2454 - val_accuracy: 0.9349
Confusion matrix: 
 [[547  26]
 [ 14  27]]
Normalized Confusion matrix: 
 [[0.955 0.045]
 [0.341 0.659]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 57.45
Validation accuracy: 93.49
Validation recall: 65.85
Validation precision: 50.94
Validation AUC: 0.6671119467577415
Validation class accuracies: [0.9546247818499127, 0.6585365853658537]
2021-06-30 10:26:18.912759: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 705 of 3616
2021-06-30 10:26:29.134605: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1297 of 3616
2021-06-30 10:26:39.139679: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1857 of 3616
2021-06-30 10:26:48.952260: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2433 of 3616
2021-06-30 10:26:59.022878: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3025 of 3616
2021-06-30 10:27:08.901733: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3470 of 3616
2021-06-30 10:27:12.610309: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.676056338028169 hasn't increased by 0 in 14 epochs
Epoch 27/65
226/226 - 149s - loss: 0.0081 - accuracy: 0.9864 - val_loss: 0.2666 - val_accuracy: 0.9300
Confusion matrix: 
 [[544  29]
 [ 14  27]]
Normalized Confusion matrix: 
 [[0.949 0.051]
 [0.341 0.659]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 55.67
Validation accuracy: 93.00
Validation recall: 65.85
Validation precision: 48.21
Validation AUC: 0.6586447922434117
Validation class accuracies: [0.9493891797556719, 0.6585365853658537]
2021-06-30 10:28:57.470522: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 721 of 3616
2021-06-30 10:29:07.335009: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1297 of 3616
2021-06-30 10:29:17.415750: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1857 of 3616
2021-06-30 10:29:27.316515: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2433 of 3616
2021-06-30 10:29:37.427726: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3025 of 3616
2021-06-30 10:29:47.297534: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3479 of 3616
2021-06-30 10:29:50.800306: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.676056338028169 hasn't increased by 0 in 15 epochs
Epoch 28/65
226/226 - 150s - loss: 0.0081 - accuracy: 0.9864 - val_loss: 0.2210 - val_accuracy: 0.9365
Confusion matrix: 
 [[550  23]
 [ 16  25]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.96 0.04]
 [0.39 0.61]]
Validation f1: 56.18
Validation accuracy: 93.65
Validation recall: 60.98
Validation precision: 52.08
Validation AUC: 0.6670602259313474
Validation class accuracies: [0.9598603839441536, 0.6097560975609756]
2021-06-30 10:31:36.000111: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 705 of 3616
2021-06-30 10:31:46.182705: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1297 of 3616
2021-06-30 10:31:56.084434: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1857 of 3616
2021-06-30 10:32:06.208013: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2449 of 3616
2021-06-30 10:32:15.988011: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3025 of 3616
2021-06-30 10:32:25.980934: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3476 of 3616
2021-06-30 10:32:29.471556: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.676056338028169 hasn't increased by 0 in 16 epochs
Epoch 29/65
226/226 - 150s - loss: 0.0084 - accuracy: 0.9864 - val_loss: 0.2212 - val_accuracy: 0.9381
Confusion matrix: 
 [[550  23]
 [ 15  26]]
Normalized Confusion matrix: 
 [[0.96  0.04 ]
 [0.366 0.634]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 57.78
Validation accuracy: 93.81
Validation recall: 63.41
Validation precision: 53.06
Validation AUC: 0.6675836668072936
Validation class accuracies: [0.9598603839441536, 0.6341463414634146]
2021-06-30 10:34:14.541199: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 721 of 3616
2021-06-30 10:34:24.406933: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1281 of 3616
2021-06-30 10:34:34.561375: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1857 of 3616
2021-06-30 10:34:44.373038: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2433 of 3616
2021-06-30 10:34:54.478975: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3025 of 3616
2021-06-30 10:35:04.377221: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3476 of 3616
2021-06-30 10:35:07.890478: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.676056338028169 hasn't increased by 0 in 17 epochs
Epoch 30/65
226/226 - 150s - loss: 0.0067 - accuracy: 0.9864 - val_loss: 0.2175 - val_accuracy: 0.9397
Confusion matrix: 
 [[551  22]
 [ 15  26]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.962 0.038]
 [0.366 0.634]]
Validation f1: 58.43
Validation accuracy: 93.97
Validation recall: 63.41
Validation precision: 54.17
Validation AUC: 0.6714629307485005
Validation class accuracies: [0.9616055846422339, 0.6341463414634146]
2021-06-30 10:36:53.360021: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 705 of 3616
2021-06-30 10:37:03.235408: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1265 of 3616
2021-06-30 10:37:13.188211: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1825 of 3616
2021-06-30 10:37:23.307892: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2417 of 3616
2021-06-30 10:37:33.400265: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3009 of 3616
2021-06-30 10:37:43.186041: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3460 of 3616
2021-06-30 10:37:47.108969: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.676056338028169 hasn't increased by 0 in 18 epochs
Lr has been adjusted to 0.0001250000059371814
Epoch 31/65
226/226 - 150s - loss: 0.0068 - accuracy: 0.9864 - val_loss: 0.2327 - val_accuracy: 0.9381
Confusion matrix: 
 [[549  24]
 [ 14  27]]
Normalized Confusion matrix: 
 [[0.958 0.042]
 [0.341 0.659]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 58.70
Validation accuracy: 93.81
Validation recall: 65.85
Validation precision: 52.94
Validation AUC: 0.6671092793065808
Validation class accuracies: [0.9581151832460733, 0.6585365853658537]
2021-06-30 10:39:32.348751: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 721 of 3616
2021-06-30 10:39:42.169723: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1281 of 3616
2021-06-30 10:39:52.129813: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 1841 of 3616
2021-06-30 10:40:02.347172: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 2433 of 3616
2021-06-30 10:40:12.259080: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3009 of 3616
2021-06-30 10:40:22.121696: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:177] Filling up shuffle buffer (this may take a while): 3462 of 3616
2021-06-30 10:40:26.079110: I tensorflow/core/kernels/data/shuffle_dataset_op.cc:230] Shuffle buffer filled.
The validation tracker metric at 0.676056338028169 hasn't increased by 0 in 19 epochs
Epoch 32/65
226/226 - 150s - loss: 0.0090 - accuracy: 0.9864 - val_loss: 0.2364 - val_accuracy: 0.9332
Confusion matrix: 
 [[547  26]
 [ 15  26]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.955 0.045]
 [0.366 0.634]]
Validation f1: 55.91
Validation accuracy: 93.32
Validation recall: 63.41
Validation precision: 50.00
Validation AUC: 0.6633222360232586
Validation class accuracies: [0.9546247818499127, 0.6341463414634146]

The metrics for job 4 with the best target metric are: 
Best cm: [[567   6]
 [ 17  24]]
Best normalized cm: [[0.99  0.01 ]
 [0.415 0.585]]
Best f1: 0.68
Best accuracy: 0.96
Best recall: 0.59
Best precision: 0.80
Best AUC: 0.70
Best class accuracies: [0.9895287958115183, 0.5853658536585366]
Best epoch: 12
The number of epochs since last 1% equals the patience
../../new_cache/conv__2275__06_0339__v39__mixup/4/icbhi_222_1b1_Lr_sc_Meditron_5_label_0_pred_0.png, [[0.]]
../../new_cache/conv__2275__06_0339__v39__mixup/4/icbhi_205_3b4_Pr_mc_AKGC417L_0_label_0_pred_0.png, [[6.526e-05]]
../../new_cache/conv__2275__06_0339__v39__mixup/4/icbhi_207_3b2_Pl_mc_AKGC417L_2_label_0_pred_0.png, [[0.]]
../../new_cache/conv__2275__06_0339__v39__mixup/4/icbhi_218_1b1_Al_sc_Meditron_0_label_0_pred_0.png, [[1.323e-05]]
../../new_cache/conv__2275__06_0339__v39__mixup/4/icbhi_209_1b1_Tc_sc_Meditron_3_label_0_pred_0.png, [[0.001]]
../../new_cache/conv__2275__06_0339__v39__mixup/4/icbhi_213_1p3_Pl_mc_AKGC417L_3_label_0_pred_0.png, [[0.001]]
../../new_cache/conv__2275__06_0339__v39__mixup/4/jordan_EP69_pneumonia,Bronchial,P R L ,64,M_2_label_1_pred_1.png, [[0.833]]
../../new_cache/conv__2275__06_0339__v39__mixup/4/icbhi_218_1b1_Pl_sc_Meditron_10_label_0_pred_0.png, [[6.637e-06]]
../../new_cache/conv__2275__06_0339__v39__mixup/4/icbhi_218_1b1_Ar_sc_Meditron_12_label_0_pred_0.png, [[0.008]]
../../new_cache/conv__2275__06_0339__v39__mixup/4/icbhi_223_1b1_Pr_sc_Meditron_1_label_0_pred_0.png, [[3.466e-05]]
../../new_cache/conv__2275__06_0339__v39__mixup/4/icbhi_213_1p2_Pl_mc_AKGC417L_3_label_0_pred_0.png, [[8.849e-05]]
../../new_cache/conv__2275__06_0339__v39__mixup/4/icbhi_211_1p3_Ar_mc_AKGC417L_2_label_0_pred_0.png, [[1.192e-07]]
../../new_cache/conv__2275__06_0339__v39__mixup/4/icbhi_215_1b3_Tc_sc_Meditron_2_label_0_pred_0.png, [[1.139e-06]]
../../new_cache/conv__2275__06_0339__v39__mixup/4/icbhi_213_1p2_Pl_mc_AKGC417L_1_label_0_pred_0.png, [[1.862e-05]]
../../new_cache/conv__2275__06_0339__v39__mixup/4/icbhi_218_1b1_Ar_sc_Meditron_1_label_0_pred_0.png, [[2.909e-05]]
../../new_cache/conv__2275__06_0339__v39__mixup/4/icbhi_219_2b3_Tc_mc_LittC2SE_3_label_1_pred_1.png, [[0.993]]
../../new_cache/conv__2275__06_0339__v39__mixup/4/icbhi_205_4b2_Pr_mc_AKGC417L_2_label_0_pred_0.png, [[3.283e-05]]
../../new_cache/conv__2275__06_0339__v39__mixup/4/icbhi_207_3b2_Pr_mc_AKGC417L_1_label_0_pred_0.png, [[0.]]
../../new_cache/conv__2275__06_0339__v39__mixup/4/icbhi_207_3b2_Tc_mc_AKGC417L_1_label_0_pred_0.png, [[8.395e-06]]
../../new_cache/conv__2275__06_0339__v39__mixup/4/icbhi_223_1b1_Pr_sc_Meditron_2_label_0_pred_0.png, [[0.]]
../../new_cache/conv__2275__06_0339__v39__mixup/4/icbhi_205_4b2_Lr_mc_AKGC417L_1_label_0_pred_0.png, [[0.]]
../../new_cache/conv__2275__06_0339__v39__mixup/4/icbhi_203_2p3_Tc_mc_AKGC417L_0_label_0_pred_0.png, [[2.534e-05]]
../../new_cache/conv__2275__06_0339__v39__mixup/4/icbhi_204_7p5_Lr_mc_AKGC417L_3_label_0_pred_0.png, [[0.]]
../../new_cache/conv__2275__06_0339__v39__mixup/4/icbhi_203_2p3_Pr_mc_AKGC417L_0_label_0_pred_0.png, [[7.352e-05]]
../../new_cache/conv__2275__06_0339__v39__mixup/4/icbhi_207_2b3_Al_mc_AKGC417L_0_label_0_pred_0.png, [[2.492e-05]]
../../new_cache/conv__2275__06_0339__v39__mixup/4/icbhi_211_2p4_Tc_mc_AKGC417L_3_label_0_pred_0.png, [[0.007]]
../../new_cache/conv__2275__06_0339__v39__mixup/4/icbhi_213_1p3_Al_mc_AKGC417L_2_label_0_pred_0.png, [[0.002]]
../../new_cache/conv__2275__06_0339__v39__mixup/4/icbhi_205_1b3_Pl_mc_AKGC417L_2_label_0_pred_0.png, [[8.123e-06]]
../../new_cache/conv__2275__06_0339__v39__mixup/4/icbhi_205_2b3_Al_mc_AKGC417L_1_label_0_pred_0.png, [[0.001]]
../../new_cache/conv__2275__06_0339__v39__mixup/4/icbhi_204_7p5_Tc_mc_AKGC417L_1_label_0_pred_0.png, [[0.002]]
../../new_cache/conv__2275__06_0339__v39__mixup/4/icbhi_212_2b2_Tc_mc_LittC2SE_3_label_0_pred_1.png, [[0.971]]
../../new_cache/conv__2275__06_0339__v39__mixup/4/icbhi_204_7p5_Tc_mc_AKGC417L_2_label_0_pred_0.png, [[0.]]
../../new_cache/conv__2275__06_0339__v39__mixup/4/icbhi_205_4b2_Pr_mc_AKGC417L_0_label_0_pred_0.png, [[6.546e-05]]
../../new_cache/conv__2275__06_0339__v39__mixup/4/icbhi_223_1b1_Ar_sc_Meditron_5_label_0_pred_0.png, [[9.744e-05]]
../../new_cache/conv__2275__06_0339__v39__mixup/4/icbhi_218_1b1_Al_sc_Meditron_5_label_0_pred_0.png, [[0.001]]
../../new_cache/conv__2275__06_0339__v39__mixup/4/icbhi_221_2b2_Lr_mc_LittC2SE_0_label_0_pred_0.png, [[0.024]]
../../new_cache/conv__2275__06_0339__v39__mixup/4/icbhi_207_2b2_Pr_mc_AKGC417L_0_label_0_pred_0.png, [[1.411e-05]]
../../new_cache/conv__2275__06_0339__v39__mixup/4/icbhi_219_2b2_Ar_mc_LittC2SE_3_label_1_pred_0.png, [[0.321]]
../../new_cache/conv__2275__06_0339__v39__mixup/4/icbhi_210_1b1_Ar_sc_Meditron_2_label_0_pred_0.png, [[4.664e-05]]
../../new_cache/conv__2275__06_0339__v39__mixup/4/icbhi_211_1p3_Ar_mc_AKGC417L_3_label_0_pred_0.png, [[0.]]
../../new_cache/conv__2275__06_0339__v39__mixup/4/icbhi_216_1b1_Pl_sc_Meditron_2_label_0_pred_0.png, [[3.234e-05]]
../../new_cache/conv__2275__06_0339__v39__mixup/4/icbhi_211_2p4_Tc_mc_AKGC417L_1_label_0_pred_0.png, [[0.02]]
../../new_cache/conv__2275__06_0339__v39__mixup/4/icbhi_222_1b1_Pr_sc_Meditron_0_label_0_pred_0.png, [[5.733e-06]]
../../new_cache/conv__2275__06_0339__v39__mixup/4/icbhi_221_2b3_Pr_mc_LittC2SE_1_label_0_pred_0.png, [[0.001]]
../../new_cache/conv__2275__06_0339__v39__mixup/4/icbhi_204_7p5_Ll_mc_AKGC417L_1_label_0_pred_0.png, [[3.829e-06]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
wandb: Waiting for W&B process to finish, PID 12829
wandb: Program ended successfully.
wandb: Find user logs for this run at: /home/alirachidi/classification_algorithm/trainers/main/wandb/offline-run-20210630_091219-1y8dhgoi/logs/debug.log
wandb: Find internal logs for this run at: /home/alirachidi/classification_algorithm/trainers/main/wandb/offline-run-20210630_091219-1y8dhgoi/logs/debug-internal.log
wandb: Run summary:
wandb:       train_accuracy 0.98645
wandb:         val_accuracy 0.93322
wandb:             _runtime 5381
wandb:           _timestamp 1625049721
wandb:                _step 238
wandb:           train_loss 0.00899
wandb:             val_loss 0.2364
wandb:           val_recall 0.63415
wandb:        val_precision 0.5
wandb:               val_f1 0.55914
wandb:              val_auc 0.66332
wandb:                   lr 0.00013
wandb:          best_val_f1 0.67606
wandb:    best_val_accuracy 0.96254
wandb:   best_val_precision 0.8
wandb:      best_val_recall 0.58537
wandb:             best_auc 0.69893
wandb:           best_epoch 12
wandb: Run history:
wandb:   train_accuracy 
wandb:     val_accuracy 
wandb:         _runtime 
wandb:       _timestamp 
wandb:            _step 
wandb:       train_loss 
wandb:         val_loss 
wandb:       val_recall 
wandb:    val_precision 
wandb:           val_f1 
wandb:          val_auc 
wandb:               lr 
wandb: 
wandb: You can sync this run to the cloud by running:
wandb: wandb sync /home/alirachidi/classification_algorithm/trainers/main/wandb/offline-run-20210630_091219-1y8dhgoi

-----------------------

 See logs at ../../new_cache/conv__2275__06_0339__v39__mixup/logs/