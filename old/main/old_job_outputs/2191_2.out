Category:  coch
Dataset:  all_sw_coch_preprocessed_v2_param_v29_augm_v0_cleaned_8000.pkl
File:  conv.train2191
Description:  2190_withcyclical
2021-06-05 14:50:51.061557: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcudart.so.11.0
WARNING:tensorflow:From /home/alirachidi/classification_algorithm/trainers/main/models/conv/modules/augmentation.py:19: experimental_run_functions_eagerly (from tensorflow.python.eager.def_function) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.config.run_functions_eagerly` instead of the experimental version.
2021-06-05 14:50:53.347384: I tensorflow/compiler/jit/xla_cpu_device.cc:41] Not creating XLA devices, tf_xla_enable_xla_devices not set
2021-06-05 14:50:53.348325: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcuda.so.1
2021-06-05 14:50:53.387125: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-05 14:50:53.387896: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1720] Found device 0 with properties: 
pciBusID: 0000:00:04.0 name: Tesla T4 computeCapability: 7.5
coreClock: 1.59GHz coreCount: 40 deviceMemorySize: 14.75GiB deviceMemoryBandwidth: 298.08GiB/s
2021-06-05 14:50:53.387925: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcudart.so.11.0
2021-06-05 14:50:53.391642: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcublas.so.11
2021-06-05 14:50:53.391727: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcublasLt.so.11
2021-06-05 14:50:53.392869: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcufft.so.10
2021-06-05 14:50:53.393167: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcurand.so.10
2021-06-05 14:50:53.394213: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcusolver.so.10
2021-06-05 14:50:53.395086: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcusparse.so.11
2021-06-05 14:50:53.395255: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcudnn.so.8
2021-06-05 14:50:53.395369: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-05 14:50:53.396115: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-05 14:50:53.396743: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1862] Adding visible gpu devices: 0
Tensorflow Version: 2.4.0
Num GPUs Available:  1
-----------------------
Using module: nv/train2191.py
Using train_file: ../../data/datasets/all_sw_coch_preprocessed_v2_param_v29_augm_v0_cleaned_8000.pkl
Job directory: ../../new_cache/conv__2191__06_1450__v29__2190_withcyclical
Parameters: {'N_CLASSES': 1, 'SR': 8000, 'BATCH_SIZE': 16, 'LR': 0.001, 'SHAPE': [128, 1250], 'LL2_REG': 0, 'WEIGHT_DECAY': 0.001, 'N_EPOCHS': 80, 'FACTOR': 0.75, 'PATIENCE': 4, 'MIN_LR': 1e-08, 'LABEL_SMOOTHING': 0, 'EPSILON': 1e-07, 'ES_PATIENCE': 25, 'OVERSAMPLE': 0, 'MIN_DELTA': 0, 'PARAM': 'v29', 'EPOCH_START': 1, 'CLAUSE': 1, 'AUGMENTATION': 1, 'TARGET': 1, 'INITIAL_CHANNELS': 1, 'CLASS_WEIGHTS': 0, 'SIX': 0, 'CONCAT': 0, 'TESTING': 0}
Augmentation parameters for audio: {'ADD': 1, 'QUANTITY': 500, 'WAV_PATH': 'v36,v37'}
Augmentation parameters for spectrograms: {'ADD': 1, 'QUANTITY': 500, 'TIME_MASKING': 1, 'FREQUENCY_MASKING': 1, 'LOUDNESS': 0}
-----------------------
Collecting Variables...
All variables have been collected.
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow_addons/utils/ensure_tf_install.py:68: UserWarning: Tensorflow Addons supports using Python ops for all Tensorflow versions above or equal to 2.2.0 and strictly below 2.3.0 (nightly versions are not supported). 
 The versions of TensorFlow you are currently using is 2.4.0 and is not supported. 
Some things might work, some things might not.
If you were to encounter a bug, do not file an issue.
If you want to make sure you're using a tested and supported configuration, either change the TensorFlow version or the TensorFlow Addons's version. 
You can find the compatibility matrix in TensorFlow Addon's readme:
https://github.com/tensorflow/addons
  UserWarning,
wandb: W&B syncing is set to `offline` in this directory.  Run `wandb online` or set WANDB_MODE=online to enable cloud syncing.
2021-06-05 14:54:09.557680: I tensorflow/compiler/jit/xla_gpu_device.cc:99] Not creating XLA devices, tf_xla_enable_xla_devices not set
2021-06-05 14:54:09.558175: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-05 14:54:09.559026: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1720] Found device 0 with properties: 
pciBusID: 0000:00:04.0 name: Tesla T4 computeCapability: 7.5
coreClock: 1.59GHz coreCount: 40 deviceMemorySize: 14.75GiB deviceMemoryBandwidth: 298.08GiB/s
2021-06-05 14:54:09.559085: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcudart.so.11.0
2021-06-05 14:54:09.559189: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcublas.so.11
2021-06-05 14:54:09.559222: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcublasLt.so.11
2021-06-05 14:54:09.559257: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcufft.so.10
2021-06-05 14:54:09.559289: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcurand.so.10
2021-06-05 14:54:09.559322: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcusolver.so.10
2021-06-05 14:54:09.559350: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcusparse.so.11
2021-06-05 14:54:09.559382: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcudnn.so.8
2021-06-05 14:54:09.559630: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-05 14:54:09.561332: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-05 14:54:09.562426: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1862] Adding visible gpu devices: 0
2021-06-05 14:54:09.562515: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcudart.so.11.0
2021-06-05 14:54:10.276074: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1261] Device interconnect StreamExecutor with strength 1 edge matrix:
2021-06-05 14:54:10.276120: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1267]      0 
2021-06-05 14:54:10.276128: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1280] 0:   N 
2021-06-05 14:54:10.276424: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-05 14:54:10.277193: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-05 14:54:10.277905: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-05 14:54:10.278567: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1406] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 13968 MB memory) -> physical GPU (device: 0, name: Tesla T4, pci bus id: 0000:00:04.0, compute capability: 7.5)
Original number of folders: 453
Pneumonia patients: 109, Non-pneumonia patients: 270
-----------------------
Number of train recordings: 4212 with pneumonia: 1080 and non-pneumonia: 3132
Length of training samples after audio augmentation: 5212
Length of training samples after spec augmentation: 5712
-----------------------
Number of train recordings: 5712 with pneumonia: 2580 and non-pneumonia: 3132
Number of val recordings: 1072 with pneumonia: 288 and non-pneumonia: 784
-----------------------
The initial learning rate for this job is: 0.0007373949579831934
With concat = False and six = False, size of training set: 5712...
...and size of validation set: 1072
Model: "conv2d"
__________________________________________________________________________________________________
Layer (type)                    Output Shape         Param #     Connected to                     
==================================================================================================
input_1 (InputLayer)            [(None, 128, 1250, 1 0                                            
__________________________________________________________________________________________________
batch_normalization (BatchNorma (None, 128, 1250, 1) 4           input_1[0][0]                    
__________________________________________________________________________________________________
conv2d (Conv2D)                 (None, 128, 1250, 16 32          batch_normalization[0][0]        
__________________________________________________________________________________________________
conv2d_2 (Conv2D)               (None, 128, 1250, 16 32          batch_normalization[0][0]        
__________________________________________________________________________________________________
max_pooling2d (MaxPooling2D)    (None, 128, 1250, 1) 0           batch_normalization[0][0]        
__________________________________________________________________________________________________
conv2d_1 (Conv2D)               (None, 128, 1250, 16 2320        conv2d[0][0]                     
__________________________________________________________________________________________________
conv2d_3 (Conv2D)               (None, 128, 1250, 16 6416        conv2d_2[0][0]                   
__________________________________________________________________________________________________
conv2d_4 (Conv2D)               (None, 128, 1250, 16 32          max_pooling2d[0][0]              
__________________________________________________________________________________________________
concatenate (Concatenate)       (None, 128, 1250, 48 0           conv2d_1[0][0]                   
                                                                 conv2d_3[0][0]                   
                                                                 conv2d_4[0][0]                   
__________________________________________________________________________________________________
average_pooling2d (AveragePooli (None, 64, 625, 48)  0           concatenate[0][0]                
__________________________________________________________________________________________________
batch_normalization_1 (BatchNor (None, 64, 625, 48)  192         average_pooling2d[0][0]          
__________________________________________________________________________________________________
dropout (Dropout)               (None, 64, 625, 48)  0           batch_normalization_1[0][0]      
__________________________________________________________________________________________________
inverted_residual (InvertedResi (None, 64, 625, 32)  35840       dropout[0][0]                    
__________________________________________________________________________________________________
inverted_residual_1 (InvertedRe (None, 64, 625, 32)  20864       inverted_residual[0][0]          
__________________________________________________________________________________________________
average_pooling2d_1 (AveragePoo (None, 32, 312, 32)  0           inverted_residual_1[0][0]        
__________________________________________________________________________________________________
batch_normalization_2 (BatchNor (None, 32, 312, 32)  128         average_pooling2d_1[0][0]        
__________________________________________________________________________________________________
dropout_1 (Dropout)             (None, 32, 312, 32)  0           batch_normalization_2[0][0]      
__________________________________________________________________________________________________
inverted_residual_2 (InvertedRe (None, 32, 312, 64)  27136       dropout_1[0][0]                  
__________________________________________________________________________________________________
inverted_residual_3 (InvertedRe (None, 32, 312, 64)  66304       inverted_residual_2[0][0]        
__________________________________________________________________________________________________
average_pooling2d_2 (AveragePoo (None, 16, 156, 64)  0           inverted_residual_3[0][0]        
__________________________________________________________________________________________________
batch_normalization_3 (BatchNor (None, 16, 156, 64)  256         average_pooling2d_2[0][0]        
__________________________________________________________________________________________________
dropout_2 (Dropout)             (None, 16, 156, 64)  0           batch_normalization_3[0][0]      
__________________________________________________________________________________________________
inverted_residual_4 (InvertedRe (None, 16, 156, 128) 91136       dropout_2[0][0]                  
__________________________________________________________________________________________________
inverted_residual_5 (InvertedRe (None, 16, 156, 128) 230912      inverted_residual_4[0][0]        
__________________________________________________________________________________________________
average_pooling2d_3 (AveragePoo (None, 8, 78, 128)   0           inverted_residual_5[0][0]        
__________________________________________________________________________________________________
batch_normalization_4 (BatchNor (None, 8, 78, 128)   512         average_pooling2d_3[0][0]        
__________________________________________________________________________________________________
dropout_3 (Dropout)             (None, 8, 78, 128)   0           batch_normalization_4[0][0]      
__________________________________________________________________________________________________
inverted_residual_6 (InvertedRe (None, 8, 78, 256)   329728      dropout_3[0][0]                  
__________________________________________________________________________________________________
inverted_residual_7 (InvertedRe (None, 8, 78, 256)   855040      inverted_residual_6[0][0]        
__________________________________________________________________________________________________
average_pooling2d_4 (AveragePoo (None, 4, 39, 256)   0           inverted_residual_7[0][0]        
__________________________________________________________________________________________________
batch_normalization_5 (BatchNor (None, 4, 39, 256)   1024        average_pooling2d_4[0][0]        
__________________________________________________________________________________________________
dropout_4 (Dropout)             (None, 4, 39, 256)   0           batch_normalization_5[0][0]      
__________________________________________________________________________________________________
inverted_residual_8 (InvertedRe (None, 4, 39, 512)   1249280     dropout_4[0][0]                  
__________________________________________________________________________________________________
inverted_residual_9 (InvertedRe (None, 4, 39, 512)   3282944     inverted_residual_8[0][0]        
__________________________________________________________________________________________________
global_average_pooling2d (Globa (None, 512)          0           inverted_residual_9[0][0]        
__________________________________________________________________________________________________
dense (Dense)                   (None, 1)            513         global_average_pooling2d[0][0]   
==================================================================================================
Total params: 6,200,645
Trainable params: 6,159,139
Non-trainable params: 41,506
__________________________________________________________________________________________________
2021-06-05 14:54:11.644119: I tensorflow/compiler/mlir/mlir_graph_optimization_pass.cc:116] None of the MLIR optimization passes are enabled (registered 2)
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
2021-06-05 14:54:11.645587: I tensorflow/core/platform/profile_utils/cpu_utils.cc:112] CPU Frequency: 2299995000 Hz
2021-06-05 14:54:12.015596: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcudnn.so.8
2021-06-05 14:54:13.982038: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcublas.so.11
2021-06-05 14:54:14.445425: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcublasLt.so.11
Epoch 1/80
357/357 - 498s - loss: 0.4467 - accuracy: 0.8037 - val_loss: 0.5937 - val_accuracy: 0.7313
Confusion matrix: 
 [[784   0]
 [288   0]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/sklearn/metrics/_classification.py:1272: UndefinedMetricWarning: Precision and F-score are ill-defined and being set to 0.0 due to no predicted samples. Use `zero_division` parameter to control this behavior.
  _warn_prf(average, modifier, msg_start, len(result))
Normalized Confusion matrix: 
 [[1. 0.]
 [1. 0.]]
Validation f1: 0.00
Validation accuracy: 73.13
Validation recall: 0.00
Validation precision: 0.00
Validation AUC: 0.3350385258826875
Validation class accuracies: [1.0, 0.0]
The clause is activated.
The training is defaulting to either class.
Epoch 2/80
357/357 - 497s - loss: 0.3133 - accuracy: 0.8915 - val_loss: 2.4157 - val_accuracy: 0.3013
Confusion matrix: 
 [[ 53 731]
 [ 18 270]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.06760204 0.93239796]
 [0.0625     0.9375    ]]
Validation f1: 41.89
Validation accuracy: 30.13
Validation recall: 93.75
Validation precision: 26.97
Validation AUC: 0.26356361044852655
Validation class accuracies: [0.06760204081632654, 0.9375]
The clause is activated.
The training is defaulting to either class.
Epoch 3/80
357/357 - 498s - loss: 0.2882 - accuracy: 0.8962 - val_loss: 1.3145 - val_accuracy: 0.7313
Confusion matrix: 
 [[781   3]
 [285   3]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.99617347 0.00382653]
 [0.98958333 0.01041667]]
Validation f1: 2.04
Validation accuracy: 73.13
Validation recall: 1.04
Validation precision: 50.00
Validation AUC: 0.28215995959763396
Validation class accuracies: [0.9961734693877551, 0.010416666666666666]
The clause is activated.
The training is defaulting to either class.
Epoch 4/80
357/357 - 498s - loss: 0.2584 - accuracy: 0.9137 - val_loss: 1.3357 - val_accuracy: 0.6614
Confusion matrix: 
 [[701  83]
 [280   8]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.89413265 0.10586735]
 [0.97222222 0.02777778]]
Validation f1: 4.22
Validation accuracy: 66.14
Validation recall: 2.78
Validation precision: 8.79
Validation AUC: 0.2426407901012028
Validation class accuracies: [0.8941326530612245, 0.027777777777777776]
The clause is activated.
The training is defaulting to either class.
Epoch 5/80
357/357 - 498s - loss: 0.2455 - accuracy: 0.9161 - val_loss: 0.9627 - val_accuracy: 0.7257
Confusion matrix: 
 [[776   8]
 [286   2]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.98979592 0.01020408]
 [0.99305556 0.00694444]]
Validation f1: 1.34
Validation accuracy: 72.57
Validation recall: 0.69
Validation precision: 20.00
Validation AUC: 0.25825637228756976
Validation class accuracies: [0.9897959183673469, 0.006944444444444444]
The clause is activated.
The training is defaulting to either class.
Epoch 6/80
357/357 - 498s - loss: 0.2403 - accuracy: 0.9151 - val_loss: 0.7658 - val_accuracy: 0.6353
Confusion matrix: 
 [[610 174]
 [217  71]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.77806122 0.22193878]
 [0.75347222 0.24652778]]
Validation f1: 26.64
Validation accuracy: 63.53
Validation recall: 24.65
Validation precision: 28.98
Validation AUC: 0.28294711248697885
Validation class accuracies: [0.7780612244897959, 0.2465277777777778]
The clause is activated.
Not defaulting.
Saving model...
Epoch 7/80
357/357 - 498s - loss: 0.2251 - accuracy: 0.9231 - val_loss: 0.8634 - val_accuracy: 0.7183
Confusion matrix: 
 [[763  21]
 [281   7]]
Normalized Confusion matrix: 
 [[0.97321429 0.02678571]
 [0.97569444 0.02430556]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 4.43
Validation accuracy: 71.83
Validation recall: 2.43
Validation precision: 25.00
Validation AUC: 0.27200941734547035
Validation class accuracies: [0.9732142857142857, 0.024305555555555556]
The clause is activated.
The training is defaulting to either class.
Epoch 8/80
357/357 - 497s - loss: 0.2134 - accuracy: 0.9272 - val_loss: 0.7075 - val_accuracy: 0.6595
Confusion matrix: 
 [[673 111]
 [254  34]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.85841837 0.14158163]
 [0.88194444 0.11805556]]
Validation f1: 15.70
Validation accuracy: 65.95
Validation recall: 11.81
Validation precision: 23.45
Validation AUC: 0.2619484352637465
Validation class accuracies: [0.8584183673469388, 0.11805555555555555]
The clause is activated.
Not defaulting.
The validation tracker metric at 0.26641651031894936 hasn't increased by 0 in 1 epochs
Epoch 9/80
357/357 - 498s - loss: 0.2065 - accuracy: 0.9312 - val_loss: 0.7118 - val_accuracy: 0.6838
Confusion matrix: 
 [[701  83]
 [256  32]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.89413265 0.10586735]
 [0.88888889 0.11111111]]
Validation f1: 15.88
Validation accuracy: 68.38
Validation recall: 11.11
Validation precision: 27.83
Validation AUC: 0.3064415814140862
Validation class accuracies: [0.8941326530612245, 0.1111111111111111]
The clause is activated.
Not defaulting.
The validation tracker metric at 0.26641651031894936 hasn't increased by 0 in 2 epochs
Epoch 10/80
357/357 - 497s - loss: 0.1775 - accuracy: 0.9393 - val_loss: 0.7860 - val_accuracy: 0.6912
Confusion matrix: 
 [[725  59]
 [272  16]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.9247449  0.0752551 ]
 [0.94444444 0.05555556]]
Validation f1: 8.82
Validation accuracy: 69.12
Validation recall: 5.56
Validation precision: 21.33
Validation AUC: 0.2655971393045471
Validation class accuracies: [0.9247448979591837, 0.05555555555555555]
The clause is activated.
The training is defaulting to either class.
Epoch 11/80
357/357 - 498s - loss: 0.1481 - accuracy: 0.9484 - val_loss: 1.0573 - val_accuracy: 0.6688
Confusion matrix: 
 [[690  94]
 [261  27]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.88010204 0.11989796]
 [0.90625    0.09375   ]]
Validation f1: 13.20
Validation accuracy: 66.88
Validation recall: 9.38
Validation precision: 22.31
Validation AUC: 0.262516142928814
Validation class accuracies: [0.8801020408163265, 0.09375]
The clause is activated.
Not defaulting.
The validation tracker metric at 0.26641651031894936 hasn't increased by 0 in 3 epochs
Epoch 12/80
357/357 - 498s - loss: 0.1220 - accuracy: 0.9576 - val_loss: 1.3690 - val_accuracy: 0.7257
Confusion matrix: 
 [[777   7]
 [287   1]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.99107143 0.00892857]
 [0.99652778 0.00347222]]
Validation f1: 0.68
Validation accuracy: 72.57
Validation recall: 0.35
Validation precision: 12.50
Validation AUC: 0.2558572957306506
Validation class accuracies: [0.9910714285714286, 0.003472222222222222]
The clause is activated.
The training is defaulting to either class.
Epoch 13/80
357/357 - 498s - loss: 0.0770 - accuracy: 0.9736 - val_loss: 2.1523 - val_accuracy: 0.7229
Confusion matrix: 
 [[775   9]
 [288   0]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.98852041 0.01147959]
 [1.         0.        ]]
Validation f1: 0.00
Validation accuracy: 72.29
Validation recall: 0.00
Validation precision: 0.00
Validation AUC: 0.2660563140554363
Validation class accuracies: [0.9885204081632653, 0.0]
The clause is activated.
The training is defaulting to either class.
Epoch 14/80
357/357 - 497s - loss: 0.0465 - accuracy: 0.9853 - val_loss: 1.6380 - val_accuracy: 0.7015
Confusion matrix: 
 [[740  44]
 [276  12]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.94387755 0.05612245]
 [0.95833333 0.04166667]]
Validation f1: 6.98
Validation accuracy: 70.15
Validation recall: 4.17
Validation precision: 21.43
Validation AUC: 0.26268086069333385
Validation class accuracies: [0.9438775510204082, 0.041666666666666664]
The clause is activated.
The training is defaulting to either class.
Epoch 15/80
357/357 - 498s - loss: 0.0235 - accuracy: 0.9930 - val_loss: 2.0044 - val_accuracy: 0.7127
Confusion matrix: 
 [[755  29]
 [279   9]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.9630102 0.0369898]
 [0.96875   0.03125  ]]
Validation f1: 5.52
Validation accuracy: 71.27
Validation recall: 3.12
Validation precision: 23.68
Validation AUC: 0.2605293433833075
Validation class accuracies: [0.9630102040816326, 0.03125]
The clause is activated.
The training is defaulting to either class.
Epoch 16/80
357/357 - 498s - loss: 0.0244 - accuracy: 0.9918 - val_loss: 2.1153 - val_accuracy: 0.7146
Confusion matrix: 
 [[756  28]
 [278  10]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.96428571 0.03571429]
 [0.96527778 0.03472222]]
Validation f1: 6.13
Validation accuracy: 71.46
Validation recall: 3.47
Validation precision: 26.32
Validation AUC: 0.26475971012247856
Validation class accuracies: [0.9642857142857143, 0.034722222222222224]
The clause is activated.
The training is defaulting to either class.
Epoch 17/80
357/357 - 497s - loss: 0.0248 - accuracy: 0.9930 - val_loss: 2.4792 - val_accuracy: 0.7192
Confusion matrix: 
 [[765  19]
 [282   6]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.97576531 0.02423469]
 [0.97916667 0.02083333]]
Validation f1: 3.83
Validation accuracy: 71.92
Validation recall: 2.08
Validation precision: 24.00
Validation AUC: 0.25490104906974553
Validation class accuracies: [0.9757653061224489, 0.020833333333333332]
The clause is activated.
The training is defaulting to either class.
Epoch 18/80
357/357 - 497s - loss: 0.0223 - accuracy: 0.9928 - val_loss: 2.5021 - val_accuracy: 0.7090
Confusion matrix: 
 [[753  31]
 [281   7]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.96045918 0.03954082]
 [0.97569444 0.02430556]]
Validation f1: 4.29
Validation accuracy: 70.90
Validation recall: 2.43
Validation precision: 18.42
Validation AUC: 0.2594583143037974
Validation class accuracies: [0.9604591836734694, 0.024305555555555556]
The clause is activated.
The training is defaulting to either class.
Epoch 19/80
357/357 - 497s - loss: 0.0316 - accuracy: 0.9884 - val_loss: 3.5106 - val_accuracy: 0.7239
Confusion matrix: 
 [[773  11]
 [285   3]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.98596939 0.01403061]
 [0.98958333 0.01041667]]
Validation f1: 1.99
Validation accuracy: 72.39
Validation recall: 1.04
Validation precision: 21.43
Validation AUC: 0.27320418508508393
Validation class accuracies: [0.985969387755102, 0.010416666666666666]
The clause is activated.
The training is defaulting to either class.
Epoch 20/80
357/357 - 497s - loss: 0.0212 - accuracy: 0.9925 - val_loss: 2.6170 - val_accuracy: 0.7006
Confusion matrix: 
 [[736  48]
 [273  15]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.93877551 0.06122449]
 [0.94791667 0.05208333]]
Validation f1: 8.55
Validation accuracy: 70.06
Validation recall: 5.21
Validation precision: 23.81
Validation AUC: 0.263862739044578
Validation class accuracies: [0.9387755102040817, 0.052083333333333336]
The clause is activated.
The training is defaulting to either class.
Epoch 21/80
357/357 - 498s - loss: 0.0395 - accuracy: 0.9876 - val_loss: 3.1086 - val_accuracy: 0.7229
Confusion matrix: 
 [[773  11]
 [286   2]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.98596939 0.01403061]
 [0.99305556 0.00694444]]
Validation f1: 1.33
Validation accuracy: 72.29
Validation recall: 0.69
Validation precision: 15.38
Validation AUC: 0.274825913774944
Validation class accuracies: [0.985969387755102, 0.006944444444444444]
The clause is activated.
The training is defaulting to either class.
Epoch 22/80
357/357 - 497s - loss: 0.0258 - accuracy: 0.9916 - val_loss: 2.2787 - val_accuracy: 0.7164
Confusion matrix: 
 [[753  31]
 [273  15]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.96045918 0.03954082]
 [0.94791667 0.05208333]]
Validation f1: 8.98
Validation accuracy: 71.64
Validation recall: 5.21
Validation precision: 32.61
Validation AUC: 0.2670774584241842
Validation class accuracies: [0.9604591836734694, 0.052083333333333336]
The clause is activated.
The training is defaulting to either class.
Epoch 23/80
357/357 - 497s - loss: 0.0294 - accuracy: 0.9904 - val_loss: 1.9986 - val_accuracy: 0.7015
Confusion matrix: 
 [[741  43]
 [277  11]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.94515306 0.05484694]
 [0.96180556 0.03819444]]
Validation f1: 6.43
Validation accuracy: 70.15
Validation recall: 3.82
Validation precision: 20.37
Validation AUC: 0.2566576102900778
Validation class accuracies: [0.9451530612244898, 0.03819444444444445]
The clause is activated.
The training is defaulting to either class.
Epoch 24/80
357/357 - 497s - loss: 0.0189 - accuracy: 0.9951 - val_loss: 2.7196 - val_accuracy: 0.7201
Confusion matrix: 
 [[766  18]
 [282   6]]
Normalized Confusion matrix: 
 [[0.97704082 0.02295918]
 [0.97916667 0.02083333]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 3.85
Validation accuracy: 72.01
Validation recall: 2.08
Validation precision: 25.00
Validation AUC: 0.2789146991673037
Validation class accuracies: [0.9770408163265306, 0.020833333333333332]
The clause is activated.
The training is defaulting to either class.
Epoch 25/80
357/357 - 498s - loss: 0.0123 - accuracy: 0.9963 - val_loss: 2.4975 - val_accuracy: 0.7136
Confusion matrix: 
 [[750  34]
 [273  15]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.95663265 0.04336735]
 [0.94791667 0.05208333]]
Validation f1: 8.90
Validation accuracy: 71.36
Validation recall: 5.21
Validation precision: 30.61
Validation AUC: 0.26730525406562605
Validation class accuracies: [0.9566326530612245, 0.052083333333333336]
The clause is activated.
The training is defaulting to either class.
Epoch 26/80
357/357 - 498s - loss: 0.0153 - accuracy: 0.9951 - val_loss: 2.8672 - val_accuracy: 0.7136
Confusion matrix: 
 [[751  33]
 [274  14]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.95790816 0.04209184]
 [0.95138889 0.04861111]]
Validation f1: 8.36
Validation accuracy: 71.36
Validation recall: 4.86
Validation precision: 29.79
Validation AUC: 0.2678935913195414
Validation class accuracies: [0.9579081632653061, 0.04861111111111111]
The clause is activated.
The training is defaulting to either class.
Epoch 27/80
357/357 - 498s - loss: 0.0061 - accuracy: 0.9986 - val_loss: 2.7936 - val_accuracy: 0.7146
Confusion matrix: 
 [[753  31]
 [275  13]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.96045918 0.03954082]
 [0.95486111 0.04513889]]
Validation f1: 7.83
Validation accuracy: 71.46
Validation recall: 4.51
Validation precision: 29.55
Validation AUC: 0.2679290670003999
Validation class accuracies: [0.9604591836734694, 0.04513888888888889]
The clause is activated.
The training is defaulting to either class.
Epoch 28/80
357/357 - 497s - loss: 0.0064 - accuracy: 0.9981 - val_loss: 2.8851 - val_accuracy: 0.7118
Confusion matrix: 
 [[749  35]
 [274  14]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.95535714 0.04464286]
 [0.95138889 0.04861111]]
Validation f1: 8.31
Validation accuracy: 71.18
Validation recall: 4.86
Validation precision: 28.57
Validation AUC: 0.26836296641421736
Validation class accuracies: [0.9553571428571429, 0.04861111111111111]
The clause is activated.
The training is defaulting to either class.
Epoch 29/80
357/357 - 497s - loss: 0.0045 - accuracy: 0.9989 - val_loss: 2.9705 - val_accuracy: 0.7136
Confusion matrix: 
 [[752  32]
 [275  13]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.95918367 0.04081633]
 [0.95486111 0.04513889]]
Validation f1: 7.81
Validation accuracy: 71.36
Validation recall: 4.51
Validation precision: 28.89
Validation AUC: 0.2641412762242381
Validation class accuracies: [0.9591836734693877, 0.04513888888888889]
The clause is activated.
The training is defaulting to either class.
Epoch 30/80
357/357 - 497s - loss: 0.0055 - accuracy: 0.9989 - val_loss: 2.9409 - val_accuracy: 0.7136
Confusion matrix: 
 [[752  32]
 [275  13]]
Normalized Confusion matrix: 
 [[0.95918367 0.04081633]
 [0.95486111 0.04513889]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 7.81
Validation accuracy: 71.36
Validation recall: 4.51
Validation precision: 28.89
Validation AUC: 0.26500489331347077
Validation class accuracies: [0.9591836734693877, 0.04513888888888889]
The clause is activated.
The training is defaulting to either class.
Epoch 31/80
357/357 - 498s - loss: 0.0126 - accuracy: 0.9986 - val_loss: 2.9784 - val_accuracy: 0.7164
Confusion matrix: 
 [[755  29]
 [275  13]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.9630102  0.0369898 ]
 [0.95486111 0.04513889]]
Validation f1: 7.88
Validation accuracy: 71.64
Validation recall: 4.51
Validation precision: 30.95
Validation AUC: 0.26492907309411423
Validation class accuracies: [0.9630102040816326, 0.04513888888888889]
The clause is activated.
The training is defaulting to either class.
Epoch 32/80
357/357 - 498s - loss: 0.0032 - accuracy: 0.9993 - val_loss: 3.1596 - val_accuracy: 0.7155
Confusion matrix: 
 [[756  28]
 [277  11]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.96428571 0.03571429]
 [0.96180556 0.03819444]]
Validation f1: 6.73
Validation accuracy: 71.55
Validation recall: 3.82
Validation precision: 28.21
Validation AUC: 0.26660090974301487
Validation class accuracies: [0.9642857142857143, 0.03819444444444445]
The clause is activated.
The training is defaulting to either class.
Epoch 33/80
357/357 - 498s - loss: 0.0030 - accuracy: 0.9995 - val_loss: 3.0846 - val_accuracy: 0.7164
Confusion matrix: 
 [[756  28]
 [276  12]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.96428571 0.03571429]
 [0.95833333 0.04166667]]
Validation f1: 7.32
Validation accuracy: 71.64
Validation recall: 4.17
Validation precision: 30.00
Validation AUC: 0.2629942512247786
Validation class accuracies: [0.9642857142857143, 0.041666666666666664]
The clause is activated.
The training is defaulting to either class.
Epoch 34/80
357/357 - 498s - loss: 0.0031 - accuracy: 0.9998 - val_loss: 3.2504 - val_accuracy: 0.7071
Confusion matrix: 
 [[751  33]
 [281   7]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.95790816 0.04209184]
 [0.97569444 0.02430556]]
Validation f1: 4.27
Validation accuracy: 70.71
Validation recall: 2.43
Validation precision: 17.50
Validation AUC: 0.2598439706939637
Validation class accuracies: [0.9579081632653061, 0.024305555555555556]
The clause is activated.
The training is defaulting to either class.
Epoch 35/80
357/357 - 497s - loss: 0.0023 - accuracy: 0.9995 - val_loss: 3.3852 - val_accuracy: 0.7192
Confusion matrix: 
 [[764  20]
 [281   7]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.9744898  0.0255102 ]
 [0.97569444 0.02430556]]
Validation f1: 4.44
Validation accuracy: 71.92
Validation recall: 2.43
Validation precision: 25.93
Validation AUC: 0.2691221675501845
Validation class accuracies: [0.9744897959183674, 0.024305555555555556]
The clause is activated.
The training is defaulting to either class.
Epoch 36/80
357/357 - 497s - loss: 0.0025 - accuracy: 0.9993 - val_loss: 3.3677 - val_accuracy: 0.7127
Confusion matrix: 
 [[760  24]
 [284   4]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.96938776 0.03061224]
 [0.98611111 0.01388889]]
Validation f1: 2.53
Validation accuracy: 71.27
Validation recall: 1.39
Validation precision: 14.29
Validation AUC: 0.2690978865449435
Validation class accuracies: [0.9693877551020408, 0.013888888888888888]
The clause is activated.
The training is defaulting to either class.
Epoch 37/80
357/357 - 498s - loss: 0.0160 - accuracy: 0.9947 - val_loss: 3.3046 - val_accuracy: 0.7062
Confusion matrix: 
 [[747  37]
 [278  10]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.95280612 0.04719388]
 [0.96527778 0.03472222]]
Validation f1: 5.97
Validation accuracy: 70.62
Validation recall: 3.47
Validation precision: 21.28
Validation AUC: 0.2488045495141852
Validation class accuracies: [0.9528061224489796, 0.034722222222222224]
The clause is activated.
The training is defaulting to either class.
Epoch 38/80
357/357 - 498s - loss: 0.0154 - accuracy: 0.9967 - val_loss: 3.3114 - val_accuracy: 0.7164
Confusion matrix: 
 [[757  27]
 [277  11]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.96556122 0.03443878]
 [0.96180556 0.03819444]]
Validation f1: 6.75
Validation accuracy: 71.64
Validation recall: 3.82
Validation precision: 28.95
Validation AUC: 0.26344138626985114
Validation class accuracies: [0.9655612244897959, 0.03819444444444445]
The clause is activated.
The training is defaulting to either class.
Epoch 39/80
357/357 - 498s - loss: 0.0040 - accuracy: 0.9984 - val_loss: 3.5927 - val_accuracy: 0.7136
Confusion matrix: 
 [[760  24]
 [283   5]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.96938776 0.03061224]
 [0.98263889 0.01736111]]
Validation f1: 3.15
Validation accuracy: 71.36
Validation recall: 1.74
Validation precision: 17.24
Validation AUC: 0.2563963966853047
Validation class accuracies: [0.9693877551020408, 0.017361111111111112]
The clause is activated.
The training is defaulting to either class.
Epoch 40/80
357/357 - 498s - loss: 0.0022 - accuracy: 0.9996 - val_loss: 3.3503 - val_accuracy: 0.7164
Confusion matrix: 
 [[758  26]
 [278  10]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.96683673 0.03316327]
 [0.96527778 0.03472222]]
Validation f1: 6.17
Validation accuracy: 71.64
Validation recall: 3.47
Validation precision: 27.78
Validation AUC: 0.26488750485458207
Validation class accuracies: [0.9668367346938775, 0.034722222222222224]
The clause is activated.
The training is defaulting to either class.
Epoch 41/80
357/357 - 498s - loss: 0.0025 - accuracy: 0.9995 - val_loss: 3.0909 - val_accuracy: 0.7052
Confusion matrix: 
 [[745  39]
 [277  11]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.9502551  0.0497449 ]
 [0.96180556 0.03819444]]
Validation f1: 6.51
Validation accuracy: 70.52
Validation recall: 3.82
Validation precision: 22.00
Validation AUC: 0.2689481246799891
Validation class accuracies: [0.9502551020408163, 0.03819444444444445]
The clause is activated.
The training is defaulting to either class.
Epoch 42/80
357/357 - 498s - loss: 0.0020 - accuracy: 0.9998 - val_loss: 3.3745 - val_accuracy: 0.7118
Confusion matrix: 
 [[756  28]
 [281   7]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.96428571 0.03571429]
 [0.97569444 0.02430556]]
Validation f1: 4.33
Validation accuracy: 71.18
Validation recall: 2.43
Validation precision: 20.00
Validation AUC: 0.2661139263020937
Validation class accuracies: [0.9642857142857143, 0.024305555555555556]
The clause is activated.
The training is defaulting to either class.
Epoch 43/80
357/357 - 498s - loss: 0.0026 - accuracy: 0.9991 - val_loss: 3.5050 - val_accuracy: 0.7118
Confusion matrix: 
 [[756  28]
 [281   7]]
Normalized Confusion matrix: 
 [[0.96428571 0.03571429]
 [0.97569444 0.02430556]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 4.33
Validation accuracy: 71.18
Validation recall: 2.43
Validation precision: 20.00
Validation AUC: 0.2632801187361464
Validation class accuracies: [0.9642857142857143, 0.024305555555555556]
local_gc_exec.sh: line 6: 28447 Killed                  python -m models.$MODULE_NAME --train-file $LOCAL_TRAIN_FILE --job-dir $LOCAL_JOB_DIR --params "$PARAMS" --wav-params "$WAV_PARAMS" --spec-params "$SPEC_PARAMS"

 See logs at ../../new_cache/conv__2191__06_1450__v29__2190_withcyclical/logs//home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/multiprocessing/semaphore_tracker.py:144: UserWarning: semaphore_tracker: There appear to be 6 leaked semaphores to clean up at shutdown
  len(cache))
