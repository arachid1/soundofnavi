Category:  coch
Dataset:  all_sw_coch_preprocessed_v2_param_v29_augm_v0_cleaned_8000.pkl
File:  conv.train2205
Description:  new_lstm
2021-06-08 18:35:47.527933: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcudart.so.11.0
WARNING:tensorflow:From /home/alirachidi/classification_algorithm/trainers/main/models/conv/modules/augmentation.py:19: experimental_run_functions_eagerly (from tensorflow.python.eager.def_function) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.config.run_functions_eagerly` instead of the experimental version.
2021-06-08 18:35:50.123111: I tensorflow/compiler/jit/xla_cpu_device.cc:41] Not creating XLA devices, tf_xla_enable_xla_devices not set
2021-06-08 18:35:50.124188: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcuda.so.1
2021-06-08 18:35:50.133861: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-08 18:35:50.134614: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1720] Found device 0 with properties: 
pciBusID: 0000:00:04.0 name: Tesla V100-SXM2-16GB computeCapability: 7.0
coreClock: 1.53GHz coreCount: 80 deviceMemorySize: 15.78GiB deviceMemoryBandwidth: 836.37GiB/s
2021-06-08 18:35:50.134646: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcudart.so.11.0
2021-06-08 18:35:50.138708: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcublas.so.11
2021-06-08 18:35:50.138792: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcublasLt.so.11
2021-06-08 18:35:50.140093: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcufft.so.10
2021-06-08 18:35:50.140442: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcurand.so.10
2021-06-08 18:35:50.141479: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcusolver.so.10
2021-06-08 18:35:50.142372: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcusparse.so.11
2021-06-08 18:35:50.142535: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcudnn.so.8
2021-06-08 18:35:50.142644: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-08 18:35:50.143374: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-08 18:35:50.143986: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1862] Adding visible gpu devices: 0
Tensorflow Version: 2.4.0
Num GPUs Available:  1
-----------------------
Using module: nv/train2205.py
Using train_file: ../../data/datasets/all_sw_coch_preprocessed_v2_param_v29_augm_v0_cleaned_8000.pkl
Job directory: ../../new_cache/conv__2205__06_1835__v29__new_lstm
Parameters: {'N_CLASSES': 1, 'SR': 8000, 'BATCH_SIZE': 32, 'LR': 0.001, 'SHAPE': [128, 1250], 'LL2_REG': 0, 'WEIGHT_DECAY': 0.001, 'N_EPOCHS': 50, 'FACTOR': 0.5, 'PATIENCE': 4, 'MIN_LR': 1e-07, 'LABEL_SMOOTHING': 0, 'EPSILON': 1e-07, 'ES_PATIENCE': 40, 'OVERSAMPLE': 0, 'MIN_DELTA': 0, 'PARAM': 'v29', 'EPOCH_START': 1, 'CLAUSE': 0, 'CUBEROOTING': 1, 'AUGMENTATION': 0, 'TARGET': 1, 'INITIAL_CHANNELS': 1, 'ADAPTIVE_LR': 1, 'CLASS_WEIGHTS': 1, 'SIX': 0, 'CONCAT': 0, 'TESTING': 0}
Augmentation parameters for audio: {'ADD': 1, 'QUANTITY': 250, 'WAV_PATH': 'v36,v37'}
Augmentation parameters for spectrograms: {'ADD': 1, 'QUANTITY': 150, 'TIME_MASKING': 1, 'FREQUENCY_MASKING': 1, 'LOUDNESS': 0}
-----------------------
Collecting Variables...
All variables have been collected.
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow_addons/utils/ensure_tf_install.py:68: UserWarning: Tensorflow Addons supports using Python ops for all Tensorflow versions above or equal to 2.2.0 and strictly below 2.3.0 (nightly versions are not supported). 
 The versions of TensorFlow you are currently using is 2.4.0 and is not supported. 
Some things might work, some things might not.
If you were to encounter a bug, do not file an issue.
If you want to make sure you're using a tested and supported configuration, either change the TensorFlow version or the TensorFlow Addons's version. 
You can find the compatibility matrix in TensorFlow Addon's readme:
https://github.com/tensorflow/addons
  UserWarning,
wandb: W&B syncing is set to `offline` in this directory.  Run `wandb online` or set WANDB_MODE=online to enable cloud syncing.
2021-06-08 18:36:34.705748: I tensorflow/compiler/jit/xla_gpu_device.cc:99] Not creating XLA devices, tf_xla_enable_xla_devices not set
2021-06-08 18:36:34.706038: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-08 18:36:34.706646: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1720] Found device 0 with properties: 
pciBusID: 0000:00:04.0 name: Tesla V100-SXM2-16GB computeCapability: 7.0
coreClock: 1.53GHz coreCount: 80 deviceMemorySize: 15.78GiB deviceMemoryBandwidth: 836.37GiB/s
2021-06-08 18:36:34.706690: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcudart.so.11.0
2021-06-08 18:36:34.706754: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcublas.so.11
2021-06-08 18:36:34.706774: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcublasLt.so.11
2021-06-08 18:36:34.706794: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcufft.so.10
2021-06-08 18:36:34.706812: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcurand.so.10
2021-06-08 18:36:34.706831: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcusolver.so.10
2021-06-08 18:36:34.706858: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcusparse.so.11
2021-06-08 18:36:34.706876: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcudnn.so.8
2021-06-08 18:36:34.706961: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-08 18:36:34.707614: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-08 18:36:34.708273: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1862] Adding visible gpu devices: 0
2021-06-08 18:36:34.708325: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcudart.so.11.0
2021-06-08 18:36:35.383962: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1261] Device interconnect StreamExecutor with strength 1 edge matrix:
2021-06-08 18:36:35.384015: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1267]      0 
2021-06-08 18:36:35.384024: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1280] 0:   N 
2021-06-08 18:36:35.384326: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-08 18:36:35.385026: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-08 18:36:35.385649: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:941] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2021-06-08 18:36:35.386251: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1406] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 14760 MB memory) -> physical GPU (device: 0, name: Tesla V100-SXM2-16GB, pci bus id: 0000:00:04.0, compute capability: 7.0)
2021-06-08 18:36:37.314022: I tensorflow/compiler/mlir/mlir_graph_optimization_pass.cc:116] None of the MLIR optimization passes are enabled (registered 2)
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
2021-06-08 18:36:37.315644: I tensorflow/core/platform/profile_utils/cpu_utils.cc:112] CPU Frequency: 2299995000 Hz
2021-06-08 18:36:37.950082: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcudnn.so.8
2021-06-08 18:36:39.883218: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcublas.so.11
2021-06-08 18:36:40.224666: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library libcublasLt.so.11
Original number of folders: 453
Pneumonia patients: 109, Non-pneumonia patients: 270
-----------------------
Number of train recordings: 4212 with pneumonia: 1080 and non-pneumonia: 3132
Number of val recordings: 1072 with pneumonia: 288 and non-pneumonia: 784
-----------------------
The initial learning rate for this job is: 0.001
Initializing weights...
weights = {0: 0.6724137931034483, 1: 1.95}
Model: "conv2d"
______________________________________________________________________________________________________________
Layer (type)                        Output Shape            Param #      Connected to                         
==============================================================================================================
input_1 (InputLayer)                [(None, 5, 250, 128, 1) 0                                                 
______________________________________________________________________________________________________________
batch_normalization (BatchNormaliza (None, 5, 250, 128, 1)  4            input_1[0][0]                        
______________________________________________________________________________________________________________
time_distributed (TimeDistributed)  (None, 5, 250, 128, 16) 32           batch_normalization[0][0]            
______________________________________________________________________________________________________________
time_distributed_2 (TimeDistributed (None, 5, 250, 128, 16) 32           batch_normalization[0][0]            
______________________________________________________________________________________________________________
time_distributed_4 (TimeDistributed (None, 5, 250, 128, 1)  0            batch_normalization[0][0]            
______________________________________________________________________________________________________________
time_distributed_1 (TimeDistributed (None, 5, 250, 128, 16) 2320         time_distributed[0][0]               
______________________________________________________________________________________________________________
time_distributed_3 (TimeDistributed (None, 5, 250, 128, 16) 6416         time_distributed_2[0][0]             
______________________________________________________________________________________________________________
time_distributed_5 (TimeDistributed (None, 5, 250, 128, 16) 32           time_distributed_4[0][0]             
______________________________________________________________________________________________________________
concatenate (Concatenate)           (None, 5, 250, 128, 48) 0            time_distributed_1[0][0]             
                                                                         time_distributed_3[0][0]             
                                                                         time_distributed_5[0][0]             
______________________________________________________________________________________________________________
time_distributed_6 (TimeDistributed (None, 5, 125, 64, 48)  0            concatenate[0][0]                    
______________________________________________________________________________________________________________
batch_normalization_1 (BatchNormali (None, 5, 125, 64, 48)  192          time_distributed_6[0][0]             
______________________________________________________________________________________________________________
dropout (Dropout)                   (None, 5, 125, 64, 48)  0            batch_normalization_1[0][0]          
______________________________________________________________________________________________________________
time_distributed_7 (TimeDistributed (None, 5, 125, 64, 48)  1242         dropout[0][0]                        
______________________________________________________________________________________________________________
time_distributed_8 (TimeDistributed (None, 5, 125, 64, 48)  1242         time_distributed_7[0][0]             
______________________________________________________________________________________________________________
time_distributed_9 (TimeDistributed (None, 5, 48)           0            time_distributed_8[0][0]             
______________________________________________________________________________________________________________
bidirectional (Bidirectional)       (None, 5, 128)          57856        time_distributed_9[0][0]             
______________________________________________________________________________________________________________
bidirectional_1 (Bidirectional)     (None, 128)             98816        bidirectional[0][0]                  
______________________________________________________________________________________________________________
dense (Dense)                       (None, 64)              8256         bidirectional_1[0][0]                
______________________________________________________________________________________________________________
dense_1 (Dense)                     (None, 1)               65           dense[0][0]                          
==============================================================================================================
Total params: 176,505
Trainable params: 176,407
Non-trainable params: 98
______________________________________________________________________________________________________________
Epoch 1/50
132/132 - 100s - loss: 0.6932 - accuracy: 0.5342 - val_loss: 0.6838 - val_accuracy: 0.7332
Confusion matrix: 
 [[784   0]
 [286   2]]
Normalized Confusion matrix: 
 [[1.    0.   ]
 [0.993 0.007]]
Validation f1: 1.38
Validation accuracy: 73.32
Validation recall: 0.69
Validation precision: 100.00
Validation AUC: 0.33838498053344396
Validation class accuracies: [1.0, 0.006944444444444444]
Saving model...
Epoch 2/50
132/132 - 95s - loss: 0.6916 - accuracy: 0.5541 - val_loss: 0.6220 - val_accuracy: 0.7323
Confusion matrix: 
 [[781   3]
 [284   4]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.996 0.004]
 [0.986 0.014]]
Validation f1: 2.71
Validation accuracy: 73.23
Validation recall: 1.39
Validation precision: 57.14
Validation AUC: 0.34180398781537574
Validation class accuracies: [0.9961734693877551, 0.013888888888888888]
Saving model...
Epoch 3/50
132/132 - 94s - loss: 0.6900 - accuracy: 0.5347 - val_loss: 0.6572 - val_accuracy: 0.6586
Confusion matrix: 
 [[599 185]
 [181 107]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.764 0.236]
 [0.628 0.372]]
Validation f1: 36.90
Validation accuracy: 65.86
Validation recall: 37.15
Validation precision: 36.64
Validation AUC: 0.33962701511740273
Validation class accuracies: [0.764030612244898, 0.3715277777777778]
Saving model...
Epoch 4/50
132/132 - 93s - loss: 0.6884 - accuracy: 0.4929 - val_loss: 0.6873 - val_accuracy: 0.5550
Confusion matrix: 
 [[394 390]
 [ 87 201]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.503 0.497]
 [0.302 0.698]]
Validation f1: 45.73
Validation accuracy: 55.50
Validation recall: 69.79
Validation precision: 34.01
Validation AUC: 0.3367962851743261
Validation class accuracies: [0.5025510204081632, 0.6979166666666666]
Saving model...
Epoch 5/50
132/132 - 94s - loss: 0.6865 - accuracy: 0.5396 - val_loss: 0.7294 - val_accuracy: 0.4114
Confusion matrix: 
 [[195 589]
 [ 42 246]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.249 0.751]
 [0.146 0.854]]
Validation f1: 43.81
Validation accuracy: 41.14
Validation recall: 85.42
Validation precision: 29.46
Validation AUC: 0.3393988276606817
Validation class accuracies: [0.24872448979591838, 0.8541666666666666]
The validation tracker metric at 0.45733788395904446 hasn't increased by 0 in 1 epochs
Epoch 6/50
132/132 - 94s - loss: 0.6872 - accuracy: 0.5043 - val_loss: 0.6784 - val_accuracy: 0.5709
Confusion matrix: 
 [[416 368]
 [ 92 196]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.531 0.469]
 [0.319 0.681]]
Validation f1: 46.01
Validation accuracy: 57.09
Validation recall: 68.06
Validation precision: 34.75
Validation AUC: 0.33879951730761987
Validation class accuracies: [0.5306122448979592, 0.6805555555555556]
Saving model...
Epoch 7/50
132/132 - 96s - loss: 0.6878 - accuracy: 0.5081 - val_loss: 0.6993 - val_accuracy: 0.4981
Confusion matrix: 
 [[317 467]
 [ 71 217]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.404 0.596]
 [0.247 0.753]]
Validation f1: 44.65
Validation accuracy: 49.81
Validation recall: 75.35
Validation precision: 31.73
Validation AUC: 0.3364683296775132
Validation class accuracies: [0.40433673469387754, 0.7534722222222222]
The validation tracker metric at 0.46009389671361506 hasn't increased by 0 in 1 epochs
Epoch 8/50
132/132 - 95s - loss: 0.6850 - accuracy: 0.5297 - val_loss: 0.6560 - val_accuracy: 0.6203
Confusion matrix: 
 [[524 260]
 [147 141]]
Normalized Confusion matrix: 
 [[0.668 0.332]
 [0.51  0.49 ]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Validation f1: 40.93
Validation accuracy: 62.03
Validation recall: 48.96
Validation precision: 35.16
Validation AUC: 0.3384086495422759
Validation class accuracies: [0.6683673469387755, 0.4895833333333333]
The validation tracker metric at 0.46009389671361506 hasn't increased by 0 in 2 epochs
Epoch 9/50
132/132 - 97s - loss: 0.6838 - accuracy: 0.5052 - val_loss: 0.6550 - val_accuracy: 0.6353
Confusion matrix: 
 [[545 239]
 [152 136]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.695 0.305]
 [0.528 0.472]]
Validation f1: 41.03
Validation accuracy: 63.53
Validation recall: 47.22
Validation precision: 36.27
Validation AUC: 0.33935796081747016
Validation class accuracies: [0.6951530612244898, 0.4722222222222222]
The validation tracker metric at 0.46009389671361506 hasn't increased by 0 in 3 epochs
Epoch 10/50
132/132 - 95s - loss: 0.6835 - accuracy: 0.5475 - val_loss: 0.6884 - val_accuracy: 0.5420
Confusion matrix: 
 [[376 408]
 [ 83 205]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.48  0.52 ]
 [0.288 0.712]]
Validation f1: 45.50
Validation accuracy: 54.20
Validation recall: 71.18
Validation precision: 33.44
Validation AUC: 0.3385683810878021
Validation class accuracies: [0.47959183673469385, 0.7118055555555556]
The validation tracker metric at 0.46009389671361506 hasn't increased by 0 in 4 epochs
Lr has been adjusted to 0.0005000000237487257
Epoch 11/50
132/132 - 96s - loss: 0.6839 - accuracy: 0.5083 - val_loss: 0.6851 - val_accuracy: 0.5513
Confusion matrix: 
 [[394 390]
 [ 91 197]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.503 0.497]
 [0.316 0.684]]
Validation f1: 45.03
Validation accuracy: 55.13
Validation recall: 68.40
Validation precision: 33.56
Validation AUC: 0.3379333519394486
Validation class accuracies: [0.5025510204081632, 0.6840277777777778]
The validation tracker metric at 0.46009389671361506 hasn't increased by 0 in 5 epochs
Epoch 12/50
132/132 - 96s - loss: 0.6816 - accuracy: 0.5240 - val_loss: 0.6572 - val_accuracy: 0.6119
Confusion matrix: 
 [[508 276]
 [140 148]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.648 0.352]
 [0.486 0.514]]
Validation f1: 41.57
Validation accuracy: 61.19
Validation recall: 51.39
Validation precision: 34.91
Validation AUC: 0.33799696372302873
Validation class accuracies: [0.6479591836734694, 0.5138888888888888]
The validation tracker metric at 0.46009389671361506 hasn't increased by 0 in 6 epochs
Epoch 13/50
132/132 - 96s - loss: 0.6815 - accuracy: 0.5335 - val_loss: 0.6617 - val_accuracy: 0.6091
Confusion matrix: 
 [[510 274]
 [145 143]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.651 0.349]
 [0.503 0.497]]
Validation f1: 40.57
Validation accuracy: 60.91
Validation recall: 49.65
Validation precision: 34.29
Validation AUC: 0.33639214996978395
Validation class accuracies: [0.6505102040816326, 0.4965277777777778]
The validation tracker metric at 0.46009389671361506 hasn't increased by 0 in 7 epochs
Epoch 14/50
132/132 - 98s - loss: 0.6810 - accuracy: 0.5418 - val_loss: 0.6761 - val_accuracy: 0.5718
Confusion matrix: 
 [[439 345]
 [114 174]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.56  0.44 ]
 [0.396 0.604]]
Validation f1: 43.12
Validation accuracy: 57.18
Validation recall: 60.42
Validation precision: 33.53
Validation AUC: 0.3351569490704826
Validation class accuracies: [0.5599489795918368, 0.6041666666666666]
The validation tracker metric at 0.46009389671361506 hasn't increased by 0 in 8 epochs
Lr has been adjusted to 0.0002500000118743628
Epoch 15/50
132/132 - 96s - loss: 0.6806 - accuracy: 0.5197 - val_loss: 0.6617 - val_accuracy: 0.6185
Confusion matrix: 
 [[535 249]
 [160 128]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.682 0.318]
 [0.556 0.444]]
Validation f1: 38.50
Validation accuracy: 61.85
Validation recall: 44.44
Validation precision: 33.95
Validation AUC: 0.33452296811466814
Validation class accuracies: [0.6823979591836735, 0.4444444444444444]
The validation tracker metric at 0.46009389671361506 hasn't increased by 0 in 9 epochs
Epoch 16/50
132/132 - 96s - loss: 0.6795 - accuracy: 0.5715 - val_loss: 0.6625 - val_accuracy: 0.6082
Confusion matrix: 
 [[510 274]
 [146 142]]
/home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/site-packages/tensorflow/python/data/ops/dataset_ops.py:3504: UserWarning: Even though the tf.config.experimental_run_functions_eagerly option is set, this option does not apply to tf.data functions. tf.data functions are still traced and executed as graphs.
  "Even though the tf.config.experimental_run_functions_eagerly "
Normalized Confusion matrix: 
 [[0.651 0.349]
 [0.507 0.493]]
Validation f1: 40.34
Validation accuracy: 60.82
Validation recall: 49.31
Validation precision: 34.13
Validation AUC: 0.33435571851932755
Validation class accuracies: [0.6505102040816326, 0.4930555555555556]
local_gc_exec.sh: line 6:  4200 Killed                  python -m models.$MODULE_NAME --train-file $LOCAL_TRAIN_FILE --job-dir $LOCAL_JOB_DIR --params "$PARAMS" --wav-params "$WAV_PARAMS" --spec-params "$SPEC_PARAMS"

 See logs at ../../new_cache/conv__2205__06_1835__v29__new_lstm/logs//home/alirachidi/anaconda3/envs/LungSoundClass/lib/python3.7/multiprocessing/semaphore_tracker.py:144: UserWarning: semaphore_tracker: There appear to be 6 leaked semaphores to clean up at shutdown
  len(cache))
